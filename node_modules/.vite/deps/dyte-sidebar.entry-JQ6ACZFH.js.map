{
  "version": 3,
  "sources": ["../../@dytesdk/ui-kit/dist/esm/dyte-sidebar.entry.js"],
  "sourcesContent": ["import { r as registerInstance, c as createEvent, h, H as Host } from './index-08f4416b.js';\nimport { d as defaultConfig, a as defaultIconPack, c as useLanguage } from './ui-store-9dd5dd86.js';\nimport { c as canViewChat, d as canViewPolls, a as canViewParticipants, b as canViewPlugins } from './sidebar-17cf5f23.js';\nimport { S as SyncWithStore } from './index-39fa23f1.js';\nimport { R as Render } from './index-e2bee3ae.js';\n\nconst dyteSidebarCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{height:100%;width:100%;max-width:var(--dyte-space-96, 384px);box-sizing:border-box;display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));border-width:var(--dyte-border-width-sm, 1px);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-border-opacity))}:host([view='sidebar']){right:var(--dyte-space-2, 8px);overflow:clip;border-radius:var(--dyte-border-radius-lg, 12px);--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);--tw-shadow-color:rgb(var(--dyte-colors-background-900, 26 26 26));--tw-shadow:var(--tw-shadow-colored)}:host([view='full-screen']){top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);max-width:100%}:host(.floating){position:absolute !important;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);left:auto;z-index:50}.pinned-state{position:absolute;right:var(--dyte-space-1, 4px);display:inline-flex;width:var(--dyte-space-2, 8px);justify-content:flex-end}\";\nconst DyteSidebarStyle0 = dyteSidebarCss;\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteSidebar = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        /** Enabled sections in sidebar */\n        this.enabledSections = [];\n        /** Default section */\n        this.defaultSection = 'chat';\n        /** Config */\n        this.config = defaultConfig;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** View type */\n        this.view = 'sidebar';\n        this.currentTab = this.defaultSection;\n        this.isFloating = false;\n        this.enablePinning = true;\n        this.getTabs = () => {\n            if (!this.meeting.self.config) {\n                return this.enabledSections;\n            }\n            return this.enabledSections.filter((section) => this.meeting.self.config.controlBar.elements[section.id]);\n        };\n        this.close = () => {\n            this.stateUpdate.emit({ activeSidebar: false, sidebar: this.defaultSection });\n        };\n        this.toggleFloating = () => {\n            this.isFloating = !this.isFloating;\n        };\n    }\n    connectedCallback() {\n        var _a;\n        this.viewChanged(this.view);\n        this.statesChanged(this.states);\n        this.meetingChanged(this.meeting);\n        this.isFloating = ((_a = this.states) === null || _a === void 0 ? void 0 : _a.sidebarFloating) || false;\n    }\n    disconnectedCallback() {\n        var _a, _b;\n        document.removeEventListener('keydown', this.keydownListener);\n        (_b = (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.stage) === null || _b === void 0 ? void 0 : _b.removeListener('stageStatusUpdate', this.onStageStatusUpdate);\n        this.onStageStatusUpdate = null;\n    }\n    meetingChanged(meeting) {\n        var _a, _b;\n        this.updateEnabledSections(meeting);\n        this.onStageStatusUpdate = (_status) => {\n            this.updateEnabledSections(this.meeting);\n        };\n        (_b = (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.stage) === null || _b === void 0 ? void 0 : _b.on('stageStatusUpdate', this.onStageStatusUpdate);\n    }\n    statesChanged(s) {\n        const states = s;\n        if (states === null || states === void 0 ? void 0 : states.sidebar) {\n            this.currentTab = states.sidebar;\n        }\n    }\n    viewChanged(view) {\n        if (view === 'full-screen') {\n            this.enablePinning = false;\n            this.keydownListener = (e) => {\n                if (e.key === 'Escape') {\n                    this.close();\n                }\n            };\n            document.addEventListener('keydown', this.keydownListener);\n        }\n        else {\n            this.enablePinning = true;\n        }\n    }\n    viewSection(section) {\n        this.currentTab = section;\n        this.stateUpdate.emit({ activeSidebar: true, sidebar: this.currentTab });\n    }\n    updateEnabledSections(meeting = this.meeting) {\n        const list = [];\n        if (canViewChat(meeting)) {\n            list.push({ id: 'chat', name: this.t('chat') });\n        }\n        if (canViewPolls(meeting)) {\n            list.push({ id: 'polls', name: this.t('polls') });\n        }\n        if (canViewParticipants(meeting)) {\n            list.push({ id: 'participants', name: this.t('participants') });\n        }\n        if (canViewPlugins(meeting)) {\n            list.push({ id: 'plugins', name: this.t('plugins') });\n        }\n        this.enabledSections = list;\n    }\n    render() {\n        var _a;\n        const defaults = {\n            meeting: this.meeting,\n            config: this.config,\n            states: this.states,\n            size: this.size,\n            t: this.t,\n            iconPack: this.iconPack,\n        };\n        // NOTE(ishita1805): This makes it easier to use the sidebar component in isolation.\n        if (((_a = defaults.states) === null || _a === void 0 ? void 0 : _a.activeSidebar) === false || !this.currentTab) {\n            return null;\n        }\n        return (h(Host, { class: this.enablePinning ? (this.isFloating ? 'floating' : '') : 'floating' }, h(\"dyte-sidebar-ui\", { tabs: this.getTabs(), currentTab: this.currentTab, view: this.view, onTabChange: (e) => {\n                this.viewSection(e.detail);\n            }, onSidebarClose: this.close }, this.enablePinning && (h(\"div\", { class: \"pinned-state\", slot: \"pinned-state\" }, h(\"dyte-button\", { variant: \"ghost\", kind: \"icon\", onClick: this.toggleFloating, \"aria-label\": this.isFloating ? this.t('pin') : this.t('unpin') }, h(\"dyte-icon\", { icon: this.isFloating ? this.iconPack.pin : this.iconPack.pin_off })))), defaults.states.sidebar === 'chat' && (h(Render, { element: \"dyte-chat\", defaults: defaults, props: { slot: 'chat' } })), defaults.states.sidebar === 'polls' && h(\"dyte-polls\", Object.assign({}, defaults, { slot: \"polls\" })), defaults.states.sidebar === 'participants' && (h(Render, { element: \"dyte-participants\", defaults: defaults, props: { slot: 'participants' } })), defaults.states.sidebar === 'plugins' && h(\"dyte-plugins\", Object.assign({}, defaults, { slot: \"plugins\" })))));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"],\n        \"states\": [\"statesChanged\"],\n        \"view\": [\"viewChanged\"]\n    }; }\n};\n__decorate([\n    SyncWithStore()\n], DyteSidebar.prototype, \"meeting\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteSidebar.prototype, \"states\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteSidebar.prototype, \"iconPack\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteSidebar.prototype, \"t\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteSidebar.prototype, \"size\", void 0);\nDyteSidebar.style = DyteSidebarStyle0;\n\nexport { DyteSidebar as dyte_sidebar };\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAMA,IAAM,iBAAiB;AACvB,IAAM,oBAAoB;AAE1B,IAAI,aAAoD,SAAU,YAAY,QAAQ,KAAK,MAAM;AAC7F,MAAI,IAAI,UAAU,QAAQ,IAAI,IAAI,IAAI,SAAS,SAAS,OAAO,OAAO,OAAO,yBAAyB,QAAQ,GAAG,IAAI,MAAM;AAC3H,MAAI,OAAO,YAAY,YAAY,OAAO,QAAQ,aAAa;AAC3D,QAAI,QAAQ,SAAS,YAAY,QAAQ,KAAK,IAAI;AAAA;AAElD,aAAS,IAAI,WAAW,SAAS,GAAG,KAAK,GAAG;AACxC,UAAI,IAAI,WAAW,CAAC;AAChB,aAAK,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,IAAI,EAAE,QAAQ,KAAK,CAAC,IAAI,EAAE,QAAQ,GAAG,MAAM;AAC/E,SAAO,IAAI,KAAK,KAAK,OAAO,eAAe,QAAQ,KAAK,CAAC,GAAG;AAChE;AACA,IAAM,cAAc,MAAM;AAAA,EACtB,YAAY,SAAS;AACjB,qBAAiB,MAAM,OAAO;AAC9B,SAAK,cAAc,YAAY,MAAM,mBAAmB,CAAC;AAEzD,SAAK,kBAAkB,CAAC;AAExB,SAAK,iBAAiB;AAEtB,SAAK,SAAS;AAEd,SAAK,WAAW;AAEhB,SAAK,IAAI,YAAY;AAErB,SAAK,OAAO;AACZ,SAAK,aAAa,KAAK;AACvB,SAAK,aAAa;AAClB,SAAK,gBAAgB;AACrB,SAAK,UAAU,MAAM;AACjB,UAAI,CAAC,KAAK,QAAQ,KAAK,QAAQ;AAC3B,eAAO,KAAK;AAAA,MAChB;AACA,aAAO,KAAK,gBAAgB,OAAO,CAAC,YAAY,KAAK,QAAQ,KAAK,OAAO,WAAW,SAAS,QAAQ,EAAE,CAAC;AAAA,IAC5G;AACA,SAAK,QAAQ,MAAM;AACf,WAAK,YAAY,KAAK,EAAE,eAAe,OAAO,SAAS,KAAK,eAAe,CAAC;AAAA,IAChF;AACA,SAAK,iBAAiB,MAAM;AACxB,WAAK,aAAa,CAAC,KAAK;AAAA,IAC5B;AAAA,EACJ;AAAA,EACA,oBAAoB;AAChB,QAAI;AACJ,SAAK,YAAY,KAAK,IAAI;AAC1B,SAAK,cAAc,KAAK,MAAM;AAC9B,SAAK,eAAe,KAAK,OAAO;AAChC,SAAK,eAAe,KAAK,KAAK,YAAY,QAAQ,OAAO,SAAS,SAAS,GAAG,oBAAoB;AAAA,EACtG;AAAA,EACA,uBAAuB;AACnB,QAAI,IAAI;AACR,aAAS,oBAAoB,WAAW,KAAK,eAAe;AAC5D,KAAC,MAAM,KAAK,KAAK,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG,eAAe,qBAAqB,KAAK,mBAAmB;AAC7K,SAAK,sBAAsB;AAAA,EAC/B;AAAA,EACA,eAAe,SAAS;AACpB,QAAI,IAAI;AACR,SAAK,sBAAsB,OAAO;AAClC,SAAK,sBAAsB,CAAC,YAAY;AACpC,WAAK,sBAAsB,KAAK,OAAO;AAAA,IAC3C;AACA,KAAC,MAAM,KAAK,KAAK,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,WAAW,QAAQ,OAAO,SAAS,SAAS,GAAG,GAAG,qBAAqB,KAAK,mBAAmB;AAAA,EACrK;AAAA,EACA,cAAc,GAAG;AACb,UAAM,SAAS;AACf,QAAI,WAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,SAAS;AAChE,WAAK,aAAa,OAAO;AAAA,IAC7B;AAAA,EACJ;AAAA,EACA,YAAY,MAAM;AACd,QAAI,SAAS,eAAe;AACxB,WAAK,gBAAgB;AACrB,WAAK,kBAAkB,CAAC,MAAM;AAC1B,YAAI,EAAE,QAAQ,UAAU;AACpB,eAAK,MAAM;AAAA,QACf;AAAA,MACJ;AACA,eAAS,iBAAiB,WAAW,KAAK,eAAe;AAAA,IAC7D,OACK;AACD,WAAK,gBAAgB;AAAA,IACzB;AAAA,EACJ;AAAA,EACA,YAAY,SAAS;AACjB,SAAK,aAAa;AAClB,SAAK,YAAY,KAAK,EAAE,eAAe,MAAM,SAAS,KAAK,WAAW,CAAC;AAAA,EAC3E;AAAA,EACA,sBAAsB,UAAU,KAAK,SAAS;AAC1C,UAAM,OAAO,CAAC;AACd,QAAI,YAAY,OAAO,GAAG;AACtB,WAAK,KAAK,EAAE,IAAI,QAAQ,MAAM,KAAK,EAAE,MAAM,EAAE,CAAC;AAAA,IAClD;AACA,QAAI,aAAa,OAAO,GAAG;AACvB,WAAK,KAAK,EAAE,IAAI,SAAS,MAAM,KAAK,EAAE,OAAO,EAAE,CAAC;AAAA,IACpD;AACA,QAAI,oBAAoB,OAAO,GAAG;AAC9B,WAAK,KAAK,EAAE,IAAI,gBAAgB,MAAM,KAAK,EAAE,cAAc,EAAE,CAAC;AAAA,IAClE;AACA,QAAI,eAAe,OAAO,GAAG;AACzB,WAAK,KAAK,EAAE,IAAI,WAAW,MAAM,KAAK,EAAE,SAAS,EAAE,CAAC;AAAA,IACxD;AACA,SAAK,kBAAkB;AAAA,EAC3B;AAAA,EACA,SAAS;AACL,QAAI;AACJ,UAAM,WAAW;AAAA,MACb,SAAS,KAAK;AAAA,MACd,QAAQ,KAAK;AAAA,MACb,QAAQ,KAAK;AAAA,MACb,MAAM,KAAK;AAAA,MACX,GAAG,KAAK;AAAA,MACR,UAAU,KAAK;AAAA,IACnB;AAEA,UAAM,KAAK,SAAS,YAAY,QAAQ,OAAO,SAAS,SAAS,GAAG,mBAAmB,SAAS,CAAC,KAAK,YAAY;AAC9G,aAAO;AAAA,IACX;AACA,WAAQ,EAAE,MAAM,EAAE,OAAO,KAAK,gBAAiB,KAAK,aAAa,aAAa,KAAM,WAAW,GAAG,EAAE,mBAAmB,EAAE,MAAM,KAAK,QAAQ,GAAG,YAAY,KAAK,YAAY,MAAM,KAAK,MAAM,aAAa,CAAC,MAAM;AACzM,WAAK,YAAY,EAAE,MAAM;AAAA,IAC7B,GAAG,gBAAgB,KAAK,MAAM,GAAG,KAAK,iBAAkB,EAAE,OAAO,EAAE,OAAO,gBAAgB,MAAM,eAAe,GAAG,EAAE,eAAe,EAAE,SAAS,SAAS,MAAM,QAAQ,SAAS,KAAK,gBAAgB,cAAc,KAAK,aAAa,KAAK,EAAE,KAAK,IAAI,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,aAAa,EAAE,MAAM,KAAK,aAAa,KAAK,SAAS,MAAM,KAAK,SAAS,QAAQ,CAAC,CAAC,CAAC,GAAI,SAAS,OAAO,YAAY,UAAW,EAAE,QAAQ,EAAE,SAAS,aAAa,UAAoB,OAAO,EAAE,MAAM,OAAO,EAAE,CAAC,GAAI,SAAS,OAAO,YAAY,WAAW,EAAE,cAAc,OAAO,OAAO,CAAC,GAAG,UAAU,EAAE,MAAM,QAAQ,CAAC,CAAC,GAAG,SAAS,OAAO,YAAY,kBAAmB,EAAE,QAAQ,EAAE,SAAS,qBAAqB,UAAoB,OAAO,EAAE,MAAM,eAAe,EAAE,CAAC,GAAI,SAAS,OAAO,YAAY,aAAa,EAAE,gBAAgB,OAAO,OAAO,CAAC,GAAG,UAAU,EAAE,MAAM,UAAU,CAAC,CAAC,CAAC,CAAC;AAAA,EACz0B;AAAA,EACA,WAAW,WAAW;AAAE,WAAO;AAAA,MAC3B,WAAW,CAAC,gBAAgB;AAAA,MAC5B,UAAU,CAAC,eAAe;AAAA,MAC1B,QAAQ,CAAC,aAAa;AAAA,IAC1B;AAAA,EAAG;AACP;AACA,WAAW;AAAA,EACP,cAAc;AAClB,GAAG,YAAY,WAAW,WAAW,MAAM;AAC3C,WAAW;AAAA,EACP,cAAc;AAClB,GAAG,YAAY,WAAW,UAAU,MAAM;AAC1C,WAAW;AAAA,EACP,cAAc;AAClB,GAAG,YAAY,WAAW,YAAY,MAAM;AAC5C,WAAW;AAAA,EACP,cAAc;AAClB,GAAG,YAAY,WAAW,KAAK,MAAM;AACrC,WAAW;AAAA,EACP,cAAc;AAClB,GAAG,YAAY,WAAW,QAAQ,MAAM;AACxC,YAAY,QAAQ;",
  "names": []
}
