{
  "version": 3,
  "sources": ["../../@dytesdk/ui-kit/dist/esm/dyte-clock.entry.js"],
  "sourcesContent": ["import { r as registerInstance, h, H as Host } from './index-08f4416b.js';\nimport { a as defaultIconPack } from './ui-store-9dd5dd86.js';\nimport { S as SyncWithStore } from './index-39fa23f1.js';\n\nconst dyteClockCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);display:inline-flex;align-items:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255));font-variant-numeric:tabular-nums}:host([size='sm']){margin-left:var(--dyte-space-1, 4px);margin-right:var(--dyte-space-1, 4px);font-size:12px}dyte-icon{margin-right:var(--dyte-space-1, 4px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}:host([size='sm']) dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}\";\nconst DyteClockStyle0 = dyteClockCss;\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst addZero = (n) => Math.trunc(n).toString().padStart(2, '0');\nconst DyteClock = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        this.disconnectMeeting = () => {\n            var _a, _b;\n            this.timeout && clearTimeout(this.timeout);\n            typeof this.request === 'number' && cancelAnimationFrame(this.request);\n            (_b = (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.meta) === null || _b === void 0 ? void 0 : _b.removeListener('meetingStartTimeUpdate', this.startedTimeUpdateListener);\n        };\n        this.startedTimeUpdateListener = () => {\n            var _a, _b, _c;\n            this.startedTime = (_c = (_b = (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.meta) === null || _b === void 0 ? void 0 : _b.meetingStartedTimestamp) === null || _c === void 0 ? void 0 : _c.toISOString();\n        };\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n    }\n    disconnectedCallback() {\n        this.disconnectMeeting();\n    }\n    meetingChanged(meeting) {\n        var _a, _b, _c;\n        this.disconnectMeeting();\n        if (meeting != null) {\n            this.startedTime = (_b = (_a = meeting.meta) === null || _a === void 0 ? void 0 : _a.meetingStartedTimestamp) === null || _b === void 0 ? void 0 : _b.toISOString();\n            (_c = meeting.meta) === null || _c === void 0 ? void 0 : _c.addListener('meetingStartTimeUpdate', this.startedTimeUpdateListener);\n        }\n    }\n    startedTimeChanged(startedTime) {\n        if (startedTime !== undefined) {\n            const animate = () => {\n                this.timeDiff = (Date.now() - new Date(this.startedTime).getTime()) / 1000;\n                this.timeout = setTimeout(() => {\n                    if (this.request != null) {\n                        this.request = requestAnimationFrame(animate);\n                    }\n                }, 500);\n            };\n            this.request = requestAnimationFrame(animate);\n        }\n    }\n    getFormattedTime() {\n        if (this.timeDiff == null) {\n            return null;\n        }\n        const diff = this.timeDiff;\n        let time = '';\n        if (diff >= 3600) {\n            time = `${addZero(diff / 3600)}:`;\n        }\n        time += `${addZero((diff % 3600) / 60)}:${addZero(diff % 60)}`;\n        return time;\n    }\n    render() {\n        return (h(Host, { key: '3ce9caf85c506b3c200601d492cd281c3e4c630b', tabIndex: 0, role: \"timer\", \"aria-live\": \"off\" }, this.startedTime !== undefined && [\n            h(\"dyte-icon\", { key: 'bb4e24a529ee378389b9371bd3b42136da8f2046', icon: this.iconPack.clock, \"aria-hidden\": true, tabIndex: -1, part: \"icon\" }),\n            h(\"span\", { key: '66b6b43d99f1bc8a27ecf8e3320bbc6a1c26c64c', part: \"text\" }, this.getFormattedTime()),\n        ]));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"],\n        \"startedTime\": [\"startedTimeChanged\"]\n    }; }\n};\n__decorate([\n    SyncWithStore()\n], DyteClock.prototype, \"meeting\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteClock.prototype, \"iconPack\", void 0);\nDyteClock.style = DyteClockStyle0;\n\nexport { DyteClock as dyte_clock };\n"],
  "mappings": "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",
  "names": []
}
