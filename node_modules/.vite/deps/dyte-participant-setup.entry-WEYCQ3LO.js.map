{
  "version": 3,
  "sources": ["../../@dytesdk/ui-kit/dist/esm/dyte-participant-setup.entry.js"],
  "sourcesContent": ["import { r as registerInstance, h, H as Host } from './index-08f4416b.js';\nimport { d as defaultConfig, a as defaultIconPack, c as useLanguage } from './ui-store-9dd5dd86.js';\nimport { S as SyncWithStore } from './index-39fa23f1.js';\n\nconst dyteParticipantSetupCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;align-items:center;justify-content:center;aspect-ratio:16 / 9;height:var(--dyte-space-56, 224px);overflow:hidden;border-radius:var(--dyte-border-radius-lg, 12px);-webkit-user-select:none;-moz-user-select:none;user-select:none;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity));transition-property:var(--dyte-transition-property, all);transition-duration:150ms}@media (prefers-reduced-motion){:host{--dyte-transition-property:none}}:host([size='sm'][variant='solid']) ::slotted(dyte-name-tag){left:var(--dyte-space-2, 8px);bottom:var(--dyte-space-2, 8px);height:var(--dyte-space-4, 16px)}video{display:none;position:absolute;height:100%;width:100%;border-radius:var(--dyte-border-radius-lg, 12px)}video.contain{-o-object-fit:contain;object-fit:contain}video.cover{-o-object-fit:cover;object-fit:cover}video.visible{display:block}video::-webkit-media-controls{display:none !important}:host([variant='gradient']) ::slotted(dyte-audio-visualizer){position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));padding:var(--dyte-space-2, 8px)}:host([variant='gradient']) ::slotted(dyte-name-tag){bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);display:flex;width:100%;align-items:center;justify-content:center;text-align:center;background-color:transparent;background-image:linear-gradient(to top, var(--tw-gradient-stops));--tw-gradient-from:rgb(var(--dyte-colors-background-1000, 8 8 8));--tw-gradient-to:rgba(var(--dyte-colors-background-1000, 8 8 8) / 0);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to:transparent}video.mirror{transform:scaleX(-1)}@media (orientation: portrait){:host{height:var(--dyte-space-44, 176px)}}\";\nconst DyteParticipantSetupStyle0 = dyteParticipantSetupCss;\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteParticipantSetup = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.isPinned = false;\n        /** Position of name tag */\n        this.nameTagPosition = 'bottom-left';\n        /** Whether tile is used for preview */\n        this.isPreview = false;\n        /** Config object */\n        this.config = defaultConfig;\n        /** Variant */\n        this.variant = 'solid';\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.onVideoUpdate = (videoState) => {\n            this.videoState = videoState;\n        };\n    }\n    connectedCallback() {\n        // set videoState before initial render and initialize listeners\n        this.participantsChanged(this.participant);\n    }\n    componentDidLoad() {\n        // load videoState into video element after first render\n        this.videoStateChanged(this.videoState);\n    }\n    disconnectedCallback() {\n        if (this.participant == null)\n            return;\n        this.participant.removeListener('videoUpdate', this.onVideoUpdate);\n    }\n    async participantsChanged(participant) {\n        if (participant != null) {\n            this.videoState = {\n                videoEnabled: participant.videoEnabled,\n                videoTrack: participant.videoTrack,\n            };\n            this.isPinned = participant.isPinned;\n            participant.addListener('videoUpdate', this.onVideoUpdate);\n        }\n    }\n    videoStateChanged(videoState) {\n        if (videoState != null && this.videoEl != null) {\n            if (videoState.videoEnabled) {\n                const stream = new MediaStream();\n                stream.addTrack(videoState.videoTrack);\n                this.videoEl.srcObject = stream;\n            }\n            else {\n                this.videoEl.srcObject = undefined;\n            }\n        }\n    }\n    isMirrored() {\n        var _a;\n        if (this.participant != null) {\n            const isSelf = 'preview' in this.participant || this.isPreview;\n            if (isSelf) {\n                const states = this.states;\n                const mirrorVideo = (_a = states === null || states === void 0 ? void 0 : states.prefs) === null || _a === void 0 ? void 0 : _a.mirrorVideo;\n                if (typeof mirrorVideo === 'boolean') {\n                    return mirrorVideo;\n                }\n            }\n        }\n        return false;\n    }\n    render() {\n        var _a, _b, _c, _d;\n        return (h(Host, { key: 'e9aca0a99a67a4f2fd5c7f3bd006975db783a1e9' }, h(\"video\", { key: '9e291950e6ad07c8ed37d6da2987507d5fc657e4', ref: (el) => (this.videoEl = el), class: {\n                visible: (_a = this.videoState) === null || _a === void 0 ? void 0 : _a.videoEnabled,\n                mirror: this.isMirrored(),\n                [(_d = (_c = (_b = this.config) === null || _b === void 0 ? void 0 : _b.config) === null || _c === void 0 ? void 0 : _c.videoFit) !== null && _d !== void 0 ? _d : 'cover']: true,\n            }, autoPlay: true, playsInline: true, muted: true }), h(\"slot\", { key: '915126d45b8bb08844d526408132e5c259eaa950' })));\n    }\n    static get watchers() { return {\n        \"participant\": [\"participantsChanged\"],\n        \"videoState\": [\"videoStateChanged\"]\n    }; }\n};\n__decorate([\n    SyncWithStore()\n], DyteParticipantSetup.prototype, \"states\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteParticipantSetup.prototype, \"size\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteParticipantSetup.prototype, \"iconPack\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteParticipantSetup.prototype, \"t\", void 0);\nDyteParticipantSetup.style = DyteParticipantSetupStyle0;\n\nexport { DyteParticipantSetup as dyte_participant_setup };\n"],
  "mappings": "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",
  "names": []
}
