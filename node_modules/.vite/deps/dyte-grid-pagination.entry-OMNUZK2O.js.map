{
  "version": 3,
  "sources": ["../../@dytesdk/ui-kit/dist/esm/dyte-grid-pagination.entry.js"],
  "sourcesContent": ["import { r as registerInstance, h, H as Host } from './index-08f4416b.js';\nimport { a as defaultIconPack, c as useLanguage } from './ui-store-9dd5dd86.js';\nimport { S as SyncWithStore } from './index-39fa23f1.js';\nimport { d as debounce_1 } from './debounce-0169a54d.js';\n\nconst dyteGridPaginationCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;font-size:16px}:host([size='sm']){margin-left:var(--dyte-space-1, 4px);margin-right:var(--dyte-space-1, 4px);font-size:12px}:host([size='sm']) .center{margin-left:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0, 0px)}:host([size='sm']) dyte-button{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px)}:host([size='sm']) dyte-button dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}dyte-button{--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.center{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.center .page{color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.center .slash{margin-left:var(--dyte-space-0\\\\.5, 2px);margin-right:var(--dyte-space-0\\\\.5, 2px)}.center .pages{align-self:flex-end;font-size:12px}:host([variant='rounded']){overflow:hidden;border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}:host([variant='rounded']) dyte-button{border-radius:9999px;border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}:host([variant='rounded']) dyte-button:not([disabled]):hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host([variant='rounded']) dyte-button:not([disabled]):focus{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host([variant='grid']){margin-left:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0, 0px)}:host([variant='grid']) dyte-button{position:absolute;top:50%;height:var(--dyte-space-20, 80px);width:var(--dyte-space-20, 80px);opacity:0.2;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}:host([variant='grid']) dyte-button:hover{opacity:1}:host([variant='grid']) dyte-button{transform:translateY(-50%)}:host([variant='grid']) dyte-button.prev{left:var(--dyte-space-0, 0px);border-top-right-radius:9999px;border-bottom-right-radius:9999px}:host([variant='grid']) dyte-button.next{right:var(--dyte-space-0, 0px);border-top-left-radius:9999px;border-bottom-left-radius:9999px}:host([variant='grid']) dyte-button.auto{left:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);border-top-right-radius:9999px;border-bottom-right-radius:9999px}:host([variant='grid']) .dots{position:absolute;left:50%;bottom:var(--dyte-space-3, 12px);display:flex;align-items:center;transform:translateX(-50%)}:host([variant='grid']) .dots .dot{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-2, 8px);width:var(--dyte-space-2, 8px);cursor:pointer;border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([variant='grid']) .dots .dot:last-child{margin-right:var(--dyte-space-0, 0px)}:host([variant='grid']) .dots .dot.active{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}:host([variant='grid'][size='sm']) dyte-button{height:var(--dyte-space-14, 56px);width:var(--dyte-space-14, 56px);opacity:0.1}\";\nconst DyteGridPaginationStyle0 = dyteGridPaginationCss;\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst MASS_ACTIONS_DEBOUNCE_TIMER = 50; // In ms\nconst DyteGridPagination = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Variant */\n        this.variant = 'rounded';\n        /** Icon Pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.page = 1;\n        this.pageCount = 0;\n        this.activeCount = 0;\n        this.activeComputedCount = 0;\n        this.showPagination = false;\n        this.onPageChanged = ({ currentPage, pageCount, }) => {\n            this.pageCount = pageCount;\n            this.page = currentPage;\n        };\n        this.toggleGridPagination = debounce_1(() => {\n            var _a;\n            const { self, participants } = this.meeting;\n            const { mobile, desktop } = (_a = self.config) === null || _a === void 0 ? void 0 : _a.maxVideoStreams;\n            const maxCount = this.size === 'sm' ? mobile : desktop;\n            const stagePeopleCount = participants.joined\n                .toArray()\n                .filter((p) => p.stageStatus === 'ON_STAGE').length;\n            if (stagePeopleCount < maxCount) {\n                this.showPagination = false;\n            }\n            else {\n                this.showPagination = true;\n            }\n        }, MASS_ACTIONS_DEBOUNCE_TIMER);\n        this.onParticipantJoin = debounce_1(() => {\n            this.pageCount = this.meeting.participants.pageCount;\n            this.toggleGridPagination();\n        }, MASS_ACTIONS_DEBOUNCE_TIMER);\n        this.onParticipantLeave = debounce_1(() => {\n            this.pageCount = this.meeting.participants.pageCount;\n            this.toggleGridPagination();\n        }, MASS_ACTIONS_DEBOUNCE_TIMER);\n        this.onStateStatusUpdate = debounce_1(() => {\n            this.pageCount = this.meeting.participants.pageCount;\n            this.toggleGridPagination();\n        }, MASS_ACTIONS_DEBOUNCE_TIMER);\n        this.prevPage = () => {\n            if (this.meeting == null)\n                return;\n            const { participants } = this.meeting;\n            if (this.page > 1) {\n                participants.setPage((this.page -= 1));\n            }\n            else if (participants.viewMode === 'PAGINATED') {\n                participants.setViewMode('ACTIVE_GRID');\n            }\n        };\n        this.nextPage = () => {\n            if (this.meeting == null)\n                return;\n            const { participants } = this.meeting;\n            if (this.page > 0 && this.page < this.pageCount) {\n                participants.setPage((this.page += 1));\n            }\n            else if (participants.count > 0 && this.pageCount === 0) {\n                participants.setViewMode('PAGINATED');\n            }\n        };\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n        this.sizeChanged();\n    }\n    disconnectedCallback() {\n        if (this.meeting == null)\n            return;\n        const { participants, stage } = this.meeting;\n        participants.removeListener('pageChanged', this.onPageChanged);\n        participants.removeListener('viewModeChanged', this.onPageChanged);\n        participants.joined.removeListener('participantJoined', this.onParticipantJoin);\n        participants.joined.removeListener('participantLeft', this.onParticipantLeave);\n        participants.joined.removeListener('stageStatusUpdate', this.onStateStatusUpdate);\n        stage.removeListener('stageStatusUpdate', this.onStateStatusUpdate);\n    }\n    meetingChanged(meeting) {\n        if (meeting != null) {\n            const { stage, participants } = meeting;\n            this.page = participants.currentPage;\n            this.pageCount = participants.pageCount;\n            participants.addListener('viewModeChanged', this.onPageChanged);\n            participants.addListener('pageChanged', this.onPageChanged);\n            participants.joined.addListener('participantJoined', this.onParticipantJoin);\n            participants.joined.addListener('participantLeft', this.onParticipantLeave);\n            participants.joined.addListener('stageStatusUpdate', this.onStateStatusUpdate);\n            stage.addListener('stageStatusUpdate', this.onStateStatusUpdate);\n            this.activeCount = this.meeting.participants.joined.size;\n            this.activeComputedCount = this.meeting.participants.joined.size;\n            this.toggleGridPagination();\n        }\n    }\n    sizeChanged() {\n        this.toggleGridPagination();\n    }\n    render() {\n        const { meta } = this.meeting;\n        const isAudioRoom = (meta === null || meta === void 0 ? void 0 : meta.viewType) === 'AUDIO_ROOM';\n        if (isAudioRoom || !this.showPagination) {\n            return;\n        }\n        return (h(Host, null, h(\"dyte-button\", { class: \"prev\", variant: \"secondary\", kind: \"icon\", disabled: this.pageCount === 0, onClick: this.prevPage, \"aria-label\": this.t('page.prev') }, h(\"dyte-icon\", { icon: this.iconPack.chevron_left })), this.variant !== 'grid' && (h(\"div\", { class: \"center\" }, h(\"span\", { class: \"page\" }, this.pageCount === 0 ? (h(\"dyte-tooltip\", { label: this.t('layout.auto') }, h(\"dyte-button\", { kind: \"icon\", class: \"auto\" }, h(\"dyte-icon\", { icon: this.iconPack.wand })))) : (this.page)), this.pageCount !== 0 && [\n            h(\"span\", { class: \"slash\" }, \"/\"),\n            h(\"span\", { class: \"pages\" }, this.pageCount),\n        ])), this.variant === 'grid' && this.pageCount > 0 && (h(\"div\", { class: \"dots\" }, [...Array(this.pageCount)].map((_, index) => (h(\"div\", { key: `dot-${index}`, class: { dot: true, active: index + 1 === this.page } }))))), h(\"dyte-button\", { class: \"next\", variant: \"secondary\", kind: \"icon\", disabled: this.page !== 0 && this.page === this.pageCount, onClick: this.nextPage, \"aria-label\": this.t('page.next') }, h(\"dyte-icon\", { icon: this.iconPack.chevron_right, tabIndex: -1, \"aria-hidden\": true }))));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"],\n        \"size\": [\"sizeChanged\"]\n    }; }\n};\n__decorate([\n    SyncWithStore()\n], DyteGridPagination.prototype, \"meeting\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteGridPagination.prototype, \"states\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteGridPagination.prototype, \"size\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteGridPagination.prototype, \"iconPack\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteGridPagination.prototype, \"t\", void 0);\nDyteGridPagination.style = DyteGridPaginationStyle0;\n\nexport { DyteGridPagination as dyte_grid_pagination };\n"],
  "mappings": "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",
  "names": []
}
