var Wl = Object.defineProperty, ml = Object.defineProperties;
var Gl = Object.getOwnPropertyDescriptors;
var v = Object.getOwnPropertySymbols;
var Rl = Object.prototype.hasOwnProperty, pl = Object.prototype.propertyIsEnumerable;
var x = (l, d, Z) => d in l ? Wl(l, d, { enumerable: !0, configurable: !0, writable: !0, value: Z }) : l[d] = Z, n = (l, d) => {
  for (var Z in d || (d = {}))
    Rl.call(d, Z) && x(l, Z, d[Z]);
  if (v)
    for (var Z of v(d))
      pl.call(d, Z) && x(l, Z, d[Z]);
  return l;
}, e = (l, d) => ml(l, Gl(d));
var R = (l, d, Z) => (x(l, typeof d != "symbol" ? d + "" : d, Z), Z), B = (l, d, Z) => {
  if (!d.has(l))
    throw TypeError("Cannot " + Z);
};
var j = (l, d, Z) => (B(l, d, "read from private field"), Z ? Z.call(l) : d.get(l)), p = (l, d, Z) => {
  if (d.has(l))
    throw TypeError("Cannot add the same private member more than once");
  d instanceof WeakSet ? d.add(l) : d.set(l, Z);
};
var Y = (l, d, Z) => (B(l, d, "access private method"), Z);
var i = (l, d, Z) => new Promise((c, b) => {
  var V = (G) => {
    try {
      W(Z.next(G));
    } catch (y) {
      b(y);
    }
  }, X = (G) => {
    try {
      W(Z.throw(G));
    } catch (y) {
      b(y);
    }
  }, W = (G) => G.done ? c(G.value) : Promise.resolve(G.value).then(V, X);
  W((Z = Z.apply(l, d)).next());
});
var L = {}, Yl = {
  get exports() {
    return L;
  },
  set exports(l) {
    L = l;
  }
}, h = typeof Reflect == "object" ? Reflect : null, M = h && typeof h.apply == "function" ? h.apply : function(d, Z, c) {
  return Function.prototype.apply.call(d, Z, c);
}, I;
h && typeof h.ownKeys == "function" ? I = h.ownKeys : Object.getOwnPropertySymbols ? I = function(d) {
  return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d));
} : I = function(d) {
  return Object.getOwnPropertyNames(d);
};
function yl(l) {
  console && console.warn && console.warn(l);
}
var g = Number.isNaN || function(d) {
  return d !== d;
};
function m() {
  m.init.call(this);
}
Yl.exports = m;
L.once = Jl;
m.EventEmitter = m;
m.prototype._events = void 0;
m.prototype._eventsCount = 0;
m.prototype._maxListeners = void 0;
var w = 10;
function K(l) {
  if (typeof l != "function")
    throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof l);
}
Object.defineProperty(m, "defaultMaxListeners", {
  enumerable: !0,
  get: function() {
    return w;
  },
  set: function(l) {
    if (typeof l != "number" || l < 0 || g(l))
      throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + l + ".");
    w = l;
  }
});
m.init = function() {
  (this._events === void 0 || this._events === Object.getPrototypeOf(this)._events) && (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
};
m.prototype.setMaxListeners = function(d) {
  if (typeof d != "number" || d < 0 || g(d))
    throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + d + ".");
  return this._maxListeners = d, this;
};
function f(l) {
  return l._maxListeners === void 0 ? m.defaultMaxListeners : l._maxListeners;
}
m.prototype.getMaxListeners = function() {
  return f(this);
};
m.prototype.emit = function(d) {
  for (var Z = [], c = 1; c < arguments.length; c++)
    Z.push(arguments[c]);
  var b = d === "error", V = this._events;
  if (V !== void 0)
    b = b && V.error === void 0;
  else if (!b)
    return !1;
  if (b) {
    var X;
    if (Z.length > 0 && (X = Z[0]), X instanceof Error)
      throw X;
    var W = new Error("Unhandled error." + (X ? " (" + X.message + ")" : ""));
    throw W.context = X, W;
  }
  var G = V[d];
  if (G === void 0)
    return !1;
  if (typeof G == "function")
    M(G, this, Z);
  else
    for (var y = G.length, u = _(G, y), c = 0; c < y; ++c)
      M(u[c], this, Z);
  return !0;
};
function O(l, d, Z, c) {
  var b, V, X;
  if (K(Z), V = l._events, V === void 0 ? (V = l._events = /* @__PURE__ */ Object.create(null), l._eventsCount = 0) : (V.newListener !== void 0 && (l.emit(
    "newListener",
    d,
    Z.listener ? Z.listener : Z
  ), V = l._events), X = V[d]), X === void 0)
    X = V[d] = Z, ++l._eventsCount;
  else if (typeof X == "function" ? X = V[d] = c ? [Z, X] : [X, Z] : c ? X.unshift(Z) : X.push(Z), b = f(l), b > 0 && X.length > b && !X.warned) {
    X.warned = !0;
    var W = new Error("Possible EventEmitter memory leak detected. " + X.length + " " + String(d) + " listeners added. Use emitter.setMaxListeners() to increase limit");
    W.name = "MaxListenersExceededWarning", W.emitter = l, W.type = d, W.count = X.length, yl(W);
  }
  return l;
}
m.prototype.addListener = function(d, Z) {
  return O(this, d, Z, !1);
};
m.prototype.on = m.prototype.addListener;
m.prototype.prependListener = function(d, Z) {
  return O(this, d, Z, !0);
};
function ul() {
  if (!this.fired)
    return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
}
function D(l, d, Z) {
  var c = { fired: !1, wrapFn: void 0, target: l, type: d, listener: Z }, b = ul.bind(c);
  return b.listener = Z, c.wrapFn = b, b;
}
m.prototype.once = function(d, Z) {
  return K(Z), this.on(d, D(this, d, Z)), this;
};
m.prototype.prependOnceListener = function(d, Z) {
  return K(Z), this.prependListener(d, D(this, d, Z)), this;
};
m.prototype.removeListener = function(d, Z) {
  var c, b, V, X, W;
  if (K(Z), b = this._events, b === void 0)
    return this;
  if (c = b[d], c === void 0)
    return this;
  if (c === Z || c.listener === Z)
    --this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : (delete b[d], b.removeListener && this.emit("removeListener", d, c.listener || Z));
  else if (typeof c != "function") {
    for (V = -1, X = c.length - 1; X >= 0; X--)
      if (c[X] === Z || c[X].listener === Z) {
        W = c[X].listener, V = X;
        break;
      }
    if (V < 0)
      return this;
    V === 0 ? c.shift() : hl(c, V), c.length === 1 && (b[d] = c[0]), b.removeListener !== void 0 && this.emit("removeListener", d, W || Z);
  }
  return this;
};
m.prototype.off = m.prototype.removeListener;
m.prototype.removeAllListeners = function(d) {
  var Z, c, b;
  if (c = this._events, c === void 0)
    return this;
  if (c.removeListener === void 0)
    return arguments.length === 0 ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : c[d] !== void 0 && (--this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : delete c[d]), this;
  if (arguments.length === 0) {
    var V = Object.keys(c), X;
    for (b = 0; b < V.length; ++b)
      X = V[b], X !== "removeListener" && this.removeAllListeners(X);
    return this.removeAllListeners("removeListener"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;
  }
  if (Z = c[d], typeof Z == "function")
    this.removeListener(d, Z);
  else if (Z !== void 0)
    for (b = Z.length - 1; b >= 0; b--)
      this.removeListener(d, Z[b]);
  return this;
};
function r(l, d, Z) {
  var c = l._events;
  if (c === void 0)
    return [];
  var b = c[d];
  return b === void 0 ? [] : typeof b == "function" ? Z ? [b.listener || b] : [b] : Z ? il(b) : _(b, b.length);
}
m.prototype.listeners = function(d) {
  return r(this, d, !0);
};
m.prototype.rawListeners = function(d) {
  return r(this, d, !1);
};
m.listenerCount = function(l, d) {
  return typeof l.listenerCount == "function" ? l.listenerCount(d) : A.call(l, d);
};
m.prototype.listenerCount = A;
function A(l) {
  var d = this._events;
  if (d !== void 0) {
    var Z = d[l];
    if (typeof Z == "function")
      return 1;
    if (Z !== void 0)
      return Z.length;
  }
  return 0;
}
m.prototype.eventNames = function() {
  return this._eventsCount > 0 ? I(this._events) : [];
};
function _(l, d) {
  for (var Z = new Array(d), c = 0; c < d; ++c)
    Z[c] = l[c];
  return Z;
}
function hl(l, d) {
  for (; d + 1 < l.length; d++)
    l[d] = l[d + 1];
  l.pop();
}
function il(l) {
  for (var d = new Array(l.length), Z = 0; Z < d.length; ++Z)
    d[Z] = l[Z].listener || l[Z];
  return d;
}
function Jl(l, d) {
  return new Promise(function(Z, c) {
    function b(X) {
      l.removeListener(d, V), c(X);
    }
    function V() {
      typeof l.removeListener == "function" && l.removeListener("error", b), Z([].slice.call(arguments));
    }
    q(l, d, V, { once: !0 }), d !== "error" && Nl(l, b, { once: !0 });
  });
}
function Nl(l, d, Z) {
  typeof l.on == "function" && q(l, "error", d, Z);
}
function q(l, d, Z, c) {
  if (typeof l.on == "function")
    c.once ? l.once(d, Z) : l.on(d, Z);
  else if (typeof l.addEventListener == "function")
    l.addEventListener(d, function b(V) {
      c.once && l.removeEventListener(d, b), Z(V);
    });
  else
    throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof l);
}
class $ extends L.EventEmitter {
  constructor(Z) {
    super();
    R(this, "logger");
    this.logger = Z, super.setMaxListeners(25);
  }
  emit(Z, ...c) {
    return super.emit("*", Z, ...c), super.emit(Z, ...c);
  }
  on(Z, c) {
    var b;
    try {
      const V = this.listenerCount(Z);
      V > 25 && V % 25 === 0 && ((b = this.logger) == null || b.warn("DyteEventEmitter::maxListenersExceeded", {
        eventListener: {
          eventName: Z.toString(),
          listenerCount: this.listenerCount(Z)
        }
      }));
    } catch (V) {
    }
    return super.on(Z, c);
  }
  addListener(Z, c) {
    var b;
    try {
      const V = this.listenerCount(Z);
      V > 25 && V % 25 === 0 && ((b = this.logger) == null || b.warn("DyteEventEmitter::maxListenersExceeded", {
        eventListener: {
          eventName: Z.toString(),
          listenerCount: this.listenerCount(Z)
        }
      }));
    } catch (V) {
    }
    return super.addListener(Z, c);
  }
  off(Z, c) {
    return super.off(Z, c);
  }
  once(Z, c) {
    return super.once(Z, c);
  }
  prependListener(Z, c) {
    return super.prependListener(Z, c);
  }
  prependOnceListener(Z, c) {
    return super.prependOnceListener(Z, c);
  }
  removeListener(Z, c) {
    return super.removeListener(Z, c);
  }
  removeAllListeners(Z) {
    return super.removeAllListeners(Z);
  }
  listeners(Z) {
    return super.listeners(Z);
  }
  listenerCount(Z) {
    return super.listenerCount(Z);
  }
}
const F = "dyte_e2ee", al = "DyteFrameEncryptionKey", nl = {
  sharedKey: !1,
  ratchetSalt: al,
  ratchetWindowSize: 8
};
function T() {
  return typeof window.RTCRtpScriptTransform != "undefined";
}
function Fl() {
  return typeof window.RTCRtpSender != "undefined" && typeof window.RTCRtpSender.prototype.createEncodedStreams != "undefined";
}
function Il(l) {
  return i(this, null, function* () {
    const d = new TextEncoder();
    return yield crypto.subtle.importKey(
      "raw",
      d.encode(l),
      {
        name: "PBKDF2"
      },
      !1,
      ["deriveBits", "deriveKey"]
    );
  });
}
function Ll() {
  return Fl() || T();
}
class sl extends $ {
  constructor(Z = {}) {
    super(void 0);
    R(this, "keyInfoMap");
    R(this, "options");
    /**
      * callback being invoked after a ratchet request has been performed on the local participant
      * that surfaces the new key material.
      * @param material
      * @param keyIndex
      */
    // eslint-disable-next-line class-methods-use-this
    R(this, "onKeyRatcheted", (Z, c) => {
    });
    this.keyInfoMap = /* @__PURE__ */ new Map(), this.options = n(n({}, nl), Z), this.on("keyRatcheted", this.onKeyRatcheted);
  }
  /**
    * callback to invoke once a key has been set for a participant
    * @param key
    * @param participantId
    * @param keyIndex
    */
  onSetEncryptionKey(Z, c, b) {
    const V = { key: Z, participantId: c, keyIndex: b };
    this.keyInfoMap.set(`${c != null ? c : "shared"}-${b != null ? b : 0}`, V), this.emit("setKey", V);
  }
  getKeys() {
    return Array.from(this.keyInfoMap.values());
  }
  getOptions() {
    return this.options;
  }
  ratchetKey(Z, c) {
    this.emit("ratchetRequest", Z, c);
  }
}
class kl extends sl {
  constructor(Z = {}) {
    const c = e(n({}, Z), { sharedKey: !0 });
    super(c);
    R(this, "ratchetInterval");
  }
  /**
    * Accepts a passphrase that's used to create the crypto keys
    * @param key
    */
  setKey(Z) {
    return i(this, null, function* () {
      const c = yield Il(Z);
      this.onSetEncryptionKey(c);
    });
  }
}
const E = {
  ParticipantEncryptionStatusChanged: "participantEncryptionStatusChanged",
  Error: "encryptionError"
};
var J = /* @__PURE__ */ ((l) => (l.NEW_PRODUCER = "NEW_PRODUCER", l.PRODUCER_TRACK_ENDED = "PRODUCER_TRACK_ENDED", l.ROOM_NODE_CONNECTION_ERROR = "ROOM_NODE_CONNECTION_ERROR", l.SOCKET_SERVICE_ROOM_JOINED = "SOCKET_SERVICE_ROOM_JOINED", l.SOCKET_SERVICE_RECONNECTED = "SOCKET_SERVICE_RECONNECTED", l.SOCKET_SERVICE_DISCONNECTED = "SOCKET_SERVICE_DISCONNECTED", l.SOCKET_SERVICE_FAILED = "SOCKET_SERVICE_FAILED", l.SOCKET_STATE_UPDATE = "SOCKET_STATE_UPDATE", l.ROOM_NODE_RECONNECTED = "ROOM_NODE_RECONNECTED", l.ROOM_NODE_DISCONNECTED = "ROOM_NODE_DISCONNECTED", l.ROOM_NODE_FAILED = "ROOM_NODE_FAILED", l.TRANSPORT_STATE_UPDATE = "TRANSPORT_STATE_UPDATE", l.PRODUCER_SCORE_UPDATE = "PRODUCER_SCORE_UPDATE", l.CONSUMER_SCORE_UPDATE = "CONSUMER_SCORE_UPDATE", l.PRODUCER_STATUS_UPDATE = "PRODUCER_STATUS_UPDATE", l.CONSUMER_STATUS_UPDATE = "CONSUMER_STATUS_UPDATE", l.LOW_PRODUCER_SCORE = "LOW_PRODUCER_SCORE", l.LOW_CONSUMER_SCORE = "LOW_CONSUMER_SCORE", l.MEDIA_PERMISSION_ERROR = "MEDIA_PERMISSION_ERROR", l.MEDIA_PERMISSION_UPDATE = "MEDIA_PERMISSION_UPDATE", l.WAITLISTED = "WAIT_LISTED", l.MESSAGE = "websocket/message", l.ROOM_MESSAGE = "websocket/room-message", l.PEER_JOINED_INTERNAL = "peer/joined-internal", l.PEER_CLOSED = "websocket/peer-closed", l.CONSUMER_CLOSED = "websocket/consumer-closed", l.CONSUMER_PAUSED = "websocket/consumer-paused", l.CONSUMER_RESUMED = "websocket/consumer-resumed", l.PRODUCER_CLOSED = "websocket/producer-closed", l.NEW_CONSUMER = "websocket/new-consumer", l.PRODUCER_SCORE = "websocket/producer-score", l.CONSUMER_SCORE = "websocket/consumer-score", l.PRODUCER_TOGGLE = "hive/producer-toggle", l.CONSUMER_TOGGLE = "hive/consumer-toggle", l.SELECTED_PEERS_DIFF = "hive/selected-peers-diff", l.UPDATE_ACTIVE = "media/update-active", l.RESET_PRODUCER_STATE = "hive/reset-producer-state", l.CF_TRANSPORT_STATE_CHANGED = "cf/transport-state-changed", l.CF_ROOM_REJOINING = "cf/room-rejoining", l.CF_ROOM_REJOIN_FAILED = "cf/room-rejoining-failed", l.CF_ROOM_REJOINED = "cf/room-rejoined", l.CF_TRANPSORT_RECONNECTING = "cf/transport-reconnecting", l.ROOM_STATE = "sockethub/room-state", l.PEER_DISPLAY_NAME_CHANGED = "hive/display-name-changed", l.GET_STAGE_REQUESTS = "GET_STAGE_REQUESTS", l.UPDATE_STAGE_REQUESTS = "UPDATE_STAGE_REQUESTS", l.KICK_PEER = "KICK_PEER", l.UPDATE_PEER_STAGE_STATUS = "UPDATE_PEER_STAGE_STATUS", l.JOIN_MEDIA_ROOM = "JOIN_MEDIA_ROOM", l.LEAVE_MEDIA_ROOM = "LEAVE_MEDIA_ROOM", l.PIP_HANGUP = "PIP_HANGUP", l.E2EE_ACTIVE_PRODUCER = "E2EE_ACTIVE_PRODUCER", l.E2EE_INACTIVE_PRODUCER = "E2EE_INACTIVE_PRODUCER", l.E2EE_ACTIVE_CONSUMER = "E2EE_ACTIVE_CONSUMER", l.E2EE_INACTIVE_CONSUMER = "E2EE_INACTIVE_CONSUMER", l.SOCKET_PEERS = "SOCKET_PEERS", l.UPDATE_PERMISSIONS = "UPDATE_PERMISSIONS", l.MAX_SPATIAL_LAYER_CHANGE = "MAX_SPATIAL_LAYER_CHANGE", l.MUTE_SELF = "MUTE_SELF", l.MUTE_SELF_VIDEO = "MUTE_SELF_VIDEO", l))(J || {});
const ll = "dmFyIExkPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxEZD1PYmplY3QuZGVmaW5lUHJvcGVydGllczt2YXIgTmQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7dmFyIHJzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsRmQ9T2JqZWN0LmdldFByb3RvdHlwZU9mLFZkPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksQmQ9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSx4ZD1SZWZsZWN0LmdldDt2YXIgaXI9KGssTyxNKT0+TyBpbiBrP0xkKGssTyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6TX0pOmtbT109TSxRPShrLE8pPT57Zm9yKHZhciBNIGluIE98fChPPXt9KSlWZC5jYWxsKE8sTSkmJmlyKGssTSxPW01dKTtpZihycylmb3IodmFyIE0gb2YgcnMoTykpQmQuY2FsbChPLE0pJiZpcihrLE0sT1tNXSk7cmV0dXJuIGt9LG90PShrLE8pPT5EZChrLE5kKE8pKTt2YXIgcD0oayxPLE0pPT4oaXIoayx0eXBlb2YgTyE9InN5bWJvbCI/TysiIjpPLE0pLE0pLG5zPShrLE8sTSk9PntpZighTy5oYXMoaykpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgIitNKX07dmFyIGVlPShrLE8sTSk9PihucyhrLE8sInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkIiksTT9NLmNhbGwoayk6Ty5nZXQoaykpLHd0PShrLE8sTSk9PntpZihPLmhhcyhrKSl0aHJvdyBUeXBlRXJyb3IoIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2UiKTtPIGluc3RhbmNlb2YgV2Vha1NldD9PLmFkZChrKTpPLnNldChrLE0pfSxQZT0oayxPLE0sZGUpPT4obnMoayxPLCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkIiksZGU/ZGUuY2FsbChrLE0pOk8uc2V0KGssTSksTSk7dmFyIHNzPShrLE8sTSk9PnhkKEZkKGspLE0sTyk7dmFyIEk9KGssTyxNKT0+bmV3IFByb21pc2UoKGRlLEF0KT0+e3ZhciBNdD1xPT57dHJ5e0llKE0ubmV4dChxKSl9Y2F0Y2goRWUpe0F0KEVlKX19LFk9cT0+e3RyeXtJZShNLnRocm93KHEpKX1jYXRjaChFZSl7QXQoRWUpfX0sSWU9cT0+cS5kb25lP2RlKHEudmFsdWUpOlByb21pc2UucmVzb2x2ZShxLnZhbHVlKS50aGVuKE10LFkpO0llKChNPU0uYXBwbHkoayxPKSkubmV4dCgpKX0pOyhmdW5jdGlvbigpe3ZhciB0cyxWZSxzZSxpZTsidXNlIHN0cmljdCI7Y29uc3Qgaz0iQUVTLUdDTSIsTT17a2V5OjEwLGRlbHRhOjMsYXVkaW86MSxlbXB0eTowfSxkZT0xMixNdD17c2hhcmVkS2V5OiExLHJhdGNoZXRTYWx0OiJEeXRlRnJhbWVFbmNyeXB0aW9uS2V5IixyYXRjaGV0V2luZG93U2l6ZTo4fTt2YXIgWT17fSxJZT17Z2V0IGV4cG9ydHMoKXtyZXR1cm4gWX0sc2V0IGV4cG9ydHModCl7WT10fX0scT10eXBlb2YgUmVmbGVjdD09Im9iamVjdCI/UmVmbGVjdDpudWxsLEVlPXEmJnR5cGVvZiBxLmFwcGx5PT0iZnVuY3Rpb24iP3EuYXBwbHk6ZnVuY3Rpb24ocixlLG4pe3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChyLGUsbil9LGN0O3EmJnR5cGVvZiBxLm93bktleXM9PSJmdW5jdGlvbiI/Y3Q9cS5vd25LZXlzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/Y3Q9ZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHIpKX06Y3Q9ZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpfTtmdW5jdGlvbiBpcyh0KXtjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2Fybih0KX12YXIgYXI9TnVtYmVyLmlzTmFOfHxmdW5jdGlvbihyKXtyZXR1cm4gciE9PXJ9O2Z1bmN0aW9uIEwoKXtMLmluaXQuY2FsbCh0aGlzKX1JZS5leHBvcnRzPUwsWS5vbmNlPWRzLEwuRXZlbnRFbWl0dGVyPUwsTC5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsTC5wcm90b3R5cGUuX2V2ZW50c0NvdW50PTAsTC5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDA7dmFyIG9yPTEwO2Z1bmN0aW9uIGR0KHQpe2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAibGlzdGVuZXIiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoTCwiZGVmYXVsdE1heExpc3RlbmVycyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG9yfSxzZXQ6ZnVuY3Rpb24odCl7aWYodHlwZW9mIHQhPSJudW1iZXIifHx0PDB8fGFyKHQpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgImRlZmF1bHRNYXhMaXN0ZW5lcnMiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrdCsiLiIpO29yPXR9fSksTC5pbml0PWZ1bmN0aW9uKCl7KHRoaXMuX2V2ZW50cz09PXZvaWQgMHx8dGhpcy5fZXZlbnRzPT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpJiYodGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCksdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfSxMLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24ocil7aWYodHlwZW9mIHIhPSJudW1iZXIifHxyPDB8fGFyKHIpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgIm4iIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrcisiLiIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9cix0aGlzfTtmdW5jdGlvbiBjcih0KXtyZXR1cm4gdC5fbWF4TGlzdGVuZXJzPT09dm9pZCAwP0wuZGVmYXVsdE1heExpc3RlbmVyczp0Ll9tYXhMaXN0ZW5lcnN9TC5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIGNyKHRoaXMpfSxMLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHIpe2Zvcih2YXIgZT1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllLnB1c2goYXJndW1lbnRzW25dKTt2YXIgcz1yPT09ImVycm9yIixpPXRoaXMuX2V2ZW50cztpZihpIT09dm9pZCAwKXM9cyYmaS5lcnJvcj09PXZvaWQgMDtlbHNlIGlmKCFzKXJldHVybiExO2lmKHMpe3ZhciBhO2lmKGUubGVuZ3RoPjAmJihhPWVbMF0pLGEgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBhO3ZhciBkPW5ldyBFcnJvcigiVW5oYW5kbGVkIGVycm9yLiIrKGE/IiAoIithLm1lc3NhZ2UrIikiOiIiKSk7dGhyb3cgZC5jb250ZXh0PWEsZH12YXIgbz1pW3JdO2lmKG89PT12b2lkIDApcmV0dXJuITE7aWYodHlwZW9mIG89PSJmdW5jdGlvbiIpRWUobyx0aGlzLGUpO2Vsc2UgZm9yKHZhciBsPW8ubGVuZ3RoLG09aHIobyxsKSxuPTA7bjxsOysrbilFZShtW25dLHRoaXMsZSk7cmV0dXJuITB9O2Z1bmN0aW9uIGRyKHQscixlLG4pe3ZhciBzLGksYTtpZihkdChlKSxpPXQuX2V2ZW50cyxpPT09dm9pZCAwPyhpPXQuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHQuX2V2ZW50c0NvdW50PTApOihpLm5ld0xpc3RlbmVyIT09dm9pZCAwJiYodC5lbWl0KCJuZXdMaXN0ZW5lciIscixlLmxpc3RlbmVyP2UubGlzdGVuZXI6ZSksaT10Ll9ldmVudHMpLGE9aVtyXSksYT09PXZvaWQgMClhPWlbcl09ZSwrK3QuX2V2ZW50c0NvdW50O2Vsc2UgaWYodHlwZW9mIGE9PSJmdW5jdGlvbiI/YT1pW3JdPW4/W2UsYV06W2EsZV06bj9hLnVuc2hpZnQoZSk6YS5wdXNoKGUpLHM9Y3IodCkscz4wJiZhLmxlbmd0aD5zJiYhYS53YXJuZWQpe2Eud2FybmVkPSEwO3ZhciBkPW5ldyBFcnJvcigiUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAiK2EubGVuZ3RoKyIgIitTdHJpbmcocikrIiBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0Iik7ZC5uYW1lPSJNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmciLGQuZW1pdHRlcj10LGQudHlwZT1yLGQuY291bnQ9YS5sZW5ndGgsaXMoZCl9cmV0dXJuIHR9TC5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24ocixlKXtyZXR1cm4gZHIodGhpcyxyLGUsITEpfSxMLnByb3RvdHlwZS5vbj1MLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixMLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXI9ZnVuY3Rpb24ocixlKXtyZXR1cm4gZHIodGhpcyxyLGUsITApfTtmdW5jdGlvbiBhcygpe2lmKCF0aGlzLmZpcmVkKXJldHVybiB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy53cmFwRm4pLHRoaXMuZmlyZWQ9ITAsYXJndW1lbnRzLmxlbmd0aD09PTA/dGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTp0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LGFyZ3VtZW50cyl9ZnVuY3Rpb24gbHIodCxyLGUpe3ZhciBuPXtmaXJlZDohMSx3cmFwRm46dm9pZCAwLHRhcmdldDp0LHR5cGU6cixsaXN0ZW5lcjplfSxzPWFzLmJpbmQobik7cmV0dXJuIHMubGlzdGVuZXI9ZSxuLndyYXBGbj1zLHN9TC5wcm90b3R5cGUub25jZT1mdW5jdGlvbihyLGUpe3JldHVybiBkdChlKSx0aGlzLm9uKHIsbHIodGhpcyxyLGUpKSx0aGlzfSxMLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyPWZ1bmN0aW9uKHIsZSl7cmV0dXJuIGR0KGUpLHRoaXMucHJlcGVuZExpc3RlbmVyKHIsbHIodGhpcyxyLGUpKSx0aGlzfSxMLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihyLGUpe3ZhciBuLHMsaSxhLGQ7aWYoZHQoZSkscz10aGlzLl9ldmVudHMscz09PXZvaWQgMClyZXR1cm4gdGhpcztpZihuPXNbcl0sbj09PXZvaWQgMClyZXR1cm4gdGhpcztpZihuPT09ZXx8bi5saXN0ZW5lcj09PWUpLS10aGlzLl9ldmVudHNDb3VudD09PTA/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSBzW3JdLHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLHIsbi5saXN0ZW5lcnx8ZSkpO2Vsc2UgaWYodHlwZW9mIG4hPSJmdW5jdGlvbiIpe2ZvcihpPS0xLGE9bi5sZW5ndGgtMTthPj0wO2EtLSlpZihuW2FdPT09ZXx8blthXS5saXN0ZW5lcj09PWUpe2Q9blthXS5saXN0ZW5lcixpPWE7YnJlYWt9aWYoaTwwKXJldHVybiB0aGlzO2k9PT0wP24uc2hpZnQoKTpvcyhuLGkpLG4ubGVuZ3RoPT09MSYmKHNbcl09blswXSkscy5yZW1vdmVMaXN0ZW5lciE9PXZvaWQgMCYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIscixkfHxlKX1yZXR1cm4gdGhpc30sTC5wcm90b3R5cGUub2ZmPUwucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLEwucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihyKXt2YXIgZSxuLHM7aWYobj10aGlzLl9ldmVudHMsbj09PXZvaWQgMClyZXR1cm4gdGhpcztpZihuLnJlbW92ZUxpc3RlbmVyPT09dm9pZCAwKXJldHVybiBhcmd1bWVudHMubGVuZ3RoPT09MD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6bltyXSE9PXZvaWQgMCYmKC0tdGhpcy5fZXZlbnRzQ291bnQ9PT0wP3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOmRlbGV0ZSBuW3JdKSx0aGlzO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXt2YXIgaT1PYmplY3Qua2V5cyhuKSxhO2ZvcihzPTA7czxpLmxlbmd0aDsrK3MpYT1pW3NdLGEhPT0icmVtb3ZlTGlzdGVuZXIiJiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhhKTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoInJlbW92ZUxpc3RlbmVyIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKGU9bltyXSx0eXBlb2YgZT09ImZ1bmN0aW9uIil0aGlzLnJlbW92ZUxpc3RlbmVyKHIsZSk7ZWxzZSBpZihlIT09dm9pZCAwKWZvcihzPWUubGVuZ3RoLTE7cz49MDtzLS0pdGhpcy5yZW1vdmVMaXN0ZW5lcihyLGVbc10pO3JldHVybiB0aGlzfTtmdW5jdGlvbiB1cih0LHIsZSl7dmFyIG49dC5fZXZlbnRzO2lmKG49PT12b2lkIDApcmV0dXJuW107dmFyIHM9bltyXTtyZXR1cm4gcz09PXZvaWQgMD9bXTp0eXBlb2Ygcz09ImZ1bmN0aW9uIj9lP1tzLmxpc3RlbmVyfHxzXTpbc106ZT9jcyhzKTpocihzLHMubGVuZ3RoKX1MLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24ocil7cmV0dXJuIHVyKHRoaXMsciwhMCl9LEwucHJvdG90eXBlLnJhd0xpc3RlbmVycz1mdW5jdGlvbihyKXtyZXR1cm4gdXIodGhpcyxyLCExKX0sTC5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKHQscil7cmV0dXJuIHR5cGVvZiB0Lmxpc3RlbmVyQ291bnQ9PSJmdW5jdGlvbiI/dC5saXN0ZW5lckNvdW50KHIpOnByLmNhbGwodCxyKX0sTC5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1wcjtmdW5jdGlvbiBwcih0KXt2YXIgcj10aGlzLl9ldmVudHM7aWYociE9PXZvaWQgMCl7dmFyIGU9clt0XTtpZih0eXBlb2YgZT09ImZ1bmN0aW9uIilyZXR1cm4gMTtpZihlIT09dm9pZCAwKXJldHVybiBlLmxlbmd0aH1yZXR1cm4gMH1MLnByb3RvdHlwZS5ldmVudE5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50PjA/Y3QodGhpcy5fZXZlbnRzKTpbXX07ZnVuY3Rpb24gaHIodCxyKXtmb3IodmFyIGU9bmV3IEFycmF5KHIpLG49MDtuPHI7KytuKWVbbl09dFtuXTtyZXR1cm4gZX1mdW5jdGlvbiBvcyh0LHIpe2Zvcig7cisxPHQubGVuZ3RoO3IrKyl0W3JdPXRbcisxXTt0LnBvcCgpfWZ1bmN0aW9uIGNzKHQpe2Zvcih2YXIgcj1uZXcgQXJyYXkodC5sZW5ndGgpLGU9MDtlPHIubGVuZ3RoOysrZSlyW2VdPXRbZV0ubGlzdGVuZXJ8fHRbZV07cmV0dXJuIHJ9ZnVuY3Rpb24gZHModCxyKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBzKGEpe3QucmVtb3ZlTGlzdGVuZXIocixpKSxuKGEpfWZ1bmN0aW9uIGkoKXt0eXBlb2YgdC5yZW1vdmVMaXN0ZW5lcj09ImZ1bmN0aW9uIiYmdC5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLHMpLGUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKX1mcih0LHIsaSx7b25jZTohMH0pLHIhPT0iZXJyb3IiJiZscyh0LHMse29uY2U6ITB9KX0pfWZ1bmN0aW9uIGxzKHQscixlKXt0eXBlb2YgdC5vbj09ImZ1bmN0aW9uIiYmZnIodCwiZXJyb3IiLHIsZSl9ZnVuY3Rpb24gZnIodCxyLGUsbil7aWYodHlwZW9mIHQub249PSJmdW5jdGlvbiIpbi5vbmNlP3Qub25jZShyLGUpOnQub24ocixlKTtlbHNlIGlmKHR5cGVvZiB0LmFkZEV2ZW50TGlzdGVuZXI9PSJmdW5jdGlvbiIpdC5hZGRFdmVudExpc3RlbmVyKHIsZnVuY3Rpb24gcyhpKXtuLm9uY2UmJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLHMpLGUoaSl9KTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAiZW1pdHRlciIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KX12YXIgVDsoZnVuY3Rpb24odCl7dFt0Lk1BSk9SX0VWRU5UPTBdPSJNQUpPUl9FVkVOVCIsdFt0Lk1JTk9SX0VWRU5UPTFdPSJNSU5PUl9FVkVOVCJ9KShUfHwoVD17fSkpO3ZhciBTOyhmdW5jdGlvbih0KXt0LlBSRUNBTExfVEVTVF9CRUdJTj0icHJlY2FsbF9iZWdpbiIsdC5QUkVDQUxMX1RFU1RfQ09NUExFVEU9InByZWNhbGxfZW5kIix0LkNBTExfSk9JTl9CRUdJTj0iY2FsbF9qb2luIix0Lk5FVF9RVUFMSVRZX1RFU1RfQkVHSU49Im5ldF9xdWFsaXR5X3Rlc3RfYmVnaW4iLHQuTkVUX1FVQUxJVFlfVEVTVF9FTkQ9Im5ldF9xdWFsaXR5X3Rlc3RfZW5kIix0LldFQlNPQ0tFVF9DT05ORUNURUQ9IndlYnNvY2tldF9jb25uZWN0ZWQiLHQuVFJBTlNQT1JUX0NPTk5FQ1RFRD0idHJhbnNwb3J0X2Nvbm5lY3RlZCIsdC5BVURJT19PTj0iYXVkaW9fb24iLHQuQVVESU9fT0ZGPSJhdWRpb19vZmYiLHQuVklERU9fT049InZpZGVvX29uIix0LlZJREVPX09GRj0idmlkZW9fb2ZmIix0LlBBUlRJQ0lQQU5UX1JPTEU9InBhcnRpY2lwYW50X3JvbGUiLHQuUElOR19TVEFUPSJwaW5nX3N0YXQiLHQuRElTQ09OTkVDVD0iZGlzY29ubmVjdCIsdC5SRUNPTk5FQ1RfQVRURU1QVD0icmVjb25uZWN0X2F0dGVtcHQiLHQuU0NSRUVOU0hBUkVfU1RBUlRfUkVRVUVTVEVEPSJzY3JlZW5zaGFyZV9zdGFydF9yZXF1ZXN0ZWQiLHQuU0NSRUVOU0hBUkVfU1RBUlRFRD0ic2NyZWVuc2hhcmVfc3RhcnRlZCIsdC5TQ1JFRU5TSEFSRV9TVE9QUEVEPSJzY3JlZW5zaGFyZV9zdG9wcGVkIix0LlRBQl9DSEFOR0U9InRhYl9jaGFuZ2UiLHQuQlJPV1NFUl9CQUNLR1JPVU5ERUQ9ImJyb3dzZXJfYmFja2dyb3VuZGVkIix0LkJST1dTRVJfRk9SRUdST1VOREVEPSJicm93c2VyX2ZvcmVncm91bmRlZCIsdC5ET01JTkFOVF9TUEVBS0VSPSJkb21pbmFudF9zcGVha2VyIix0LkFVRElPX0RFVklDRVNfVVBEQVRFUz0iYXVkaW9fZGV2aWNlc191cGRhdGVzIix0LlZJREVPX0RFVklDRVNfVVBEQVRFUz0idmlkZW9fZGV2aWNlc191cGRhdGVzIix0LlNQRUFLRVJfREVWSUNFU19VUERBVEVTPSJzcGVha2VyX2RldmljZXNfdXBkYXRlcyIsdC5TRUxFQ1RFRF9NSUNST0hQT05FX1VQREFURT0ic2VsZWN0ZWRfbWljcm9waG9uZV91cGRhdGUiLHQuU0VMRUNURURfQ0FNRVJBX1VQREFURT0ic2VsZWN0ZWRfY2FtZXJhX3VwZGF0ZSIsdC5TRUxFQ1RFRF9TUEVBS0VSX1VQREFURT0ic2VsZWN0ZWRfc3BlYWtlcl91cGRhdGUiLHQuRVhQRUNURURfVklERU9fUkVTT0xVVElPTj0iZXhwZWN0ZWRfdmlkZW9fcmVzb2x1dGlvbiIsdC5FWFBFQ1RFRF9TQ1JFRU5TSEFSRV9SRVNPTFVUSU9OPSJleHBlY3RlZF9zY3JlZW5zaGFyZV9yZXNvbHV0aW9uIix0Lk1FRElBX1BFUk1JU1NJT049Im1lZGlhX3Blcm1pc3Npb24iLHQuTEVHQUNZX1NXSVRDSD0ibGVnYWN5X3N3aXRjaCIsdC5BVURJT19QTEFZX0ZBSUxFRD0iYXVkaW9fcGxheV9mYWlsZWQiLHQuVklERU9fUExBWV9GQUlMRUQ9InZpZGVvX3BsYXlfZmFpbGVkIix0LkFVRElPX1RSQUNLX01VVEVEPSJhdWRpb190cmFja19tdXRlZCIsdC5WSURFT19UUkFDS19NVVRFRD0idmlkZW9fdHJhY2tfbXV0ZWQiLHQuSVZTX1BMQVlFUl9SRUJVRkZFUklORz0iaXZzX3BsYXllcl9yZWJ1ZmZlcmluZyIsdC5JVlNfUExBWUVSX0FVRElPX0JMT0NLRUQ9Iml2c19wbGF5ZXJfYXVkaW9fYmxvY2tlZCIsdC5JVlNfUExBWUVSX1BMQVlCQUNLX0JMT0NLRUQ9Iml2c19wbGF5ZXJfcGxheWJhY2tfYmxvY2tlZCIsdC5JVlNfUExBWUVSX0VSUk9SPSJpdnNfcGxheWVyX2Vycm9yIix0LklWU19QTEFZRVJfUkVDT1ZFUkFCTEVfRVJST1I9Iml2c19wbGF5ZXJfcmVjb3ZlcmFibGVfZXJyb3IiLHQuSVZTX1BMQVlFUl9XT1JLRVJfRVJST1I9Iml2c19wbGF5ZXJfd29ya2VyX2Vycm9yIix0LklWU19QTEFZRVJfTkVUV09SS19VTkFWQUlMQUJMRT0iaXZzX3BsYXllcl9uZXR3b3JrX3VuYXZhaWxhYmxlIix0LkxJVkVTVFJFQU1fTEFURU5DWT0ibGl2ZXN0cmVhbV9sYXRlbmN5Iix0LklWU19QTEFZRVJfQU5BTFlUSUNTX0VWRU5UPSJpdnNfcGxheWVyX2FuYWx5dGljc19ldmVudCIsdC5JVlNfUExBWUVSX1BMQVlCQUNLX1JBVEVfQ0hBTkdFRD0iaXZzX3BsYXllcl9wbGF5YmFja19yYXRlX2NoYW5nZWQiLHQuSVZTX1BMQVlFUl9RVUFMSVRZX0NIQU5HRUQ9Iml2c19wbGF5ZXJfcXVhbGl0eV9jaGFuZ2VkIix0LklWU19QTEFZRVJfSU5JVElBTElaRUQ9Iml2c19wbGF5ZXJfaW5pdGlhbGl6ZWQifSkoU3x8KFM9e30pKTtjb25zdCB1cz1uZXcgTWFwKFtbUy5QUkVDQUxMX1RFU1RfQkVHSU4sVC5NSU5PUl9FVkVOVF0sW1MuUFJFQ0FMTF9URVNUX0NPTVBMRVRFLFQuTUlOT1JfRVZFTlRdLFtTLkNBTExfSk9JTl9CRUdJTixULk1BSk9SX0VWRU5UXSxbUy5ORVRfUVVBTElUWV9URVNUX0JFR0lOLFQuTUlOT1JfRVZFTlRdLFtTLk5FVF9RVUFMSVRZX1RFU1RfRU5ELFQuTUlOT1JfRVZFTlRdLFtTLldFQlNPQ0tFVF9DT05ORUNURUQsVC5NSU5PUl9FVkVOVF0sW1MuVFJBTlNQT1JUX0NPTk5FQ1RFRCxULk1BSk9SX0VWRU5UXSxbUy5BVURJT19PTixULk1JTk9SX0VWRU5UXSxbUy5BVURJT19PRkYsVC5NSU5PUl9FVkVOVF0sW1MuVklERU9fT04sVC5NSU5PUl9FVkVOVF0sW1MuVklERU9fT0ZGLFQuTUlOT1JfRVZFTlRdLFtTLlBBUlRJQ0lQQU5UX1JPTEUsVC5NSU5PUl9FVkVOVF0sW1MuUElOR19TVEFULFQuTUFKT1JfRVZFTlRdLFtTLkRJU0NPTk5FQ1QsVC5NQUpPUl9FVkVOVF0sW1MuUkVDT05ORUNUX0FUVEVNUFQsVC5NQUpPUl9FVkVOVF0sW1MuU0NSRUVOU0hBUkVfU1RBUlRfUkVRVUVTVEVELFQuTUlOT1JfRVZFTlRdLFtTLlNDUkVFTlNIQVJFX1NUQVJURUQsVC5NSU5PUl9FVkVOVF0sW1MuU0NSRUVOU0hBUkVfU1RPUFBFRCxULk1JTk9SX0VWRU5UXSxbUy5UQUJfQ0hBTkdFLFQuTUlOT1JfRVZFTlRdLFtTLkJST1dTRVJfQkFDS0dST1VOREVELFQuTUlOT1JfRVZFTlRdLFtTLkJST1dTRVJfRk9SRUdST1VOREVELFQuTUlOT1JfRVZFTlRdLFtTLkRPTUlOQU5UX1NQRUFLRVIsVC5NSU5PUl9FVkVOVF0sW1MuQVVESU9fREVWSUNFU19VUERBVEVTLFQuTUlOT1JfRVZFTlRdLFtTLlZJREVPX0RFVklDRVNfVVBEQVRFUyxULk1JTk9SX0VWRU5UXSxbUy5TUEVBS0VSX0RFVklDRVNfVVBEQVRFUyxULk1JTk9SX0VWRU5UXSxbUy5TRUxFQ1RFRF9NSUNST0hQT05FX1VQREFURSxULk1JTk9SX0VWRU5UXSxbUy5TRUxFQ1RFRF9DQU1FUkFfVVBEQVRFLFQuTUlOT1JfRVZFTlRdLFtTLlNFTEVDVEVEX1NQRUFLRVJfVVBEQVRFLFQuTUlOT1JfRVZFTlRdLFtTLk1FRElBX1BFUk1JU1NJT04sVC5NSU5PUl9FVkVOVF0sW1MuTEVHQUNZX1NXSVRDSCxULk1JTk9SX0VWRU5UXSxbUy5BVURJT19QTEFZX0ZBSUxFRCxULk1JTk9SX0VWRU5UXSxbUy5WSURFT19QTEFZX0ZBSUxFRCxULk1JTk9SX0VWRU5UXSxbUy5BVURJT19UUkFDS19NVVRFRCxULk1JTk9SX0VWRU5UXSxbUy5WSURFT19UUkFDS19NVVRFRCxULk1JTk9SX0VWRU5UXSxbUy5JVlNfUExBWUVSX1JFQlVGRkVSSU5HLFQuTUFKT1JfRVZFTlRdLFtTLklWU19QTEFZRVJfQVVESU9fQkxPQ0tFRCxULk1BSk9SX0VWRU5UXSxbUy5JVlNfUExBWUVSX1BMQVlCQUNLX0JMT0NLRUQsVC5NQUpPUl9FVkVOVF0sW1MuSVZTX1BMQVlFUl9FUlJPUixULk1BSk9SX0VWRU5UXSxbUy5JVlNfUExBWUVSX1JFQ09WRVJBQkxFX0VSUk9SLFQuTUFKT1JfRVZFTlRdLFtTLklWU19QTEFZRVJfV09SS0VSX0VSUk9SLFQuTUFKT1JfRVZFTlRdLFtTLklWU19QTEFZRVJfTkVUV09SS19VTkFWQUlMQUJMRSxULk1BSk9SX0VWRU5UXSxbUy5MSVZFU1RSRUFNX0xBVEVOQ1ksVC5NQUpPUl9FVkVOVF0sW1MuSVZTX1BMQVlFUl9BTkFMWVRJQ1NfRVZFTlQsVC5NSU5PUl9FVkVOVF0sW1MuSVZTX1BMQVlFUl9QTEFZQkFDS19SQVRFX0NIQU5HRUQsVC5NSU5PUl9FVkVOVF0sW1MuSVZTX1BMQVlFUl9RVUFMSVRZX0NIQU5HRUQsVC5NSU5PUl9FVkVOVF0sW1MuSVZTX1BMQVlFUl9JTklUSUFMSVpFRCxULk1JTk9SX0VWRU5UXSxbUy5FWFBFQ1RFRF9WSURFT19SRVNPTFVUSU9OLFQuTUlOT1JfRVZFTlRdLFtTLkVYUEVDVEVEX1NDUkVFTlNIQVJFX1JFU09MVVRJT04sVC5NSU5PUl9FVkVOVF1dKTtjbGFzcyBwc3tjb25zdHJ1Y3Rvcigpe3AodGhpcywiZXZlbnRzIik7dGhpcy5ldmVudHM9W119YWRkKHIpe3RoaXMuZXZlbnRzLnB1c2gocil9Zmx1c2goKXtyZXR1cm57ZW50cmllczp0aGlzLmV2ZW50cy5zcGxpY2UoMCwyNSl9fX1jbGFzcyBocyBleHRlbmRzIFl7Y29uc3RydWN0b3Ioe2xvZ2dlcjplLHBlZXJJZDpuLGFwaUhvc3RuYW1lczpzfSl7c3VwZXIoKTtwKHRoaXMsImxvZ2dlciIpO3AodGhpcywicGVlcklkIik7cCh0aGlzLCJldmVudFN0b3JlIik7cCh0aGlzLCJhcGlFbmRwb2ludCIpO3RoaXMubG9nZ2VyPWUsdGhpcy5wZWVySWQ9bix0aGlzLmFwaUVuZHBvaW50PWBodHRwczovLyR7cy5kYUNvbGxlY3Rvcn0vYXBpL3YxL21lc3NhZ2VgLHRoaXMuZXZlbnRTdG9yZT1uZXcgcHN9c2VuZEV2ZW50c0NodW5rVG9TZXJ2ZXIoZSl7cmV0dXJuIEkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBzO2NvbnN0IG49e3BheWxvYWQ6ZSxwZWVySWQ6dGhpcy5wZWVySWR9O3RyeXtyZXR1cm4geWllbGQgZmV0Y2godGhpcy5hcGlFbmRwb2ludCx7bWV0aG9kOiJQT1NUIixib2R5OkpTT04uc3RyaW5naWZ5KG4pfSksITB9Y2F0Y2goaSl7cmV0dXJuIHRoaXMubG9nZ2VyLmVycm9yKCJjYWxsU3RhdHM6OnNlbmRFdmVudHNDaHVua1RvU2VydmVyOjpjYXRjaCIse2Vycm9yOml9KSwocz1lLmVudHJpZXMpPT1udWxsfHxzLmZvckVhY2goYT0+e3RoaXMuZXZlbnRTdG9yZS5hZGQoYSl9KSwhMX19KX1jYWxsRXZlbnQoZSl7ZS50aW1lc3RhbXA9bmV3IERhdGUsdGhpcy5ldmVudFN0b3JlLmFkZChlKSx0aGlzLmVtaXQoZS5ldmVudCxlLm1ldGFEYXRhKSx1cy5nZXQoZS5ldmVudCk9PT1ULk1BSk9SX0VWRU5UJiZ0aGlzLmZsdXNoKCl9Zmx1c2goKXtyZXR1cm4gSSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIG47Y29uc3QgZT10aGlzLmV2ZW50U3RvcmUuZmx1c2goKTtyZXR1cm4obj1lPT1udWxsP3ZvaWQgMDplLmVudHJpZXMpIT1udWxsJiZuLmxlbmd0aD8oeWllbGQgdGhpcy5zZW5kRXZlbnRzQ2h1bmtUb1NlcnZlcihlKSwhMCk6ITF9KX19dmFyIG1yOyhmdW5jdGlvbih0KXt0LkNIUk9NSVVNPSJjaHJvbXVtIix0LkZJUkVGT1g9ImZpcmVmb3giLHQuU0FGQVJJPSJzYWZhcmkifSkobXJ8fChtcj17fSkpO2NvbnN0IGdyPXtERVZFTDoiZGV2ZWwiLFBSRVBST0Q6InByZXByb2QiLFBST0Q6InByb2QifTt2YXIgSjsoZnVuY3Rpb24odCl7dC5BVURJTz0iQVVESU8iLHQuVklERU89IlZJREVPIix0LlNQRUFLRVI9IlNQRUFLRVIiLHQuU0NSRUVOU0hBUkU9IlNDUkVFTlNIQVJFIn0pKEp8fChKPXt9KSk7dmFyIFNyOyhmdW5jdGlvbih0KXt0W3QuSU5JVD0wXT0iSU5JVCIsdFt0LkFDQ0VQVEVEPTFdPSJBQ0NFUFRFRCIsdFt0LkRFTklFRD0yXT0iREVOSUVEIix0W3QuU1lTX0RFTklFRD0zXT0iU1lTX0RFTklFRCIsdFt0LkZBSUxFRD00XT0iRkFJTEVEIix0W3QuTk9URk9VTkQ9NV09Ik5PVEZPVU5EIix0W3QuTk9UX0FQUExJQ0FCTEU9Nl09Ik5PVF9BUFBMSUNBQkxFIn0pKFNyfHwoU3I9e30pKTtmdW5jdGlvbiBhZSh0KXtyZXR1cm4gdD90LnNwbGl0KCIuIikuc2xpY2UoMCwyKS5jb25jYXQoWyIwIiwiMCJdKS5qb2luKCIuIik6IiJ9ZnVuY3Rpb24gbHQoe3BhY2tldHNMb3N0OnQscGFja2V0c1NlbnQ6cn0pe3JldHVybiByPjA/dCoxMDAvcjowfWZ1bmN0aW9uIHV0KHtwYWNrZXRzTG9zdDp0LHBhY2tldHNSZWNlaXZlZDpyfSl7cmV0dXJuIHIrdD4wP3QqMTAwLyhyK3QpOjB9Y29uc3QgX3I9MjQwLHZyPTcyMCxFcj04LHlyPTMscHQ9MTAsaHQ9LjAyLGZ0PS4wMztmdW5jdGlvbiB0ZSh7c3RhdDp0LHdlaWdodDpyLHJhbmdlTWluOmUscmFuZ2VNYXg6bixyYW5nZVJhbmtpbmdEaXJlY3Rpb246c30pe3JldHVybiB0PT1udWxsP3I6ZT09PW4/cz09PSJVUCI/dDw9ZT9yOjA6dD49bj9yOjA6cz09PSJVUCI/KDEtTWF0aC5tYXgoTWF0aC5taW4obixNYXRoLmFicyh0KSktZSwwKS8obi1lKSkqcjpzPT09IkRPV04iP01hdGgubWF4KE1hdGgubWluKG4sTWF0aC5hYnModCkpLWUsMCkvKG4tZSkqcjpyfWZ1bmN0aW9uIGJyKHtpc0xvd1F1YWxpdHlWaWRlbzp0LGlzVmlkZW9TdHVjazpyLGlzVmlkZW9MYWdnaW5nOmUsaml0dGVyUXVhbGl0eTpuLHBhY2tldHNMb3N0UXVhbGl0eTpzfSl7Y29uc3QgaT0uOCooKHQ/Ljg1OjEpKihlPy43OjEpKihyPy41OjEpKSsuMioobipzKTtyZXR1cm4gTWF0aC5yb3VuZCgoaStOdW1iZXIuRVBTSUxPTikqMTAwKS8xMDB9ZnVuY3Rpb24gVHIoe3BhY2tldHNMb3N0OnQscGFja2V0c1NlbnQ6cn0pe3JldHVybiByPjA/dCoxMDAvcjowfWZ1bmN0aW9uIFJyKHtwYWNrZXRzTG9zdDp0LHBhY2tldHNTZW50OnIsaml0dGVyOmV9KXtjb25zdCBzPXRlKHtzdGF0OlRyKHtwYWNrZXRzTG9zdDp0LHBhY2tldHNTZW50OnJ9KSx3ZWlnaHQ6LjcscmFuZ2VNaW46MCxyYW5nZU1heDpwdCxyYW5nZVJhbmtpbmdEaXJlY3Rpb246IlVQIn0pLGE9dGUoe3N0YXQ6ZSx3ZWlnaHQ6LjMscmFuZ2VNaW46aHQscmFuZ2VNYXg6ZnQscmFuZ2VSYW5raW5nRGlyZWN0aW9uOiJVUCJ9KTtyZXR1cm4gcythfWZ1bmN0aW9uIGZzKHtmcmFtZVdpZHRoOnQsaXNTY3JlZW5TaGFyZTpyfSl7cmV0dXJuIHQ8KHI/dnI6X3IpfWZ1bmN0aW9uIG1zKHtmcmFtZXNQZXJTZWNvbmQ6dCxpc1NjcmVlblNoYXJlOnJ9KXtyZXR1cm4gdDwocj95cjpFcil9ZnVuY3Rpb24gZ3Moe2ZyYW1lc0VuY29kZWQ6dH0pe3JldHVybiB0PT09MH1mdW5jdGlvbiBDcih7ZnJhbWVXaWR0aDp0LGZyYW1lc1BlclNlY29uZDpyLHBhY2tldHNMb3N0OmUscGFja2V0c1NlbnQ6bixqaXR0ZXI6cyxpc1NjcmVlblNoYXJlOmksZnJhbWVzRW5jb2RlZDphfSl7Y29uc3QgZD10ZSh7c3RhdDpUcih7cGFja2V0c0xvc3Q6ZSxwYWNrZXRzU2VudDpufSksd2VpZ2h0OjEscmFuZ2VNaW46MCxyYW5nZU1heDpwdCxyYW5nZVJhbmtpbmdEaXJlY3Rpb246IlVQIn0pLG89dGUoe3N0YXQ6cyx3ZWlnaHQ6MSxyYW5nZU1pbjpodCxyYW5nZU1heDpmdCxyYW5nZVJhbmtpbmdEaXJlY3Rpb246IlVQIn0pLGw9ZnMoe2ZyYW1lV2lkdGg6dCxpc1NjcmVlblNoYXJlOml9KSxtPW1zKHtmcmFtZXNQZXJTZWNvbmQ6cixpc1NjcmVlblNoYXJlOml9KSxfPWdzKHtmcmFtZXNFbmNvZGVkOmEsaXNTY3JlZW5TaGFyZTppfSk7cmV0dXJuIGJyKHtpc0xvd1F1YWxpdHlWaWRlbzpsLGlzVmlkZW9MYWdnaW5nOm0saXNWaWRlb1N0dWNrOl8saml0dGVyUXVhbGl0eTpvLHBhY2tldHNMb3N0UXVhbGl0eTpkfSl9ZnVuY3Rpb24gUHIoe3BhY2tldHNMb3N0OnQscGFja2V0c1JlY2VpdmVkOnJ9KXtyZXR1cm4gcit0PjA/dCoxMDAvKHIrdCk6MH1mdW5jdGlvbiBJcih7Y29uY2VhbG1lbnRFdmVudHM6dCxwYWNrZXRzTG9zdDpyLHBhY2tldHNSZWNlaXZlZDplLGppdHRlcjpufSl7Y29uc3QgaT10ZSh7c3RhdDp0LHdlaWdodDouMixyYW5nZU1pbjowLHJhbmdlTWF4OjMscmFuZ2VSYW5raW5nRGlyZWN0aW9uOiJVUCJ9KSxhPS41LGQ9dGUoe3N0YXQ6UHIoe3BhY2tldHNMb3N0OnIscGFja2V0c1JlY2VpdmVkOmV9KSx3ZWlnaHQ6YSxyYW5nZU1pbjowLHJhbmdlTWF4OnB0LHJhbmdlUmFua2luZ0RpcmVjdGlvbjoiVVAifSksbD10ZSh7c3RhdDpuLHdlaWdodDouMyxyYW5nZU1pbjpodCxyYW5nZU1heDpmdCxyYW5nZVJhbmtpbmdEaXJlY3Rpb246IlVQIn0pO3JldHVybiBpK2QrbH1mdW5jdGlvbiBTcyh7ZnJhbWVzRGVjb2RlZDp0fSl7cmV0dXJuIHQ9PT0wfWZ1bmN0aW9uIF9zKHtmcmFtZXNQZXJTZWNvbmQ6dCxpc1NjcmVlblNoYXJlOnJ9KXtyZXR1cm4gdDwocj95cjpFcil9ZnVuY3Rpb24gdnMoe2ZyYW1lV2lkdGg6dCxpc1NjcmVlblNoYXJlOnJ9KXtyZXR1cm4gdDwocj92cjpfcil9ZnVuY3Rpb24gd3Ioe2ZyYW1lV2lkdGg6dCxmcmFtZXNQZXJTZWNvbmQ6cixwYWNrZXRzTG9zdDplLHBhY2tldHNSZWNlaXZlZDpuLGppdHRlcjpzLGlzU2NyZWVuU2hhcmU6aSxmcmFtZXNEZWNvZGVkOmF9KXtjb25zdCBkPXRlKHtzdGF0OlByKHtwYWNrZXRzTG9zdDplLHBhY2tldHNSZWNlaXZlZDpufSksd2VpZ2h0OjEscmFuZ2VNaW46MCxyYW5nZU1heDpwdCxyYW5nZVJhbmtpbmdEaXJlY3Rpb246IlVQIn0pLG89dGUoe3N0YXQ6cyx3ZWlnaHQ6MSxyYW5nZU1pbjpodCxyYW5nZU1heDpmdCxyYW5nZVJhbmtpbmdEaXJlY3Rpb246IlVQIn0pLGw9dnMoe2ZyYW1lV2lkdGg6dCxpc1NjcmVlblNoYXJlOml9KSxtPV9zKHtmcmFtZXNQZXJTZWNvbmQ6cixpc1NjcmVlblNoYXJlOml9KSxfPVNzKHtmcmFtZXNEZWNvZGVkOmEsaXNTY3JlZW5TaGFyZTppfSk7cmV0dXJuIGJyKHtpc0xvd1F1YWxpdHlWaWRlbzpsLGlzVmlkZW9MYWdnaW5nOm0saXNWaWRlb1N0dWNrOl8saml0dGVyUXVhbGl0eTpvLHBhY2tldHNMb3N0UXVhbGl0eTpkfSl9Y2xhc3MgcmV7Y29uc3RydWN0b3Iocil7cCh0aGlzLCJwYzEiKTtwKHRoaXMsInBjMiIpO3AodGhpcywiY29uc3RyYWluVmlkZW9CaXRyYXRlS2JwcyIpO3AodGhpcywiY29uc3RyYWluT2ZmZXJUb1JlbW92ZVZpZGVvRmVjIiwhMSk7cCh0aGlzLCJpY2VDYW5kaWRhdGVGaWx0ZXIiKTtjb25zdCBlPW5ldyBSVENQZWVyQ29ubmVjdGlvbihyKSxuPW5ldyBSVENQZWVyQ29ubmVjdGlvbihyKTt0aGlzLnBjMT1lLHRoaXMucGMyPW4sdGhpcy5pY2VDYW5kaWRhdGVGaWx0ZXI9cmUubm9GaWx0ZXIsdGhpcy5wYzEuYWRkRXZlbnRMaXN0ZW5lcigiaWNlY2FuZGlkYXRlIix0aGlzLm9uSWNlQ2FuZGlkYXRlLmJpbmQodGhpcyx0aGlzLnBjMikpLHRoaXMucGMyLmFkZEV2ZW50TGlzdGVuZXIoImljZWNhbmRpZGF0ZSIsdGhpcy5vbkljZUNhbmRpZGF0ZS5iaW5kKHRoaXMsdGhpcy5wYzEpKX1zdGF0aWMgcGFyc2VDYW5kaWRhdGUocil7Y29uc3QgZT0iY2FuZGlkYXRlOiIsbj1yLmluZGV4T2YoZSkrZS5sZW5ndGgscz1yLnN1YnN0cihuKS5zcGxpdCgiICIpO3JldHVybnt0eXBlOnNbN10scHJvdG9jb2w6c1syXSxhZGRyZXNzOnNbNF19fXN0YXRpYyBpc05vdEhvc3RDYW5kaWRhdGUocil7cmV0dXJuIHIudHlwZSE9PSJob3N0In1zdGF0aWMgaXNIb3N0KHIpe3JldHVybiByLnR5cGU9PT0iaG9zdCJ9c3RhdGljIGlzUmVsYXkocil7cmV0dXJuIHIudHlwZT09PSJyZWxheSJ9c3RhdGljIGlzUmVmbGV4aXZlKHIpe3JldHVybiByLnR5cGU9PT0ic3JmbHgifXN0YXRpYyBub0ZpbHRlcihyKXtyZXR1cm4hMH1vbkljZUNhbmRpZGF0ZShyLGUpe2lmKGUuY2FuZGlkYXRlKXtjb25zdCBuPXJlLnBhcnNlQ2FuZGlkYXRlKGUuY2FuZGlkYXRlLmNhbmRpZGF0ZSk7dGhpcy5pY2VDYW5kaWRhdGVGaWx0ZXIobikmJnIuYWRkSWNlQ2FuZGlkYXRlKGUuY2FuZGlkYXRlKX19c2V0SWNlQ2FuZGlkYXRlRmlsdGVyKHIpe3RoaXMuaWNlQ2FuZGlkYXRlRmlsdGVyPXJ9Y29uc3RyYWluVmlkZW9CaXRyYXRlKHIpe3RoaXMuY29uc3RyYWluVmlkZW9CaXRyYXRlS2Jwcz1yfWRpc2FibGVWaWRlb0ZlYygpe3RoaXMuY29uc3RyYWluT2ZmZXJUb1JlbW92ZVZpZGVvRmVjPSEwfWdvdE9mZmVyKHIpe3RoaXMuY29uc3RyYWluT2ZmZXJUb1JlbW92ZVZpZGVvRmVjJiYoci5zZHA9ci5zZHAucmVwbGFjZSgvKG09dmlkZW8gMSBbXlxyXSspKDExNiAxMTcpKFxyXG4pL2csYCQxXHIKYCksci5zZHA9ci5zZHAucmVwbGFjZSgvYT1ydHBtYXA6MTE2IHJlZFwvOTAwMDBcclxuL2csIiIpLHIuc2RwPXIuc2RwLnJlcGxhY2UoL2E9cnRwbWFwOjExNyB1bHBmZWNcLzkwMDAwXHJcbi9nLCIiKSxyLnNkcD1yLnNkcC5yZXBsYWNlKC9hPXJ0cG1hcDo5OCBydHhcLzkwMDAwXHJcbi9nLCIiKSxyLnNkcD1yLnNkcC5yZXBsYWNlKC9hPWZtdHA6OTggYXB0PTExNlxyXG4vZywiIikpLHRoaXMucGMxLnNldExvY2FsRGVzY3JpcHRpb24ociksdGhpcy5wYzIuc2V0UmVtb3RlRGVzY3JpcHRpb24ociksdGhpcy5wYzIuY3JlYXRlQW5zd2VyKCkudGhlbih0aGlzLmdvdEFuc3dlci5iaW5kKHRoaXMpLHRoaXMucmVwb3J0RmF0YWwuYmluZCh0aGlzKSl9Z290QW5zd2VyKHIpe3RoaXMuY29uc3RyYWluVmlkZW9CaXRyYXRlS2JwcyYmKHIuc2RwPXIuc2RwLnJlcGxhY2UoL2E9bWlkOnZpZGVvXHJcbi9nLGBhPW1pZDp2aWRlb1xyCmI9QVM6JHt0aGlzLmNvbnN0cmFpblZpZGVvQml0cmF0ZUticHN9XHIKYCkpLHRoaXMucGMyLnNldExvY2FsRGVzY3JpcHRpb24ociksdGhpcy5wYzEuc2V0UmVtb3RlRGVzY3JpcHRpb24ocil9ZXN0YWJsaXNoQ29ubmVjdGlvbigpe3RoaXMucGMxLmNyZWF0ZU9mZmVyKCkudGhlbih0aGlzLmdvdE9mZmVyLmJpbmQodGhpcyksdGhpcy5yZXBvcnRGYXRhbC5iaW5kKHRoaXMpKX1yZXBvcnRGYXRhbChyKXtjb25zb2xlLmVycm9yKCJFcnJvcjoiLHIpfWdldFJvdW5kVHJpcFRpbWUoKXtyZXR1cm4gSSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3RbcixlXT15aWVsZCBQcm9taXNlLmFsbChbdGhpcy5wYzEuZ2V0U3RhdHMoKSx0aGlzLnBjMi5nZXRTdGF0cygpXSk7bGV0IG4scztpZihyLmZvckVhY2goaT0+e2kudHlwZT09PSJjYW5kaWRhdGUtcGFpciImJmkubm9taW5hdGVkPT09ITAmJmkuYnl0ZXNTZW50PjAmJihuPWkpfSksZS5mb3JFYWNoKGk9PntpLnR5cGU9PT0iY2FuZGlkYXRlLXBhaXIiJiZpLm5vbWluYXRlZD09PSEwJiZpLmJ5dGVzUmVjZWl2ZWQ+MCYmKHM9aSl9KSxuJiZzKXRyeXtpZihuLmN1cnJlbnRSb3VuZFRyaXBUaW1lJiZzLmN1cnJlbnRSb3VuZFRyaXBUaW1lKXJldHVybntydHQ6bi5jdXJyZW50Um91bmRUcmlwVGltZSxiYWNrZW5kUlRUOnMuY3VycmVudFJvdW5kVHJpcFRpbWV9O2NvbnN0IGk9KHMubGFzdFBhY2tldFJlY2VpdmVkVGltZXN0YW1wLW4ubGFzdFBhY2tldFNlbnRUaW1lc3RhbXApLzFlMztyZXR1cm57cnR0OmksYmFja2VuZFJUVDppfX1jYXRjaChpKXtyZXR1cm59fSl9Y2xvc2UoKXt0aGlzLnBjMS5jbG9zZSgpLHRoaXMucGMyLmNsb3NlKCl9fWNsYXNzIEFyIGV4dGVuZHMgWXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpO3AodGhpcywiY2FsbCIpO3AodGhpcywidGltZU91dCIpO3RoaXMuY2FsbD1uZXcgcmUoZSl9c3RhcnQoZT0xZTQpe3RoaXMuY2FsbC5lc3RhYmxpc2hDb25uZWN0aW9uKCksdGhpcy50aW1lT3V0PXNldFRpbWVvdXQodGhpcy50ZXN0RmFpbGVkLmJpbmQodGhpcyksZSl9dGVzdENvbXBsZXRlKGUpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVPdXQpLHRoaXMuY2FsbC5jbG9zZSgpLHRoaXMuZW1pdCgiZG9uZSIsZSl9dGVzdEZhaWxlZChlKXt0aGlzLmNhbGwuY2xvc2UoKSx0aGlzLmVtaXQoImZhaWxlZCIsZSl9fWNvbnN0IEVzPTgseXM9MS8xZTM7Y2xhc3MgYnMgZXh0ZW5kcyBBcntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTtwKHRoaXMsInNlbmRlckNoYW5uZWwiKTtwKHRoaXMsInJlY2lldmVDaGFubmVsIik7cCh0aGlzLCJzdGFydFRpbWUiKTtwKHRoaXMsImxhc3RCaXRyYXRlTWVhc3VyZVRpbWUiKTtwKHRoaXMsInNlbnRQYXlsb2FkQnl0ZXMiLDApO3AodGhpcywicmVjaWV2ZWRQYXlsb2FkQnl0ZXMiLDApO3AodGhpcywibGFzdFJlY2VpdmVkUGF5bG9hZEJ5dGVzIiwwKTtwKHRoaXMsInN0b3BTZW5kaW5nIiwhMSk7cCh0aGlzLCJ0ZXN0UHJvZ3Jlc3MiLDApO3AodGhpcywic2FtcGxlUGFja2V0IiwiIik7cCh0aGlzLCJmaW5hbEJpdHJhdGVTdW0iLDApO3AodGhpcywiYml0UmF0ZVNhbXBlbHMiLDApO3AodGhpcywibWF4TnVtYmVyT2ZQYWNrZXRzVG9TZW5kIiwwKTtwKHRoaXMsImJ5dGVzVG9LZWVwQnVmZmVyZWQiLDApO3AodGhpcywidGVzdER1cmF0aW9uU2Vjb25kcyIsNSk7dGhpcy5jYWxsLnNldEljZUNhbmRpZGF0ZUZpbHRlcihyZS5pc05vdEhvc3RDYW5kaWRhdGUpLHRoaXMuc2VuZGVyQ2hhbm5lbD10aGlzLmNhbGwucGMxLmNyZWF0ZURhdGFDaGFubmVsKG51bGwpO2ZvcihsZXQgbj0wO248MTAyNCoyNTY7bis9MSl0aGlzLnNhbXBsZVBhY2tldCs9ImgiO3RoaXMubWF4TnVtYmVyT2ZQYWNrZXRzVG9TZW5kPTEsdGhpcy5ieXRlc1RvS2VlcEJ1ZmZlcmVkPTEwMjQqdGhpcy5tYXhOdW1iZXJPZlBhY2tldHNUb1NlbmQsdGhpcy50ZXN0RHVyYXRpb25TZWNvbmRzPTQsdGhpcy5zZW5kZXJDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoIm9wZW4iLHRoaXMuc2VuZGluZ1N0ZXAuYmluZCh0aGlzKSksdGhpcy5jYWxsLnBjMi5hZGRFdmVudExpc3RlbmVyKCJkYXRhY2hhbm5lbCIsdGhpcy5vblJlY2lldmVyQ2hhbm5lbC5iaW5kKHRoaXMpKX1zZW5kaW5nU3RlcCgpe2NvbnN0IGU9bmV3IERhdGU7dGhpcy5zdGFydFRpbWV8fCh0aGlzLnN0YXJ0VGltZT1lLHRoaXMubGFzdEJpdHJhdGVNZWFzdXJlVGltZT1lKTtmb3IobGV0IHM9MDtzIT09dGhpcy5tYXhOdW1iZXJPZlBhY2tldHNUb1NlbmQmJiEodGhpcy5zZW5kZXJDaGFubmVsLmJ1ZmZlcmVkQW1vdW50Pj10aGlzLmJ5dGVzVG9LZWVwQnVmZmVyZWQpO3MrPTEpe3RoaXMuc2VudFBheWxvYWRCeXRlcys9dGhpcy5zYW1wbGVQYWNrZXQubGVuZ3RoO3RyeXt0aGlzLnNlbmRlckNoYW5uZWwuc2VuZCh0aGlzLnNhbXBsZVBhY2tldCl9Y2F0Y2goaSl7fX1jb25zdCBuPWUuZ2V0VGltZSgpLXRoaXMuc3RhcnRUaW1lLmdldFRpbWUoKTtuPj0xZTMqdGhpcy50ZXN0RHVyYXRpb25TZWNvbmRzPyh0aGlzLnN0b3BTZW5kaW5nPSEwLHRoaXMudGVzdFByb2dyZXNzPTEwMCk6KHRoaXMudGVzdFByb2dyZXNzPW4vKDEwKnRoaXMudGVzdER1cmF0aW9uU2Vjb25kcyksc2V0VGltZW91dCh0aGlzLnNlbmRpbmdTdGVwLmJpbmQodGhpcyksMSkpfW9uTWVzc2FnZVJlY2lldmVkKGUpe3RoaXMucmVjaWV2ZWRQYXlsb2FkQnl0ZXMrPWUuZGF0YS5sZW5ndGg7Y29uc3Qgbj1uZXcgRGF0ZSxzPW4uZ2V0VGltZSgpLXRoaXMubGFzdEJpdHJhdGVNZWFzdXJlVGltZS5nZXRUaW1lKCk7aWYocz49MWUzKXtjb25zdCBhPSh0aGlzLnJlY2lldmVkUGF5bG9hZEJ5dGVzLXRoaXMubGFzdFJlY2VpdmVkUGF5bG9hZEJ5dGVzKSpFcy8ocy8xZTMpO3RoaXMuZmluYWxCaXRyYXRlU3VtKz1hLHRoaXMuYml0UmF0ZVNhbXBlbHMrPTEsdGhpcy5sYXN0UmVjZWl2ZWRQYXlsb2FkQnl0ZXM9dGhpcy5yZWNpZXZlZFBheWxvYWRCeXRlcyx0aGlzLmxhc3RCaXRyYXRlTWVhc3VyZVRpbWU9bn1pZih0aGlzLnN0b3BTZW5kaW5nJiZ0aGlzLnNlbnRQYXlsb2FkQnl0ZXM9PT10aGlzLnJlY2lldmVkUGF5bG9hZEJ5dGVzKXtjb25zdCBpPXRoaXMuZmluYWxCaXRyYXRlU3VtL3RoaXMuYml0UmF0ZVNhbXBlbHM7dGhpcy50ZXN0Q29tcGxldGUoe3Rocm91Z2hwdXQ6TWF0aC5yb3VuZChpKnlzKX0pfX10ZXN0Q29tcGxldGUoZSl7dGhpcy5jYWxsLmdldFJvdW5kVHJpcFRpbWUoKS50aGVuKCh7cnR0Om4sYmFja2VuZFJUVDpzfSk9PnN1cGVyLnRlc3RDb21wbGV0ZSh7UlRUOm4sYmFja2VuZFJUVDpzLHRocm91Z2hwdXQ6ZS50aHJvdWdocHV0fSkpfW9uUmVjaWV2ZXJDaGFubmVsKGUpe3RoaXMucmVjaWV2ZUNoYW5uZWw9ZS5jaGFubmVsLHRoaXMucmVjaWV2ZUNoYW5uZWwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdGhpcy5vbk1lc3NhZ2VSZWNpZXZlZC5iaW5kKHRoaXMpKX19Y2xhc3Mga3QgZXh0ZW5kcyBBcntjb25zdHJ1Y3RvcihlLG49cmUubm9GaWx0ZXIpe3N1cGVyKGUpO3AodGhpcywiY2gxIik7cCh0aGlzLCJjaDIiKTt0aGlzLmNhbGwuc2V0SWNlQ2FuZGlkYXRlRmlsdGVyKG4pO2NvbnN0IHM9dGhpcy5jYWxsLnBjMS5jcmVhdGVEYXRhQ2hhbm5lbChudWxsKTt0aGlzLmNoMT1zLHMuYWRkRXZlbnRMaXN0ZW5lcigib3BlbiIsKCk9PntzLnNlbmQoImhlbGxvIil9KSxzLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLHRoaXMub25DaDFSZWNpZXZlLmJpbmQodGhpcykpLHRoaXMuY2FsbC5wYzIuYWRkRXZlbnRMaXN0ZW5lcigiZGF0YWNoYW5uZWwiLHRoaXMuZGF0YUNoYW5uZWxIYW5kbGVyLmJpbmQodGhpcykpfW9uQ2gxUmVjaWV2ZShlKXtlLmRhdGEhPT0id29ybGQiP3RoaXMuaGFuZ3VwKCJJbnZhbGlkIGRhdGEgdHJhbnNtaXR0ZWQuIik6dGhpcy50ZXN0Q29tcGxldGUoe2Nvbm5lY3Rpdml0eTohMH0pfW9uQ2gyUmVjaWV2ZShlKXtpZihlLmRhdGEhPT0iaGVsbG8iKXRoaXMuaGFuZ3VwKCJJbnZhbGlkIGRhdGEgdHJhbnNtaXR0ZWQuIik7ZWxzZSB0cnl7dGhpcy5jaDIuc2VuZCgid29ybGQiKX1jYXRjaChuKXt9fWRhdGFDaGFubmVsSGFuZGxlcihlKXtjb25zdCBuPWUuY2hhbm5lbDt0aGlzLmNoMj1uLG4uYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdGhpcy5vbkNoMlJlY2lldmUuYmluZCh0aGlzKSl9aGFuZ3VwKGUpe3RoaXMudGVzdEZhaWxlZChlKX19Y2xhc3MgVHMgZXh0ZW5kcyBrdHtjb25zdHJ1Y3RvcihyKXtzdXBlcihyLHJlLmlzSG9zdCl9fWNsYXNzIFJzIGV4dGVuZHMga3R7Y29uc3RydWN0b3Iocil7c3VwZXIocixyZS5pc1JlbGF5KX19Y2xhc3MgQ3MgZXh0ZW5kcyBrdHtjb25zdHJ1Y3RvcihyKXtzdXBlcihyLHJlLmlzUmVmbGV4aXZlKX19Y2xhc3MgUHN7Y29uc3RydWN0b3IoKXtwKHRoaXMsImlwSW5mb3JtYXRpb24iLG51bGwpfWdldElQRGV0YWlscyhzKXtyZXR1cm4gSSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooe3BlZXJJZDpyLGFwaUhvc3RuYW1lczplLGxvZ2dlcjpufSl7dmFyIGksYSxkO2lmKCF0aGlzLmlwSW5mb3JtYXRpb24pe3RyeXtjb25zdCBvPWBodHRwczovLyR7ZS5sb2NhdGlvbn1gLG09eWllbGQoeWllbGQgZmV0Y2gobykpLmpzb24oKTtpZigoKGk9bS5sb2MpPT1udWxsP3ZvaWQgMDppLmxlbmd0aCk+NSlyZXR1cm4gdGhpcy5pcEluZm9ybWF0aW9uPW0sKGE9dGhpcy5pcEluZm9ybWF0aW9uKSE9bnVsbCYmYS5pcCYmKHRoaXMuaXBJbmZvcm1hdGlvbi5pcD1hZSh0aGlzLmlwSW5mb3JtYXRpb24uaXApKSxtO3Rocm93IEVycm9yKCJJbnN1ZmZpY2llbnQgZGF0YSIpfWNhdGNoKG8pe24uZXJyb3IoImNhbGxzdGF0czo6aXBEZXRhaWxzOjogZmFpbGVkIHRvIGZldGNoIGlwIHVzaW5nIGxvY2F0aW9uIHNlcnZpY2UiLHtlcnJvcjpvfSl9dHJ5e2NvbnN0IG89eWllbGQgZmV0Y2goYGh0dHBzOi8vJHtlLmxvY2F0aW9uTGVnYWN5fS8/dG9rZW49M2M0OTM5MzJiMDYyNGMmcGVlcklkPSR7cn1gLHttZXRob2Q6IlBPU1QifSk7dGhpcy5pcEluZm9ybWF0aW9uPXlpZWxkIG8uanNvbigpLChkPXRoaXMuaXBJbmZvcm1hdGlvbikhPW51bGwmJmQuaXAmJih0aGlzLmlwSW5mb3JtYXRpb24uaXA9YWUodGhpcy5pcEluZm9ybWF0aW9uLmlwKSl9Y2F0Y2gobyl7bi5lcnJvcigiY2FsbHN0YXRzOjppcERldGFpbHM6OiBmYWlsZWQgdG8gZmV0Y2ggaXAgdXNpbmcgbGVnYWN5IGxvY2F0aW9uIHNlcnZpY2UiLHtlcnJvcjpvfSl9fXJldHVybiB0aGlzLmlwSW5mb3JtYXRpb259KX1yZXNldENhY2hlKCl7dGhpcy5pcEluZm9ybWF0aW9uPW51bGx9fWNvbnN0IE1yPW5ldyBQcyxrcj1be3VybHM6InR1cm46dHVybi5keXRlLmluOjQ0Mz90cmFuc3BvcnQ9dGNwIix1c2VybmFtZToiZHl0ZSIsY3JlZGVudGlhbDoiZHl0ZWluIixjcmVkZW50aWFsVHlwZToicGFzc3dvcmQifSx7dXJsczoidHVybjp0dXJuLmR5dGUuaW46MzQ3OD90cmFuc3BvcnQ9dWRwIix1c2VybmFtZToiZHl0ZSIsY3JlZGVudGlhbDoiZHl0ZWluIixjcmVkZW50aWFsVHlwZToicGFzc3dvcmQifV07ZnVuY3Rpb24gT3IodCl7Y29uc3RbcixlXT10LnNwbGl0KCIsIik7cmV0dXJue2Nvb3Jkczp7bGF0aXR1ZGU6TnVtYmVyKHIpLGxvbmdpdHVkZTpOdW1iZXIoZSl9fX1jbGFzcyBMcntjb25zdHJ1Y3Rvcigpe3AodGhpcywidHJhbnNwb3J0Iik7cCh0aGlzLCJjYW5kaWRhdGVQYWlyIik7cCh0aGlzLCJvdXRib3VuZFZpZGVvUnRwIixuZXcgTWFwKTtwKHRoaXMsImluYm91bmRWaWRlb1J0cCIsbmV3IE1hcCk7cCh0aGlzLCJvdXRib3VuZEF1ZGlvUnRwIixuZXcgTWFwKTtwKHRoaXMsImluYm91bmRBdWRpb1J0cCIsbmV3IE1hcCk7cCh0aGlzLCJyZW1vdGVJbmJvdW5kUnRwIixuZXcgTWFwKTtwKHRoaXMsInByb2R1Y2VyU3RyZWFtTWFwIixuZXcgTWFwKTtwKHRoaXMsImNvbnN1bWVyU3RyZWFtTWFwIixuZXcgTWFwKTtwKHRoaXMsInN0YWxlUHJvZHVjZXJTdHJlYW1NYXAiLCExKTtwKHRoaXMsInN0YWxlQ29uc3VtZXJTdHJlYW1NYXAiLCExKX19Y2xhc3MgRHIgZXh0ZW5kcyBZe2NvbnN0cnVjdG9yKCl7c3VwZXIoKTtwKHRoaXMsIm9ic2VydmVyIik7cCh0aGlzLCJvdXRib3VuZFByb2R1Y2VyTWFwIixuZXcgTWFwKTtwKHRoaXMsImluYm91bmRDb25zdW1lck1hcCIsbmV3IE1hcCk7cCh0aGlzLCJjb25zdW1lclBlZXJJZE1hcCIsbmV3IE1hcCk7cCh0aGlzLCJwYXVzZWRDb25zdW1lck1hcCIsbmV3IE1hcCk7cCh0aGlzLCJwYXVzZWRQcm9kdWNlck1hcCIsbmV3IE1hcCk7cCh0aGlzLCJvdmVyYWxsUHJvZHVjaW5nVHJhbnNwb3J0c1N0YXRzTWFwIix7fSk7cCh0aGlzLCJvdmVyYWxsQ29uc3VtaW5nVHJhbnNwb3J0c1N0YXRzTWFwIix7fSk7cCh0aGlzLCJvdmVyYWxsQ29uc3VtZXJzU3RhdHNNYXAiLHt9KTtwKHRoaXMsIm92ZXJhbGxQcm9kdWNlcnNTdGF0c01hcCIse30pO3AodGhpcywidmlkZW9Qcm9kdWNlclRvU3RhdHNNYXAiLG5ldyBNYXApO3AodGhpcywiYXVkaW9Qcm9kdWNlclRvU3RhdHNNYXAiLG5ldyBNYXApO3AodGhpcywidmlkZW9Db25zdW1lclRvU3RhdHNNYXAiLG5ldyBNYXApO3AodGhpcywiYXVkaW9Db25zdW1lclRvU3RhdHNNYXAiLG5ldyBNYXApO3AodGhpcywiY29uc3VtZXJJZHNXaXRoRnJlZXplZFZpZGVvIixuZXcgU2V0KTtwKHRoaXMsImNvbnN1bWVySWRzV2l0aEZyZWV6ZWRBdWRpbyIsbmV3IFNldCk7cCh0aGlzLCJwcm9kdWNlcklkc1dpdGhGcmVlemVkVmlkZW8iLG5ldyBTZXQpO3AodGhpcywicHJvZHVjZXJJZHNXaXRoRnJlZXplZEF1ZGlvIixuZXcgU2V0KTtwKHRoaXMsImZyZWV6ZWRQcm9kdWNpbmdUcmFuc3BvcnRJZHMiLG5ldyBTZXQpO3AodGhpcywiZnJlZXplZENvbnN1bWluZ1RyYW5zcG9ydElkcyIsbmV3IFNldCk7cCh0aGlzLCJzY3JlZW5TaGFyZVByb2R1Y2VycyIsbmV3IFNldCk7cCh0aGlzLCJzY3JlZW5TaGFyZUNvbnN1bWVycyIsbmV3IFNldCk7cCh0aGlzLCJpcERldGFpbHMiKTtwKHRoaXMsImNhbGxTdGF0c0luc3RhbmNlIik7dGhpcy5vYnNlcnZlcj1uZXcgWX1yZWdpc3RlclByb2R1Y2VyKGUpe3JldHVybiBJKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLmdlbmVyYXRlUHJvZHVjZXJTdHJlYW1NYXAoZSksZS5vbigiY2xvc2UiLHRoaXMuZGVyZWdpc3RlclByb2R1Y2VyLmJpbmQodGhpcyxlKSksZS5vbigicGF1c2UiLHRoaXMucGF1c2VQcm9kdWNlci5iaW5kKHRoaXMsZS5pZCkpLGUub24oInJlc3VtZSIsdGhpcy5yZXN1bWVQcm9kdWNlci5iaW5kKHRoaXMsZS5pZCkpLGUuYXBwRGF0YS5zY3JlZW5TaGFyZT09PSEwJiZ0aGlzLnNjcmVlblNoYXJlUHJvZHVjZXJzLmFkZChlLmlkKX0pfXBhdXNlUHJvZHVjZXIoZSl7dGhpcy5wYXVzZWRQcm9kdWNlck1hcC5zZXQoZSx7bGFzdFJlcG9ydENhbGN1bGF0ZWQ6ITF9KX1yZXN1bWVQcm9kdWNlcihlKXt0aGlzLnBhdXNlZFByb2R1Y2VyTWFwLmRlbGV0ZShlKX1wcm9jZXNzSW5ib3VuZENvbnN1bWVyVmlkZW9TdGF0cyhlLG4scyl7dmFyIGEsZDtjb25zdCBpPSgoZD0oYT10aGlzPT1udWxsP3ZvaWQgMDp0aGlzLmNhbGxTdGF0c0luc3RhbmNlKT09bnVsbD92b2lkIDA6YS5jb25zdW1lclNoYXJlZE1lZGlhU3RhdGVzTWFwKT09bnVsbD92b2lkIDA6ZC5nZXQoZSkpfHx7fTtuLnRvdGFsVmlkZW9QYWNrZXRzUmVjZWl2ZWQ9PT1zLnBhY2tldHNSZWNlaXZlZD8odGhpcy5jb25zdW1lcklkc1dpdGhGcmVlemVkVmlkZW8uYWRkKGUpLHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UmJmkudmlkZW8mJih0aGlzLmNhbGxTdGF0c0luc3RhbmNlLmxvZ2dlci5kZWJ1ZygiY2FsbHN0YXRzOjptZWFzdXJlbWVudHM6OmNvbnN1bWVyVmlkZW9GcmVlemVkIix7Y29uc3VtZXJJZDplfSksdGhpcy5jYWxsU3RhdHNJbnN0YW5jZS5ldmVudEhhbmRsZXIuZW1pdCgiY29uc3VtZXJfdmlkZW9fc3RhdHVzIiwicGF1c2UiLGUpKSk6KG4udG90YWxWaWRlb1BhY2tldHNSZWNlaXZlZD1zLnBhY2tldHNSZWNlaXZlZCx0aGlzLmNvbnN1bWVySWRzV2l0aEZyZWV6ZWRWaWRlby5oYXMoZSkmJih0aGlzLmNvbnN1bWVySWRzV2l0aEZyZWV6ZWRWaWRlby5kZWxldGUoZSksdGhpcy5jYWxsU3RhdHNJbnN0YW5jZSYmaS52aWRlbyYmKHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UubG9nZ2VyLmRlYnVnKCJjYWxsc3RhdHM6Om1lYXN1cmVtZW50czo6Y29uc3VtZXJWaWRlb0RlZnJlZXplZCIse2NvbnN1bWVySWQ6ZX0pLHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UuZXZlbnRIYW5kbGVyLmVtaXQoImNvbnN1bWVyX3ZpZGVvX3N0YXR1cyIsInJlc3VtZSIsZSkpKSl9cHJvY2Vzc0luYm91bmRDb25zdW1lckF1ZGlvU3RhdHMoZSxuLHMpe3ZhciBhLGQ7Y29uc3QgaT0oKGQ9KGE9dGhpcz09bnVsbD92b2lkIDA6dGhpcy5jYWxsU3RhdHNJbnN0YW5jZSk9PW51bGw/dm9pZCAwOmEuY29uc3VtZXJTaGFyZWRNZWRpYVN0YXRlc01hcCk9PW51bGw/dm9pZCAwOmQuZ2V0KGUpKXx8e307bi50b3RhbEF1ZGlvUGFja2V0c1JlY2VpdmVkPT09cy5wYWNrZXRzUmVjZWl2ZWQ/KHRoaXMuY29uc3VtZXJJZHNXaXRoRnJlZXplZEF1ZGlvLmFkZChlKSx0aGlzLmNhbGxTdGF0c0luc3RhbmNlJiZpLmF1ZGlvJiYodGhpcy5jYWxsU3RhdHNJbnN0YW5jZS5sb2dnZXIuZGVidWcoImNhbGxTdGF0czo6bWVhc3VyZW1lbnRzOjpjb25zdW1lckF1ZGlvRnJlZXplZCIse2NvbnN1bWVySWQ6ZX0pLHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UuZXZlbnRIYW5kbGVyLmVtaXQoImNvbnN1bWVyX2F1ZGlvX3N0YXR1cyIsInBhdXNlIixlKSkpOihuLnRvdGFsQXVkaW9QYWNrZXRzUmVjZWl2ZWQ9cy5wYWNrZXRzUmVjZWl2ZWQsdGhpcy5jb25zdW1lcklkc1dpdGhGcmVlemVkQXVkaW8uaGFzKGUpJiYodGhpcy5jb25zdW1lcklkc1dpdGhGcmVlemVkQXVkaW8uZGVsZXRlKGUpLHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UmJmkuYXVkaW8mJih0aGlzLmNhbGxTdGF0c0luc3RhbmNlLmxvZ2dlci5kZWJ1ZygiY2FsbFN0YXRzOjptZWFzdXJlbWVudHM6OmNvbnN1bWVyQXVkaW9EZWZyZWV6ZWQiLHtjb25zdW1lcklkOmV9KSx0aGlzLmNhbGxTdGF0c0luc3RhbmNlLmV2ZW50SGFuZGxlci5lbWl0KCJjb25zdW1lcl9hdWRpb19zdGF0dXMiLCJyZXN1bWUiLGUpKSkpfXByb2Nlc3NPdXRib3VuZFByb2R1Y2VyVmlkZW9TdGF0cyhlLG4scyl7dmFyIGE7Y29uc3QgaT0oKGE9dGhpcz09bnVsbD92b2lkIDA6dGhpcy5jYWxsU3RhdHNJbnN0YW5jZSk9PW51bGw/dm9pZCAwOmEuY3VycmVudFVzZXJNZWRpYVN0YXRlcyl8fHt9O24udG90YWxWaWRlb1BhY2tldHNTZW50PT09cy5wYWNrZXRzU2VudD8odGhpcy5wcm9kdWNlcklkc1dpdGhGcmVlemVkVmlkZW8uYWRkKGUpLHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UmJmkudmlkZW8mJih0aGlzLmNhbGxTdGF0c0luc3RhbmNlLmxvZ2dlci5kZWJ1ZygiY2FsbFN0YXRzOjptZWFzdXJlbWVudHM6OnByb2R1Y2VyVmlkZW9GcmVlemVkIix7cHJvZHVjZXJJZDplfSksdGhpcy5jYWxsU3RhdHNJbnN0YW5jZS5ldmVudEhhbmRsZXIuZW1pdCgicHJvZHVjZXJfdmlkZW9fc3RhdHVzIiwicGF1c2UiLGUpKSk6KG4udG90YWxWaWRlb1BhY2tldHNTZW50PXMucGFja2V0c1NlbnQsdGhpcy5wcm9kdWNlcklkc1dpdGhGcmVlemVkVmlkZW8uaGFzKGUpJiYodGhpcy5wcm9kdWNlcklkc1dpdGhGcmVlemVkVmlkZW8uZGVsZXRlKGUpLHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UmJmkudmlkZW8mJih0aGlzLmNhbGxTdGF0c0luc3RhbmNlLmxvZ2dlci5kZWJ1ZygiY2FsbFN0YXRzOjptZWFzdXJlbWVudHM6OnByb2R1Y2VyVmlkZW9EZWZyZWV6ZWQiLHtwcm9kdWNlcklkOmV9KSx0aGlzLmNhbGxTdGF0c0luc3RhbmNlLmV2ZW50SGFuZGxlci5lbWl0KCJwcm9kdWNlcl92aWRlb19zdGF0dXMiLCJyZXN1bWUiLGUpKSkpfXByb2Nlc3NPdXRib3VuZFByb2R1Y2VyQXVkaW9TdGF0cyhlLG4scyl7dmFyIGE7Y29uc3QgaT0oKGE9dGhpcz09bnVsbD92b2lkIDA6dGhpcy5jYWxsU3RhdHNJbnN0YW5jZSk9PW51bGw/dm9pZCAwOmEuY3VycmVudFVzZXJNZWRpYVN0YXRlcyl8fHt9O24udG90YWxBdWRpb1BhY2tldHNTZW50PT09cy5wYWNrZXRzU2VudD8odGhpcy5wcm9kdWNlcklkc1dpdGhGcmVlemVkQXVkaW8uYWRkKGUpLHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UmJmkuYXVkaW8mJih0aGlzLmNhbGxTdGF0c0luc3RhbmNlLmxvZ2dlci5kZWJ1ZygiY2FsbFN0YXRzOjptZWFzdXJlbWVudHM6OnByb2R1Y2VyQXVkaW9GcmVlemVkIix7cHJvZHVjZXJJZDplfSksdGhpcy5jYWxsU3RhdHNJbnN0YW5jZS5ldmVudEhhbmRsZXIuZW1pdCgicHJvZHVjZXJfYXVkaW9fc3RhdHVzIiwicGF1c2UiLGUpKSk6KG4udG90YWxBdWRpb1BhY2tldHNTZW50PXMucGFja2V0c1NlbnQsdGhpcy5wcm9kdWNlcklkc1dpdGhGcmVlemVkQXVkaW8uaGFzKGUpJiYodGhpcy5wcm9kdWNlcklkc1dpdGhGcmVlemVkQXVkaW8uZGVsZXRlKGUpLHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UmJmkuYXVkaW8mJih0aGlzLmNhbGxTdGF0c0luc3RhbmNlLmxvZ2dlci5kZWJ1ZygiY2FsbFN0YXRzOjptZWFzdXJlbWVudHM6OnByb2R1Y2VyQXVkaW9EZWZyZWV6ZWQiLHtwcm9kdWNlcklkOmV9KSx0aGlzLmNhbGxTdGF0c0luc3RhbmNlLmV2ZW50SGFuZGxlci5lbWl0KCJwcm9kdWNlcl9hdWRpb19zdGF0dXMiLCJyZXN1bWUiLGUpKSkpfXByb2Nlc3NQcm9kdWNpbmdUcmFuc3BvcnRTdGF0cyhlLG4scyl7dmFyIG07Y29uc3QgaT0oKG09dGhpcz09bnVsbD92b2lkIDA6dGhpcy5jYWxsU3RhdHNJbnN0YW5jZSk9PW51bGw/dm9pZCAwOm0uY3VycmVudFVzZXJNZWRpYVN0YXRlcyl8fHt9LHthdWRpbzphLHZpZGVvOmQsc2NyZWVuOm99PWksbD1hfHxkfHxvO24udG90YWxQYWNrZXRzU2VudD09PXMucGFja2V0c1NlbnQ/KHRoaXMuZnJlZXplZFByb2R1Y2luZ1RyYW5zcG9ydElkcy5hZGQoZSksdGhpcy5jYWxsU3RhdHNJbnN0YW5jZSYmbCYmKHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UubG9nZ2VyLmRlYnVnKCJjYWxsU3RhdHM6Om1lYXN1cmVtZW50czo6cHJvZHVjaW5nVHJhbnNwb3J0RnJlZXplZCIse3RyYW5zcG9ydElkOmV9KSx0aGlzLmNhbGxTdGF0c0luc3RhbmNlLmV2ZW50SGFuZGxlci5lbWl0KCJwcm9kdWNpbmdfdHJhbnNwb3J0X3N0YXR1cyIsInBhdXNlIixlKSkpOihuLnRvdGFsUGFja2V0c1NlbnQ9cy5wYWNrZXRzU2VudCx0aGlzLmZyZWV6ZWRQcm9kdWNpbmdUcmFuc3BvcnRJZHMuaGFzKGUpJiYodGhpcy5mcmVlemVkUHJvZHVjaW5nVHJhbnNwb3J0SWRzLmRlbGV0ZShlKSx0aGlzLmNhbGxTdGF0c0luc3RhbmNlJiZsJiYodGhpcy5jYWxsU3RhdHNJbnN0YW5jZS5sb2dnZXIuZGVidWcoImNhbGxTdGF0czo6bWVhc3VyZW1lbnRzOjpwcm9kdWNpbmdUcmFuc3BvcnREZWZyZWV6ZWQiLHt0cmFuc3BvcnRJZDplfSksdGhpcy5jYWxsU3RhdHNJbnN0YW5jZS5ldmVudEhhbmRsZXIuZW1pdCgicHJvZHVjaW5nX3RyYW5zcG9ydF9zdGF0dXMiLCJyZXN1bWUiLGUpKSkpfXByb2Nlc3NDb25zdW1pbmdUcmFuc3BvcnRTdGF0cyhlLG4scyl7dmFyIGQsbztjb25zdCBhPSEhQXJyYXkuZnJvbSgoKG89KGQ9dGhpcz09bnVsbD92b2lkIDA6dGhpcy5jYWxsU3RhdHNJbnN0YW5jZSk9PW51bGw/dm9pZCAwOmQuY29uc3VtZXJTaGFyZWRNZWRpYVN0YXRlc01hcCk9PW51bGw/dm9pZCAwOm8udmFsdWVzKCkpfHxbXSkucmVkdWNlKChsLG0pPT5sfHxtLmF1ZGlvfHxtLnZpZGVvfHxtLnNjcmVlbiwhMSk7bi50b3RhbFBhY2tldHNSZWNlaXZlZD09PXMucGFja2V0c1NlbnQ/KHRoaXMuZnJlZXplZENvbnN1bWluZ1RyYW5zcG9ydElkcy5hZGQoZSksdGhpcy5jYWxsU3RhdHNJbnN0YW5jZSYmYSYmKHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UubG9nZ2VyLmRlYnVnKCJjYWxsU3RhdHM6Om1lYXN1cmVtZW50czo6Y29uc3VtaW5nVHJhbnNwb3J0RnJlZXplZCIse3RyYW5zcG9ydElkOmV9KSx0aGlzLmNhbGxTdGF0c0luc3RhbmNlLmV2ZW50SGFuZGxlci5lbWl0KCJjb25zdW1pbmdfdHJhbnNwb3J0X3N0YXR1cyIsInBhdXNlIixlKSkpOihuLnRvdGFsUGFja2V0c1JlY2VpdmVkPXMucGFja2V0c1NlbnQsdGhpcy5mcmVlemVkQ29uc3VtaW5nVHJhbnNwb3J0SWRzLmhhcyhlKSYmKHRoaXMuZnJlZXplZENvbnN1bWluZ1RyYW5zcG9ydElkcy5kZWxldGUoZSksdGhpcy5jYWxsU3RhdHNJbnN0YW5jZSYmYSYmKHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UubG9nZ2VyLmRlYnVnKCJjYWxsU3RhdHM6Om1lYXN1cmVtZW50czo6Y29uc3VtaW5nVHJhbnNwb3J0RGVmcmVlemVkIix7dHJhbnNwb3J0SWQ6ZX0pLHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UuZXZlbnRIYW5kbGVyLmVtaXQoImNvbnN1bWluZ190cmFuc3BvcnRfc3RhdHVzIiwicmVzdW1lIixlKSkpKX1yZWdpc3RlckNvbnN1bWVyKGUpe3JldHVybiBJKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLmdlbmVyYXRlQ29uc3VtZXJTdHJlYW1NYXAoZSksdGhpcy5jb25zdW1lclBlZXJJZE1hcC5zZXQoZS5pZCx7cHJvZHVjZXJJZDplLnByb2R1Y2VySWQscGVlcklkOmUuYXBwRGF0YS5wZWVySWQsYXBwRGF0YTplLmFwcERhdGF9KSxlLm9uKCJjbG9zZSIsdGhpcy5kZXJlZ2lzdGVyQ29uc3VtZXIuYmluZCh0aGlzLGUpKSxlLm9uKCJwYXVzZSIsdGhpcy5wYXVzZUNvbnN1bWVyLmJpbmQodGhpcyxlLmlkKSksZS5vbigicmVzdW1lIix0aGlzLnJlc3VtZUNvbnN1bWVyLmJpbmQodGhpcyxlLmlkKSksZS5hcHBEYXRhLnNjcmVlblNoYXJlPT09ITAmJnRoaXMuc2NyZWVuU2hhcmVDb25zdW1lcnMuYWRkKGUuaWQpfSl9cGF1c2VDb25zdW1lcihlKXt0aGlzLnBhdXNlZENvbnN1bWVyTWFwLnNldChlLHtsYXN0UmVwb3J0Q2FsY3VsYXRlZDohMX0pfXJlc3VtZUNvbnN1bWVyKGUpe3RoaXMucGF1c2VkQ29uc3VtZXJNYXAuZGVsZXRlKGUpfWdlbmVyYXRlUHJvZHVjZXJTdHJlYW1NYXAoZSxuPSExKXtyZXR1cm4gSSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgcz15aWVsZCBlLmdldFN0YXRzKCksaT1uP3RoaXMuZ2V0UHJvZHVjZXJTdGF0c0Zyb21SZXBvcnQodGhpcy5wYXJzZVJUQ1JlcG9ydChzLFsib3V0Ym91bmQtcnRwIiwicmVtb3RlLWluYm91bmQtcnRwIl0sITEsZS5pZCkpWzBdOnZvaWQgMDtmb3IoY29uc3QgYSBvZiBzLnZhbHVlcygpKXN3aXRjaChhLnR5cGUpe2Nhc2Uib3V0Ym91bmQtcnRwIjp7dGhpcy5vdXRib3VuZFByb2R1Y2VyTWFwLnNldChhLmlkLGUuaWQpO2JyZWFrfX1yZXR1cm4gaX0pfWdlbmVyYXRlQ29uc3VtZXJTdHJlYW1NYXAoZSxuPSExKXtyZXR1cm4gSSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgcz15aWVsZCBlLmdldFN0YXRzKCksaT1uP3RoaXMuZ2V0Q29uc3VtZXJTdGF0c0Zyb21SZXBvcnQodGhpcy5wYXJzZVJUQ1JlcG9ydChzLFsiaW5ib3VuZC1ydHAiXSwhMSxlLmlkKSlbMF06dm9pZCAwO2Zvcihjb25zdCBhIG9mIHMudmFsdWVzKCkpc3dpdGNoKGEudHlwZSl7Y2FzZSJpbmJvdW5kLXJ0cCI6e3RoaXMuaW5ib3VuZENvbnN1bWVyTWFwLnNldChhLmlkLGUuaWQpO2JyZWFrfX1yZXR1cm4gaX0pfWRlcmVnaXN0ZXJQcm9kdWNlcihlKXt0aGlzLm91dGJvdW5kUHJvZHVjZXJNYXAuZm9yRWFjaCgobixzKT0+e249PT1lLmlkJiZ0aGlzLm91dGJvdW5kUHJvZHVjZXJNYXAuZGVsZXRlKHMpfSksdGhpcy5wYXVzZWRQcm9kdWNlck1hcC5kZWxldGUoZS5pZCksdGhpcy5zY3JlZW5TaGFyZVByb2R1Y2Vycy5kZWxldGUoZS5pZCl9ZGVyZWdpc3RlckNvbnN1bWVyKGUpe3RoaXMuaW5ib3VuZENvbnN1bWVyTWFwLmZvckVhY2goKG4scyk9PntuPT09ZS5pZCYmdGhpcy5pbmJvdW5kQ29uc3VtZXJNYXAuZGVsZXRlKHMpfSksdGhpcy5jb25zdW1lclBlZXJJZE1hcC5kZWxldGUoZS5pZCksdGhpcy5wYXVzZWRDb25zdW1lck1hcC5kZWxldGUoZS5pZCksdGhpcy5zY3JlZW5TaGFyZUNvbnN1bWVycy5kZWxldGUoZS5pZCl9Z2V0SWNlQ2FuZGlkYXRlU3RhdHMoZSl7dmFyIG47cmV0dXJue2lkOmUuaWQsdHlwZTplLmNhbmRpZGF0ZVR5cGV8fGUudHlwZSxhZGRyZXNzOmUuYWRkcmVzcyxwb3J0OmUucG9ydCx1cmw6ZS51cmwscHJvdG9jb2w6KG49ZS5yZWxheVByb3RvY29sKSE9bnVsbD9uOmUucHJvdG9jb2wsbmV0d29ya1R5cGU6ZS5uZXR3b3JrVHlwZSxyZWxhdGVkQWRkcmVzczplLnJlbGF0ZWRBZGRyZXNzLHJlbGF0ZWRQb3J0OmUucmVsYXRlZFBvcnR9fWdldFdvcmtpbmdTaW11bGNhc3RWaWRlb1N0YXRzKGUpe3JldHVybiBlLmZpbmQocz0+e2NvbnN0IGk9cy5mcmFtZXNFbmNvZGVkPjAsYT1zLnBhY2tldHNTZW50PjAsZD1zLmZyYW1lV2lkdGgmJnMuZnJhbWVIZWlnaHQ7cmV0dXJuIGkmJmEmJiEhZH0pfHxlW2UubGVuZ3RoLTFdfXBhcnNlUlRDUmVwb3J0KGUsbj1bXSxzPSExLGk9dm9pZCAwLGE9dm9pZCAwKXt2YXIgSCxWLEssWixfZSx2ZSxCZSx4ZSxqZSxVZSxIZSxLZSwkZTtjb25zdCBkPWUsbz1uZXcgTHIsbD1uLmxlbmd0aD9uZXcgU2V0KG4pOnZvaWQgMCxtPVtdLF89W10seT1bXSx3PW5ldyBNYXAseD1uZXcgTWFwO2Zvcihjb25zdCBmIG9mIGQudmFsdWVzKCkpe2lmKGwpe2lmKGwuc2l6ZT09PTApYnJlYWs7aWYobC5oYXMoZi50eXBlKSlzJiZsLmRlbGV0ZShmLnR5cGUpO2Vsc2UgY29udGludWV9c3dpdGNoKGYudHlwZSl7Y2FzZSJsb2NhbC1jYW5kaWRhdGUiOnttLnB1c2godGhpcy5nZXRJY2VDYW5kaWRhdGVTdGF0cyhmKSk7YnJlYWt9Y2FzZSJyZW1vdGUtY2FuZGlkYXRlIjp7Xy5wdXNoKHRoaXMuZ2V0SWNlQ2FuZGlkYXRlU3RhdHMoZikpO2JyZWFrfWNhc2UiY2FuZGlkYXRlLXBhaXIiOntjb25zdHtub21pbmF0ZWQ6Y309Zix7c2VsZWN0ZWQ6dX09ZixFPWYsaj17bm9taW5hdGVkOmMhPW51bGw/Yzp1LGN1cnJlbnRSb3VuZFRyaXBUaW1lOkUuY3VycmVudFJvdW5kVHJpcFRpbWUsdG90YWxSb3VuZFRyaXBUaW1lOkUudG90YWxSb3VuZFRyaXBUaW1lLGJ5dGVzUmVjZWl2ZWQ6RS5ieXRlc1JlY2VpdmVkLGJ5dGVzU2VudDpFLmJ5dGVzU2VudCxhdmFpbGFibGVPdXRnb2luZ0JpdHJhdGU6RS5hdmFpbGFibGVPdXRnb2luZ0JpdHJhdGUsYXZhaWxhYmxlSW5jb21pbmdCaXRyYXRlOkUuYXZhaWxhYmxlSW5jb21pbmdCaXRyYXRlLGxhc3RQYWNrZXRSZWNlaXZlZFRpbWVzdGFtcDpFLmxhc3RQYWNrZXRSZWNlaXZlZFRpbWVzdGFtcCxsYXN0UGFja2V0U2VudFRpbWVzdGFtcDpFLmxhc3RQYWNrZXRTZW50VGltZXN0YW1wLGxvY2FsQ2FuZGlkYXRlSWQ6RS5sb2NhbENhbmRpZGF0ZUlkLHJlbW90ZUNhbmRpZGF0ZUlkOkUucmVtb3RlQ2FuZGlkYXRlSWQsYnl0ZXNEaXNjYXJkZWRPblNlbmQ6RS5ieXRlc0Rpc2NhcmRlZE9uU2VuZCxwYWNrZXRzU2VudDpFLnBhY2tldHNTZW50LHBhY2tldHNSZWNlaXZlZDpFLnBhY2tldHNSZWNlaXZlZCxwYWNrZXRzRGlzY2FyZGVkT25TZW5kOkUucGFja2V0c0Rpc2NhcmRlZE9uU2VuZH07eS5wdXNoKGopLChmLm5vbWluYXRlZD09PSEwfHxmLnNlbGVjdGVkPT09ITApJiYoby5jYW5kaWRhdGVQYWlyPWopO2JyZWFrfWNhc2UidHJhbnNwb3J0Ijp7Y29uc3QgYz1mO2EmJihhLnByb2R1Y2luZyYmKHRoaXMub3ZlcmFsbFByb2R1Y2luZ1RyYW5zcG9ydHNTdGF0c01hcFthLmlkXXx8KHRoaXMub3ZlcmFsbFByb2R1Y2luZ1RyYW5zcG9ydHNTdGF0c01hcFthLmlkXT17dG90YWxQYWNrZXRzU2VudDowfSkpLGEuY29uc3VtaW5nJiYodGhpcy5vdmVyYWxsQ29uc3VtaW5nVHJhbnNwb3J0c1N0YXRzTWFwW2EuaWRdfHwodGhpcy5vdmVyYWxsQ29uc3VtaW5nVHJhbnNwb3J0c1N0YXRzTWFwW2EuaWRdPXt0b3RhbFBhY2tldHNSZWNlaXZlZDowfSkpKTtjb25zdCB1PXtieXRlc1JlY2VpdmVkOmMuYnl0ZXNSZWNlaXZlZCxieXRlc1NlbnQ6Yy5ieXRlc1NlbnQscGFja2V0c1NlbnQ6Yy5wYWNrZXRzU2VudCxwYWNrZXRzUmVjZWl2ZWQ6Yy5wYWNrZXRzUmVjZWl2ZWQsZHRsc0NpcGhlcjpjLmR0bHNDaXBoZXIsZHRsc1N0YXRlOmMuZHRsc1N0YXRlLGljZVJvbGU6Yy5pY2VSb2xlfTtpZihvLnRyYW5zcG9ydD11LGEpe2lmKGEucHJvZHVjaW5nKXtjb25zdCBFPXRoaXMub3ZlcmFsbFByb2R1Y2luZ1RyYW5zcG9ydHNTdGF0c01hcFthLmlkXTt0aGlzLnByb2Nlc3NQcm9kdWNpbmdUcmFuc3BvcnRTdGF0cyhhLmlkLEUsdSl9aWYoYS5jb25zdW1pbmcpe2NvbnN0IEU9dGhpcy5vdmVyYWxsQ29uc3VtaW5nVHJhbnNwb3J0c1N0YXRzTWFwW2EuaWRdO3RoaXMucHJvY2Vzc0NvbnN1bWluZ1RyYW5zcG9ydFN0YXRzKGEuaWQsRSx1KX19YnJlYWt9Y2FzZSJyZW1vdGUtaW5ib3VuZC1ydHAiOntjb25zdCBjPWYsdT17aml0dGVyOmMuaml0dGVyLGZyYWN0aW9uTG9zdDpjLmZyYWN0aW9uTG9zdCxyb3VuZFRyaXBUaW1lOmMucm91bmRUcmlwVGltZSxyb3VuZFRyaXBUaW1lTWVhc3VyZW1lbnRzOmMucm91bmRUcmlwVGltZU1lYXN1cmVtZW50cyx0b3RhbFJvdW5kVHJpcFRpbWU6Yy50b3RhbFJvdW5kVHJpcFRpbWUscGFja2V0c0xvc3Q6Yy5wYWNrZXRzTG9zdH07by5yZW1vdGVJbmJvdW5kUnRwLnNldChjLmxvY2FsSWQsdSk7YnJlYWt9Y2FzZSJvdXRib3VuZC1ydHAiOntjb25zdCBjPWYsdT1pfHx0aGlzLm91dGJvdW5kUHJvZHVjZXJNYXAuZ2V0KGYuaWQpLEU9dGhpcy5wYXVzZWRQcm9kdWNlck1hcC5nZXQodSk7aWYoRSl7aWYoRS5sYXN0UmVwb3J0Q2FsY3VsYXRlZD09PSEwKWJyZWFrO3RoaXMucGF1c2VkUHJvZHVjZXJNYXAuc2V0KHUse2xhc3RSZXBvcnRDYWxjdWxhdGVkOiEwfSl9dGhpcy5vdmVyYWxsUHJvZHVjZXJzU3RhdHNNYXBbdV18fCh0aGlzLm92ZXJhbGxQcm9kdWNlcnNTdGF0c01hcFt1XT17dG90YWxWaWRlb1BhY2tldHNTZW50OjAsdG90YWxBdWRpb1BhY2tldHNTZW50OjB9KTtjb25zdCBqPXRoaXMub3ZlcmFsbFByb2R1Y2Vyc1N0YXRzTWFwW3VdO2lmKFsidmlkZW8iLCJhdWRpbyJdLmluY2x1ZGVzKGMubWVkaWFUeXBlKXx8WyJ2aWRlbyIsImF1ZGlvIl0uaW5jbHVkZXMoYy5raW5kKSl7aWYoIXRoaXMub3V0Ym91bmRQcm9kdWNlck1hcC5oYXMoZi5pZCkpe28uc3RhbGVQcm9kdWNlclN0cmVhbU1hcD0hMDticmVha31jb25zdCAkPXRoaXMuY2FsbFN0YXRzSW5zdGFuY2UucHJvZHVjZXJzLmdldCh1KTtpZigoKEg9JD09bnVsbD92b2lkIDA6JC50cmFjayk9PW51bGw/dm9pZCAwOkgucmVhZHlTdGF0ZSk9PT0iZW5kZWQiKWJyZWFrO28ucHJvZHVjZXJTdHJlYW1NYXAuaGFzKHUpfHxvLnByb2R1Y2VyU3RyZWFtTWFwLnNldCh1LHtvdXRib3VuZFZpZGVvUnRwSWQ6W10sb3V0Ym91bmRBdWRpb1J0cElkOltdfSk7Y29uc3Qgdj17Ynl0ZXNTZW50OmMuYnl0ZXNTZW50LHBhY2tldHNTZW50OmMucGFja2V0c1NlbnQsbmFja0NvdW50OmMubmFja0NvdW50LHNzcmM6Yy5zc3JjLG1pZDpjLm1pZCxhY3RpdmU6Yy5hY3RpdmUsY29kZWNJZDpjLmNvZGVjSWQsaGVhZGVyQnl0ZXNTZW50OmMuaGVhZGVyQnl0ZXNTZW50fHwwLHRvdGFsUGFja2V0U2VuZERlbGF5OmMudG90YWxQYWNrZXRTZW5kRGVsYXl8fDB9O2lmKGMubWVkaWFUeXBlPT09InZpZGVvInx8Yy5raW5kPT09InZpZGVvIil7Y29uc3QgaD1jLHo9USh7ZnJhbWVIZWlnaHQ6aC5mcmFtZUhlaWdodCxmcmFtZVdpZHRoOmguZnJhbWVXaWR0aCxmcmFtZXNFbmNvZGVkOmguZnJhbWVzRW5jb2RlZCxmcmFtZXNEcm9wcGVkOmguZnJhbWVzRHJvcHBlZCxmcmFtZXNQZXJTZWNvbmQ6aC5mcmFtZXNQZXJTZWNvbmQsZnJhbWVzU2VudDpoLmZyYW1lc1NlbnQsa2V5RnJhbWVzRW5jb2RlZDpoLmtleUZyYW1lc0VuY29kZWQsZmlyQ291bnQ6aC5maXJDb3VudCxlbmNvZGVySW1wbGVtZW50YXRpb246aC5lbmNvZGVySW1wbGVtZW50YXRpb24saHVnZUZyYW1lc1NlbnQ6aC5odWdlRnJhbWVzU2VudCxwbGlDb3VudDpoLnBsaUNvdW50LHFwU3VtOmgucXBTdW0scXVhbGl0eUxpbWl0YXRpb25EdXJhdGlvbnM6aC5xdWFsaXR5TGltaXRhdGlvbkR1cmF0aW9ucyxxdWFsaXR5TGltaXRhdGlvblJlYXNvbjpoLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uLHF1YWxpdHlMaW1pdGF0aW9uUmVzb2x1dGlvbkNoYW5nZXM6aC5xdWFsaXR5TGltaXRhdGlvblJlc29sdXRpb25DaGFuZ2VzLHRvdGFsRW5jb2RlVGltZTpoLnRhcmdldEJpdHJhdGUsdG90YWxQYWNrZXRTZW5kRGVsYXk6aC50b3RhbFBhY2tldFNlbmREZWxheSxyZXRyYW5zbWl0dGVkQnl0ZXNTZW50OmgucmV0cmFuc21pdHRlZEJ5dGVzU2VudCxyZXRyYW5zbWl0dGVkUGFja2V0c1NlbnQ6aC5yZXRyYW5zbWl0dGVkUGFja2V0c1NlbnQsc2NhbGFiaWxpdHlNb2RlOmguc2NhbGFiaWxpdHlNb2RlLHBvd2VyRWZmaWNpZW50RW5jb2RlcjpoLnBvd2VyRWZmaWNpZW50RW5jb2Rlcn0sdik7by5vdXRib3VuZFZpZGVvUnRwLnNldChmLmlkLHopLG8ucHJvZHVjZXJTdHJlYW1NYXAuZ2V0KHUpLm91dGJvdW5kVmlkZW9SdHBJZC5wdXNoKGYuaWQpLHRoaXMucHJvY2Vzc091dGJvdW5kUHJvZHVjZXJWaWRlb1N0YXRzKHUsaix6KX1lbHNlIGlmKGMubWVkaWFUeXBlPT09ImF1ZGlvInx8Yy5raW5kPT09ImF1ZGlvIil7Y29uc3QgaD1jLHo9USh7cmV0cmFuc21pdHRlZEJ5dGVzU2VudDpoLnJldHJhbnNtaXR0ZWRCeXRlc1NlbnQscmV0cmFuc21pdHRlZFBhY2tldHNTZW50OmgucmV0cmFuc21pdHRlZFBhY2tldHNTZW50fSx2KTtvLm91dGJvdW5kQXVkaW9SdHAuc2V0KGYuaWQseiksby5wcm9kdWNlclN0cmVhbU1hcC5nZXQodSkub3V0Ym91bmRBdWRpb1J0cElkLnB1c2goZi5pZCksdGhpcy5wcm9jZXNzT3V0Ym91bmRQcm9kdWNlckF1ZGlvU3RhdHModSxqLHopfX1lbHNlIHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UubG9nZ2VyLmVycm9yKGBDYWxsc3RhdHM6IFVua25vd24gT3V0Ym91bmQtcnRwLiBtZWRpYXR5cGU6ICR7Yy5tZWRpYVR5cGV9IGtpbmQ6ICR7Yy5raW5kfWApO2JyZWFrfWNhc2UiaW5ib3VuZC1ydHAiOntjb25zdCBjPWYsdT1pfHx0aGlzLmluYm91bmRDb25zdW1lck1hcC5nZXQoZi5pZCksRT10aGlzLnBhdXNlZENvbnN1bWVyTWFwLmdldCh1KTtpZihFKXtpZihFLmxhc3RSZXBvcnRDYWxjdWxhdGVkPT09ITApYnJlYWs7dGhpcy5wYXVzZWRDb25zdW1lck1hcC5zZXQodSx7bGFzdFJlcG9ydENhbGN1bGF0ZWQ6ITB9KX1pZihjLnNzcmM9PT0xMjM0KWJyZWFrO3RoaXMub3ZlcmFsbENvbnN1bWVyc1N0YXRzTWFwW3VdfHwodGhpcy5vdmVyYWxsQ29uc3VtZXJzU3RhdHNNYXBbdV09e3RvdGFsVmlkZW9QYWNrZXRzUmVjZWl2ZWQ6MCx0b3RhbEF1ZGlvUGFja2V0c1JlY2VpdmVkOjB9KTtjb25zdCBqPXRoaXMub3ZlcmFsbENvbnN1bWVyc1N0YXRzTWFwW3VdO2lmKFsidmlkZW8iLCJhdWRpbyJdLmluY2x1ZGVzKGMubWVkaWFUeXBlKXx8WyJ2aWRlbyIsImF1ZGlvIl0uaW5jbHVkZXMoYy5raW5kKSl7aWYoIXRoaXMuaW5ib3VuZENvbnN1bWVyTWFwLmhhcyhmLmlkKSl7by5zdGFsZUNvbnN1bWVyU3RyZWFtTWFwPSEwO2JyZWFrfW8uY29uc3VtZXJTdHJlYW1NYXAuaGFzKHUpfHxvLmNvbnN1bWVyU3RyZWFtTWFwLnNldCh1LHtpbmJvdW5kVmlkZW9SdHBJZDpbXSxpbmJvdW5kQXVkaW9SdHBJZDpbXX0pO2NvbnN0ICQ9e2J5dGVzUmVjZWl2ZWQ6Yy5ieXRlc1JlY2VpdmVkLHBhY2tldHNSZWNlaXZlZDpjLnBhY2tldHNSZWNlaXZlZCxwYWNrZXRzTG9zdDpjLnBhY2tldHNMb3N0Pj0wP2MucGFja2V0c0xvc3Q6MCxqaXR0ZXI6Yy5qaXR0ZXIsbmFja0NvdW50OmMubmFja0NvdW50LGppdHRlckJ1ZmZlckRlbGF5OmMuaml0dGVyQnVmZmVyRGVsYXksaml0dGVyQnVmZmVyRW1pdHRlZENvdW50OmMuaml0dGVyQnVmZmVyRW1pdHRlZENvdW50LGxhc3RQYWNrZXRSZWNlaXZlZFRpbWVzdGFtcDpjLmxhc3RQYWNrZXRSZWNlaXZlZFRpbWVzdGFtcCxzc3JjOmMuc3NyYyxtaWQ6Yy5taWQsY29kZWNJZDpjLmNvZGVjSWQsaGVhZGVyQnl0ZXNSZWNlaXZlZDpjLmhlYWRlckJ5dGVzUmVjZWl2ZWR8fDAscGFja2V0c0Rpc2NhcmRlZDpjLnBhY2tldHNEaXNjYXJkZWR8fDAsaml0dGVyQnVmZmVyTWluaW11bURlbGF5OmMuaml0dGVyQnVmZmVyTWluaW11bURlbGF5fHwwLGppdHRlckJ1ZmZlclRhcmdldERlbGF5OmMuaml0dGVyQnVmZmVyVGFyZ2V0RGVsYXl8fDB9O2lmKGMubWVkaWFUeXBlPT09InZpZGVvInx8Yy5raW5kPT09InZpZGVvIil7Y29uc3Qgdj1jLGg9USh7ZnJhbWVIZWlnaHQ6di5mcmFtZUhlaWdodCxmcmFtZVdpZHRoOnYuZnJhbWVXaWR0aCxmcmFtZXNEZWNvZGVkOnYuZnJhbWVzRGVjb2RlZCxmcmFtZXNEcm9wcGVkOnYuZnJhbWVzRHJvcHBlZCxmcmFtZXNQZXJTZWNvbmQ6di5mcmFtZXNQZXJTZWNvbmQsZnJhbWVzUmVjZWl2ZWQ6di5mcmFtZXNSZWNlaXZlZCxrZXlGcmFtZXNEZWNvZGVkOnYua2V5RnJhbWVzRGVjb2RlZCxmaXJDb3VudDp2LmZpckNvdW50LGRlY29kZXJJbXBsZW1lbnRhdGlvbjp2LmRlY29kZXJJbXBsZW1lbnRhdGlvbixwbGlDb3VudDp2LnBsaUNvdW50LHRvdGFsUHJvY2Vzc2luZ0RlbGF5OnYudG90YWxQcm9jZXNzaW5nRGVsYXkscXBTdW06di5xcFN1bXx8MCx0b3RhbEFzc2VtYmx5VGltZTp2LnRvdGFsQXNzZW1ibHlUaW1lfHwwLHRvdGFsRGVjb2RlVGltZTp2LnRvdGFsRGVjb2RlVGltZXx8MCx0b3RhbEZyZWV6ZXNEdXJhdGlvbjp2LnRvdGFsRnJlZXplc0R1cmF0aW9ufHwwLHRvdGFsSW50ZXJGcmFtZURlbGF5OnYudG90YWxJbnRlckZyYW1lRGVsYXl8fDAsdG90YWxQYXVzZXNEdXJhdGlvbjp2LnRvdGFsUGF1c2VzRHVyYXRpb258fDAsdG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5OnYudG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5fHwwLGZyZWV6ZUNvdW50OnYuZnJlZXplQ291bnR8fDAscGF1c2VDb3VudDp2LnBhdXNlQ291bnR8fDAscG93ZXJFZmZpY2llbnREZWNvZGVyOnYucG93ZXJFZmZpY2llbnREZWNvZGVyfSwkKTtoLnNjb3JlPXdyKHtmcmFtZVdpZHRoOmguZnJhbWVXaWR0aHx8MCxmcmFtZXNEZWNvZGVkOihoLmZyYW1lc0RlY29kZWR8fDApLSgoKFY9dGhpcy52aWRlb0NvbnN1bWVyVG9TdGF0c01hcC5nZXQodSkpPT1udWxsP3ZvaWQgMDpWLmZyYW1lc0RlY29kZWQpfHwwKSxmcmFtZXNQZXJTZWNvbmQ6aC5mcmFtZXNQZXJTZWNvbmR8fDAscGFja2V0c0xvc3Q6KGgucGFja2V0c0xvc3R8fDApLSgoKEs9dGhpcy52aWRlb0NvbnN1bWVyVG9TdGF0c01hcC5nZXQodSkpPT1udWxsP3ZvaWQgMDpLLnBhY2tldHNMb3N0KXx8MCkscGFja2V0c1JlY2VpdmVkOihoLnBhY2tldHNSZWNlaXZlZHx8MCktKCgoWj10aGlzLnZpZGVvQ29uc3VtZXJUb1N0YXRzTWFwLmdldCh1KSk9PW51bGw/dm9pZCAwOloucGFja2V0c1JlY2VpdmVkKXx8MCksaml0dGVyOmguaml0dGVyfHwwLGlzU2NyZWVuU2hhcmU6dGhpcy5zY3JlZW5TaGFyZUNvbnN1bWVycy5oYXModSl9KSx4LnNldCh1LHtzY29yZTorKGguc2NvcmUqMTApLnRvRml4ZWQoKSxmcmFtZVdpZHRoOmguZnJhbWVXaWR0aHx8MCxmcmFtZUhlaWdodDpoLmZyYW1lSGVpZ2h0fHwwLGZyYW1lc1BlclNlY29uZDpoLmZyYW1lc1BlclNlY29uZHx8MCxwYWNrZXRzTG9zdFBlcmNlbnRhZ2U6dXQoe3BhY2tldHNMb3N0OihoLnBhY2tldHNMb3N0fHwwKS0oKChfZT10aGlzLnZpZGVvQ29uc3VtZXJUb1N0YXRzTWFwLmdldCh1KSk9PW51bGw/dm9pZCAwOl9lLnBhY2tldHNMb3N0KXx8MCkscGFja2V0c1JlY2VpdmVkOihoLnBhY2tldHNSZWNlaXZlZHx8MCktKCgodmU9dGhpcy52aWRlb0NvbnN1bWVyVG9TdGF0c01hcC5nZXQodSkpPT1udWxsP3ZvaWQgMDp2ZS5wYWNrZXRzUmVjZWl2ZWQpfHwwKX0pLGppdHRlcjpoLmppdHRlcnx8MCxpc1NjcmVlblNoYXJlOnRoaXMuc2NyZWVuU2hhcmVDb25zdW1lcnMuaGFzKHUpLGJpdHJhdGU6KChoLmJ5dGVzUmVjZWl2ZWR8fDApLSgoKEJlPXRoaXMudmlkZW9Db25zdW1lclRvU3RhdHNNYXAuZ2V0KHUpKT09bnVsbD92b2lkIDA6QmUuYnl0ZXNSZWNlaXZlZCl8fDApKSo4Lzd9KSx0aGlzLnZpZGVvQ29uc3VtZXJUb1N0YXRzTWFwLnNldCh1LGgpLG8uaW5ib3VuZFZpZGVvUnRwLnNldChmLmlkLGgpLG8uY29uc3VtZXJTdHJlYW1NYXAuZ2V0KHUpLmluYm91bmRWaWRlb1J0cElkLnB1c2goZi5pZCksdGhpcy5wcm9jZXNzSW5ib3VuZENvbnN1bWVyVmlkZW9TdGF0cyh1LGosaCl9ZWxzZSBpZihjLm1lZGlhVHlwZT09PSJhdWRpbyJ8fGMua2luZD09PSJhdWRpbyIpe2NvbnN0IHY9YyxoPVEoe2F1ZGlvTGV2ZWw6di5hdWRpb0xldmVsLGNvbmNlYWxlZFNhbXBsZXM6di5jb25jZWFsZWRTYW1wbGVzLGNvbmNlYWxtZW50RXZlbnRzOnYuY29uY2VhbG1lbnRFdmVudHMsdG90YWxBdWRpb0VuZXJneTp2LnRvdGFsQXVkaW9FbmVyZ3ksdG90YWxTYW1wbGVzRHVyYXRpb246di50b3RhbFNhbXBsZXNEdXJhdGlvbix0b3RhbFNhbXBsZXNSZWNlaXZlZDp2LnRvdGFsU2FtcGxlc1JlY2VpdmVkLGZlY1BhY2tldHNEaXNjYXJkZWQ6di5mZWNQYWNrZXRzRGlzY2FyZGVkfHwwLGZlY1BhY2tldHNSZWNlaXZlZDp2LmZlY1BhY2tldHNSZWNlaXZlZHx8MCxpbnNlcnRlZFNhbXBsZXNGb3JEZWNlbGVyYXRpb246di5pbnNlcnRlZFNhbXBsZXNGb3JEZWNlbGVyYXRpb258fDAscmVtb3ZlZFNhbXBsZXNGb3JBY2NlbGVyYXRpb246di5yZW1vdmVkU2FtcGxlc0ZvckFjY2VsZXJhdGlvbnx8MCxzaWxlbnRDb25jZWFsZWRTYW1wbGVzOnYuc2lsZW50Q29uY2VhbGVkU2FtcGxlc3x8MCxwbGF5b3V0SWQ6di5wbGF5b3V0SWR9LCQpO2guc2NvcmU9SXIoe2NvbmNlYWxtZW50RXZlbnRzOihoLmNvbmNlYWxtZW50RXZlbnRzfHwwKS0oKCh4ZT10aGlzLmF1ZGlvQ29uc3VtZXJUb1N0YXRzTWFwLmdldCh1KSk9PW51bGw/dm9pZCAwOnhlLmNvbmNlYWxtZW50RXZlbnRzKXx8MCkscGFja2V0c0xvc3Q6KGgucGFja2V0c0xvc3R8fDApLSgoKGplPXRoaXMuYXVkaW9Db25zdW1lclRvU3RhdHNNYXAuZ2V0KHUpKT09bnVsbD92b2lkIDA6amUucGFja2V0c0xvc3QpfHwwKSxwYWNrZXRzUmVjZWl2ZWQ6KGgucGFja2V0c1JlY2VpdmVkfHwwKS0oKChVZT10aGlzLmF1ZGlvQ29uc3VtZXJUb1N0YXRzTWFwLmdldCh1KSk9PW51bGw/dm9pZCAwOlVlLnBhY2tldHNSZWNlaXZlZCl8fDApLGppdHRlcjpoLmppdHRlcnx8MH0pLHguc2V0KHUse3Njb3JlOisoaC5zY29yZSoxMCkudG9GaXhlZCgpLHBhY2tldHNMb3N0UGVyY2VudGFnZTp1dCh7cGFja2V0c0xvc3Q6KGgucGFja2V0c0xvc3R8fDApLSgoKEhlPXRoaXMuYXVkaW9Db25zdW1lclRvU3RhdHNNYXAuZ2V0KHUpKT09bnVsbD92b2lkIDA6SGUucGFja2V0c0xvc3QpfHwwKSxwYWNrZXRzUmVjZWl2ZWQ6KGgucGFja2V0c1JlY2VpdmVkfHwwKS0oKChLZT10aGlzLmF1ZGlvQ29uc3VtZXJUb1N0YXRzTWFwLmdldCh1KSk9PW51bGw/dm9pZCAwOktlLnBhY2tldHNSZWNlaXZlZCl8fDApfSksaml0dGVyOmguaml0dGVyfHwwLGlzU2NyZWVuU2hhcmU6dGhpcy5zY3JlZW5TaGFyZUNvbnN1bWVycy5oYXModSksYml0cmF0ZTooKGguYnl0ZXNSZWNlaXZlZHx8MCktKCgoJGU9dGhpcy5hdWRpb0NvbnN1bWVyVG9TdGF0c01hcC5nZXQodSkpPT1udWxsP3ZvaWQgMDokZS5ieXRlc1JlY2VpdmVkKXx8MCkpKjgvN30pLHRoaXMuYXVkaW9Db25zdW1lclRvU3RhdHNNYXAuc2V0KHUsaCksby5pbmJvdW5kQXVkaW9SdHAuc2V0KGYuaWQsaCksby5jb25zdW1lclN0cmVhbU1hcC5nZXQodSkuaW5ib3VuZEF1ZGlvUnRwSWQucHVzaChmLmlkKSx0aGlzLnByb2Nlc3NJbmJvdW5kQ29uc3VtZXJBdWRpb1N0YXRzKHUsaixoKX19ZWxzZSB0aGlzLmNhbGxTdGF0c0luc3RhbmNlLmxvZ2dlci5lcnJvcihgQ2FsbHN0YXRzOiBVbmtub3duIEluYm91bmQtcnRwLiBtZWRpYXR5cGU6ICR7Yy5tZWRpYVR5cGV9IGtpbmQ6ICR7Yy5raW5kfWApO2JyZWFrfX19aWYoby5wcm9kdWNlclN0cmVhbU1hcC5mb3JFYWNoKChmLGMpPT57dmFyIHUsRSxqLCQsdixoLHosV2UsemUsR2UsWWUscWUsUWUsSmUsWGUsWmUsZXQsdHQscnQsbnQsc3QsaXQsYXQ7aWYoZi5vdXRib3VuZFZpZGVvUnRwSWQubGVuZ3RoPjApe2NvbnN0IE49W107Zi5vdXRib3VuZFZpZGVvUnRwSWQuZm9yRWFjaChzcj0+e04ucHVzaChvLm91dGJvdW5kVmlkZW9SdHAuZ2V0KHNyKSl9KTtjb25zdCBBPXRoaXMuZ2V0V29ya2luZ1NpbXVsY2FzdFZpZGVvU3RhdHMoTik7QS5zY29yZT1Dcih7ZnJhbWVXaWR0aDpBLmZyYW1lV2lkdGh8fDAsZnJhbWVzUGVyU2Vjb25kOkEuZnJhbWVzUGVyU2Vjb25kfHwwLGppdHRlcjooKHU9QS5yZW1vdGVEYXRhKT09bnVsbD92b2lkIDA6dS5qaXR0ZXIpfHwwLGlzU2NyZWVuU2hhcmU6dGhpcy5zY3JlZW5TaGFyZVByb2R1Y2Vycy5oYXMoYykscGFja2V0c1NlbnQ6KEEucGFja2V0c1NlbnR8fDApLSgoKEU9dGhpcy52aWRlb1Byb2R1Y2VyVG9TdGF0c01hcC5nZXQoYykpPT1udWxsP3ZvaWQgMDpFLnBhY2tldHNTZW50KXx8MCkscGFja2V0c0xvc3Q6KCgoaj1BLnJlbW90ZURhdGEpPT1udWxsP3ZvaWQgMDpqLnBhY2tldHNMb3N0KXx8MCktKCgodj0oJD10aGlzLnZpZGVvUHJvZHVjZXJUb1N0YXRzTWFwLmdldChjKSk9PW51bGw/dm9pZCAwOiQucmVtb3RlRGF0YSk9PW51bGw/dm9pZCAwOnYucGFja2V0c0xvc3QpfHwwKSxmcmFtZXNFbmNvZGVkOihBLmZyYW1lc0VuY29kZWR8fDApLSgoKGg9dGhpcy52aWRlb1Byb2R1Y2VyVG9TdGF0c01hcC5nZXQoYykpPT1udWxsP3ZvaWQgMDpoLmZyYW1lc0VuY29kZWQpfHwwKX0pLHcuc2V0KGMse3Njb3JlOisoQS5zY29yZSoxMCkudG9GaXhlZCgpLGZyYW1lV2lkdGg6QS5mcmFtZVdpZHRofHwwLGZyYW1lSGVpZ2h0OkEuZnJhbWVIZWlnaHR8fDAsZnJhbWVzUGVyU2Vjb25kOkEuZnJhbWVzUGVyU2Vjb25kfHwwLGppdHRlcjooKHo9QS5yZW1vdGVEYXRhKT09bnVsbD92b2lkIDA6ei5qaXR0ZXIpfHwwLGlzU2NyZWVuU2hhcmU6dGhpcy5zY3JlZW5TaGFyZVByb2R1Y2Vycy5oYXMoYykscGFja2V0c0xvc3RQZXJjZW50YWdlOmx0KHtwYWNrZXRzU2VudDooQS5wYWNrZXRzU2VudHx8MCktKCgoV2U9dGhpcy52aWRlb1Byb2R1Y2VyVG9TdGF0c01hcC5nZXQoYykpPT1udWxsP3ZvaWQgMDpXZS5wYWNrZXRzU2VudCl8fDApLHBhY2tldHNMb3N0OigoKHplPUEucmVtb3RlRGF0YSk9PW51bGw/dm9pZCAwOnplLnBhY2tldHNMb3N0KXx8MCktKCgoWWU9KEdlPXRoaXMudmlkZW9Qcm9kdWNlclRvU3RhdHNNYXAuZ2V0KGMpKT09bnVsbD92b2lkIDA6R2UucmVtb3RlRGF0YSk9PW51bGw/dm9pZCAwOlllLnBhY2tldHNMb3N0KXx8MCl9KSxiaXRyYXRlOigoQS5ieXRlc1NlbnR8fDApLSgoKHFlPXRoaXMudmlkZW9Qcm9kdWNlclRvU3RhdHNNYXAuZ2V0KGMpKT09bnVsbD92b2lkIDA6cWUuYnl0ZXNTZW50KXx8MCkpKjgvNyxjcHVMaW1pdGF0aW9uczpBLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uPT09ImNwdSIsYmFuZHdpZHRoTGltaXRhdGlvbnM6QS5xdWFsaXR5TGltaXRhdGlvblJlYXNvbj09PSJiYW5kd2lkdGgifSksdGhpcy52aWRlb1Byb2R1Y2VyVG9TdGF0c01hcC5zZXQoYyxBKX1lbHNlIGlmKGYub3V0Ym91bmRBdWRpb1J0cElkLmxlbmd0aD4wKXtjb25zdCBOPW8ub3V0Ym91bmRBdWRpb1J0cC5nZXQoZi5vdXRib3VuZEF1ZGlvUnRwSWRbMF0pO04uc2NvcmU9UnIoe3BhY2tldHNTZW50OihOLnBhY2tldHNTZW50fHwwKS0oKChRZT10aGlzLmF1ZGlvUHJvZHVjZXJUb1N0YXRzTWFwLmdldChjKSk9PW51bGw/dm9pZCAwOlFlLnBhY2tldHNTZW50KXx8MCkscGFja2V0c0xvc3Q6KCgoSmU9Ti5yZW1vdGVEYXRhKT09bnVsbD92b2lkIDA6SmUucGFja2V0c0xvc3QpfHwwKS0oKChaZT0oWGU9dGhpcy5hdWRpb1Byb2R1Y2VyVG9TdGF0c01hcC5nZXQoYykpPT1udWxsP3ZvaWQgMDpYZS5yZW1vdGVEYXRhKT09bnVsbD92b2lkIDA6WmUucGFja2V0c0xvc3QpfHwwKSxqaXR0ZXI6KChldD1OLnJlbW90ZURhdGEpPT1udWxsP3ZvaWQgMDpldC5qaXR0ZXIpfHwwfSksdy5zZXQoYyx7c2NvcmU6KyhOLnNjb3JlKjEwKS50b0ZpeGVkKCksYml0cmF0ZTooKE4uYnl0ZXNTZW50fHwwKS0oKCh0dD10aGlzLmF1ZGlvUHJvZHVjZXJUb1N0YXRzTWFwLmdldChjKSk9PW51bGw/dm9pZCAwOnR0LmJ5dGVzU2VudCl8fDApKSo4LzcscGFja2V0c0xvc3RQZXJjZW50YWdlOmx0KHtwYWNrZXRzU2VudDooTi5wYWNrZXRzU2VudHx8MCktKCgocnQ9dGhpcy5hdWRpb1Byb2R1Y2VyVG9TdGF0c01hcC5nZXQoYykpPT1udWxsP3ZvaWQgMDpydC5wYWNrZXRzU2VudCl8fDApLHBhY2tldHNMb3N0OigoKG50PU4ucmVtb3RlRGF0YSk9PW51bGw/dm9pZCAwOm50LnBhY2tldHNMb3N0KXx8MCktKCgoaXQ9KHN0PXRoaXMuYXVkaW9Qcm9kdWNlclRvU3RhdHNNYXAuZ2V0KGMpKT09bnVsbD92b2lkIDA6c3QucmVtb3RlRGF0YSk9PW51bGw/dm9pZCAwOml0LnBhY2tldHNMb3N0KXx8MCl9KSxqaXR0ZXI6KChhdD1OLnJlbW90ZURhdGEpPT1udWxsP3ZvaWQgMDphdC5qaXR0ZXIpfHwwLGlzU2NyZWVuU2hhcmU6dGhpcy5zY3JlZW5TaGFyZVByb2R1Y2Vycy5oYXMoYyl9KSx0aGlzLmF1ZGlvUHJvZHVjZXJUb1N0YXRzTWFwLnNldChjLE4pfX0pLHkuZm9yRWFjaChmPT57Y29uc3QgYz1tLmZpbmQoRT0+RS5pZD09PWYubG9jYWxDYW5kaWRhdGVJZD8oZi5sb2NhbENhbmRpZGF0ZUlkPUUuaWQsRSk6bnVsbCksdT1fLmZpbmQoRT0+RS5pZD09PWYucmVtb3RlQ2FuZGlkYXRlSWQ/KGYucmVtb3RlQ2FuZGlkYXRlSWQ9RS5pZCxFKTpudWxsKTtjJiYoZi5sb2NhbENhbmRpZGF0ZVR5cGU9Yy50eXBlLGYubG9jYWxDYW5kaWRhdGVBZGRyZXNzPWFlKGMuYWRkcmVzcyksZi5sb2NhbENhbmRpZGF0ZVBvcnQ9Yy5wb3J0LGYubG9jYWxDYW5kaWRhdGVQcm90b2NvbD1jLnByb3RvY29sLGYubG9jYWxDYW5kaWRhdGVVcmw9Yy51cmwsZi5sb2NhbENhbmRpZGF0ZU5ldHdvcmtUeXBlPWMubmV0d29ya1R5cGUsZi5sb2NhbENhbmRpZGF0ZVJlbGF0ZWRBZGRyZXNzPWFlKGMucmVsYXRlZEFkZHJlc3MpLGYubG9jYWxDYW5kaWRhdGVSZWxhdGVkUG9ydD1jLnJlbGF0ZWRQb3J0KSx1JiYoZi5yZW1vdGVDYW5kaWRhdGVUeXBlPXUudHlwZSxmLnJlbW90ZUNhbmRpZGF0ZUFkZHJlc3M9YWUodS5hZGRyZXNzKSxmLnJlbW90ZUNhbmRpZGF0ZVBvcnQ9dS5wb3J0LGYucmVtb3RlQ2FuZGlkYXRlUHJvdG9jb2w9dS5wcm90b2NvbCxmLnJlbW90ZUNhbmRpZGF0ZVVybD11LnVybCl9KSxvLmNhbmRpZGF0ZVBhaXImJihvLnRyYW5zcG9ydD8oby50cmFuc3BvcnQudG90YWxSb3VuZFRyaXBUaW1lPW8uY2FuZGlkYXRlUGFpci50b3RhbFJvdW5kVHJpcFRpbWUsby50cmFuc3BvcnQuYXZhaWxhYmxlT3V0Z29pbmdCaXRyYXRlPW8uY2FuZGlkYXRlUGFpci5hdmFpbGFibGVPdXRnb2luZ0JpdHJhdGUsby50cmFuc3BvcnQuYXZhaWxhYmxlSW5jb21pbmdCaXRyYXRlPW8uY2FuZGlkYXRlUGFpci5hdmFpbGFibGVJbmNvbWluZ0JpdHJhdGUsby50cmFuc3BvcnQucm91bmRUcmlwVGltZT1vLmNhbmRpZGF0ZVBhaXIuY3VycmVudFJvdW5kVHJpcFRpbWUpOm8udHJhbnNwb3J0PXtieXRlc1JlY2VpdmVkOm8uY2FuZGlkYXRlUGFpci5ieXRlc1JlY2VpdmVkLGJ5dGVzU2VudDpvLmNhbmRpZGF0ZVBhaXIuYnl0ZXNTZW50LHRvdGFsUm91bmRUcmlwVGltZTpvLmNhbmRpZGF0ZVBhaXIudG90YWxSb3VuZFRyaXBUaW1lLGF2YWlsYWJsZU91dGdvaW5nQml0cmF0ZTpvLmNhbmRpZGF0ZVBhaXIuYXZhaWxhYmxlT3V0Z29pbmdCaXRyYXRlLGF2YWlsYWJsZUluY29taW5nQml0cmF0ZTpvLmNhbmRpZGF0ZVBhaXIuYXZhaWxhYmxlSW5jb21pbmdCaXRyYXRlLHJvdW5kVHJpcFRpbWU6by5jYW5kaWRhdGVQYWlyLmN1cnJlbnRSb3VuZFRyaXBUaW1lfSksby50cmFuc3BvcnQmJihvLnRyYW5zcG9ydC5jYW5kaWRhdGVQYWlycz15KSxvLnRyYW5zcG9ydCYmIW8udHJhbnNwb3J0LnJvdW5kVHJpcFRpbWUpe2xldCBmPTAsYz0wO28ucmVtb3RlSW5ib3VuZFJ0cC5mb3JFYWNoKCh1LEUpPT57dS5yb3VuZFRyaXBUaW1lJiZ1LnJvdW5kVHJpcFRpbWU+ZiYmKGY9dS5yb3VuZFRyaXBUaW1lLGM9dS50b3RhbFJvdW5kVHJpcFRpbWUpfSksby50cmFuc3BvcnQucm91bmRUcmlwVGltZT1mLG8udHJhbnNwb3J0LnRvdGFsUm91bmRUcmlwVGltZT1jfWlmKHguc2l6ZT4wKXRyeXt0aGlzLm9ic2VydmVyLmVtaXQoImNvbnN1bWVyX3Njb3JlIix4KX1jYXRjaChmKXt9aWYody5zaXplPjApdHJ5e3RoaXMub2JzZXJ2ZXIuZW1pdCgicHJvZHVjZXJfc2NvcmUiLHcpfWNhdGNoKGYpe31yZXR1cm4gb31nZXRQcm9kdWNlcnNSZXBvcnQoZSl7cmV0dXJuIEkodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IG49ZS5tYXAocz0+dGhpcy5nZW5lcmF0ZVByb2R1Y2VyU3RyZWFtTWFwKHMsITApKTtyZXR1cm4gbi5sZW5ndGg+MD9Qcm9taXNlLmFsbChuKTp2b2lkIDB9KX1nZXRDb25zdW1lcnNSZXBvcnQoZSl7cmV0dXJuIEkodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IG49ZS5tYXAocz0+dGhpcy5nZW5lcmF0ZUNvbnN1bWVyU3RyZWFtTWFwKHMsITApKTtyZXR1cm4gbi5sZW5ndGg+MD9Qcm9taXNlLmFsbChuKTp2b2lkIDB9KX1nZXRUcmFuc3BvcnRSZXBvcnQoZSl7cmV0dXJuIEkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiBlLmdldFN0YXRzKCl9KX1nZXRQcm9jZXNzZWRTdGF0cyhlLG4scyl7cmV0dXJuIEkodGhpcyxudWxsLGZ1bmN0aW9uKigpe2NvbnN0IGk9eWllbGQgdGhpcy5nZXRUcmFuc3BvcnRSZXBvcnQoZSksYT17cHJvZHVjaW5nOnMsY29uc3VtaW5nOm4saWQ6ZS5pZH0sZD1pLG89dGhpcy5wYXJzZVJUQ1JlcG9ydChkLFsidHJhbnNwb3J0IiwiY2FuZGlkYXRlLXBhaXIiLCJpbmJvdW5kLXJ0cCIsIm91dGJvdW5kLXJ0cCIsInJlbW90ZS1pbmJvdW5kLXJ0cCIsImxvY2FsLWNhbmRpZGF0ZSIsInJlbW90ZS1jYW5kaWRhdGUiXSwhMSx2b2lkIDAsYSk7aWYoIW8pcmV0dXJuO2NvbnN0IGw9e3N0YXRzOm8udHJhbnNwb3J0LHRyYW5zcG9ydElkOmUuaWQsY29uc3VtaW5nOm4scHJvZHVjaW5nOnN9LG09by5zdGFsZVByb2R1Y2VyU3RyZWFtTWFwP3ZvaWQgMDp0aGlzLmdldFByb2R1Y2VyU3RhdHNGcm9tUmVwb3J0KG8pLF89by5zdGFsZUNvbnN1bWVyU3RyZWFtTWFwP3ZvaWQgMDp0aGlzLmdldENvbnN1bWVyU3RhdHNGcm9tUmVwb3J0KG8pO3JldHVybnt0cmFuc3BvcnRSZXBvcnQ6bCxwcm9kdWNlclJlcG9ydDptLGNvbnN1bWVyUmVwb3J0Ol99fSl9Z2V0UHJvZHVjZXJTdGF0c0Zyb21SZXBvcnQoZSl7Y29uc3Qgbj1bXTt0cnl7ZS5wcm9kdWNlclN0cmVhbU1hcC5mb3JFYWNoKChzLGkpPT57dmFyIGEsZDtuLnB1c2goe3Byb2R1Y2VySWQ6aSx2aWRlb1N0YXRzOnMub3V0Ym91bmRWaWRlb1J0cElkLm1hcChvPT5lLm91dGJvdW5kVmlkZW9SdHAuZ2V0KG8pKSxhdWRpb1N0YXRzOnMub3V0Ym91bmRBdWRpb1J0cElkLm1hcChvPT5lLm91dGJvdW5kQXVkaW9SdHAuZ2V0KG8pKSxhcHBEYXRhOigoZD0oYT10aGlzLmNhbGxTdGF0c0luc3RhbmNlLnByb2R1Y2Vycyk9PW51bGw/dm9pZCAwOmEuZ2V0KGkpKT09bnVsbD92b2lkIDA6ZC5hcHBEYXRhKXx8bnVsbH0pfSl9Y2F0Y2gocyl7dGhpcy5jYWxsU3RhdHNJbnN0YW5jZS5sb2dnZXIuZXJyb3IoImNhbGxTdGF0czo6bWVhc3VyZW1lbnRzOjpnZXRQcm9kdWNlclN0YXRzRnJvbVJlcG9ydCIse2Vycm9yOntyZWFzb246cy5yZWFzb24sbWVzc2FnZTpzLm1lc3NhZ2V9fSl9cmV0dXJuIG59Z2V0Q29uc3VtZXJTdGF0c0Zyb21SZXBvcnQoZSl7Y29uc3Qgbj1bXTt0cnl7ZS5jb25zdW1lclN0cmVhbU1hcC5mb3JFYWNoKChzLGkpPT57Y29uc3R7cGVlcklkOmEscHJvZHVjZXJJZDpkLGFwcERhdGE6b309dGhpcy5jb25zdW1lclBlZXJJZE1hcC5nZXQoaSk7bi5wdXNoKHtjb25zdW1lcklkOmkscGVlcklkOmEscHJvZHVjZXJJZDpkLGFwcERhdGE6byx2aWRlb1N0YXRzOnMuaW5ib3VuZFZpZGVvUnRwSWQubWFwKGw9PmUuaW5ib3VuZFZpZGVvUnRwLmdldChsKSksYXVkaW9TdGF0czpzLmluYm91bmRBdWRpb1J0cElkLm1hcChsPT5lLmluYm91bmRBdWRpb1J0cC5nZXQobCkpfSl9KX1jYXRjaChzKXtjb25zb2xlLmVycm9yKCJnZXRDb25zdW1lcnNSZXBvcnQ6ICIscyxlKX1yZXR1cm4gbn1nZXRVc2VyTG9jYXRpb24oKXtyZXR1cm4gSSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIG5ldyBQcm9taXNlKChlLG4pPT57dHJ5e25hdmlnYXRvci5nZW9sb2NhdGlvbj9uYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHM9PntlKHMpfSk6bigpfWNhdGNoKHMpe24ocyl9fSl9KX1nZXRDb25uZWN0aXZpdHkoZSl7cmV0dXJuIEkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RyeXtjb25zdCBuPXtpY2VTZXJ2ZXJzOmV8fGtyfSxzPW5ldyBQcm9taXNlKChtLF8pPT57dHJ5e2NvbnN0IHk9bmV3IFRzKG4pO3kuYWRkTGlzdGVuZXIoImRvbmUiLG0pLHkuYWRkTGlzdGVuZXIoImZhaWxlZCIsKCk9PnttKHtjb25uZWN0aXZpdHk6ITF9KX0pLHkuc3RhcnQoMmUzKX1jYXRjaCh5KXtfKHkpfX0pLGk9bmV3IFByb21pc2UoKG0sXyk9Pnt0cnl7Y29uc3QgeT1uZXcgUnMobik7eS5hZGRMaXN0ZW5lcigiZG9uZSIsbSkseS5hZGRMaXN0ZW5lcigiZmFpbGVkIiwoKT0+e20oe2Nvbm5lY3Rpdml0eTohMX0pfSkseS5zdGFydCgyZTMpfWNhdGNoKHkpe18oeSl9fSksYT1uZXcgUHJvbWlzZSgobSxfKT0+e3RyeXtjb25zdCB5PW5ldyBDcyhuKTt5LmFkZExpc3RlbmVyKCJkb25lIixtKSx5LmFkZExpc3RlbmVyKCJmYWlsZWQiLCgpPT57bSh7Y29ubmVjdGl2aXR5OiExfSl9KSx5LnN0YXJ0KDJlMyl9Y2F0Y2goeSl7Xyh5KX19KSxbZCxvLGxdPXlpZWxkIFByb21pc2UuYWxsKFtzLGksYV0pO3JldHVybntob3N0OmQ9PW51bGw/dm9pZCAwOmQuY29ubmVjdGl2aXR5LHJlbGF5Om89PW51bGw/dm9pZCAwOm8uY29ubmVjdGl2aXR5LHJlZmxleGl2ZTpsPT1udWxsP3ZvaWQgMDpsLmNvbm5lY3Rpdml0eX19Y2F0Y2gobil7cmV0dXJue2hvc3Q6ITEscmVsYXk6ITEscmVmbGV4aXZlOiExfX19KX1nZXRUaHJvdWdocHV0KGUpe3JldHVybiBJKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0cnl7Y29uc3Qgcz15aWVsZCBuZXcgUHJvbWlzZSgoaSxhKT0+e3RyeXtjb25zdCBkPXtpY2VTZXJ2ZXJzOmV8fGtyfSxvPW5ldyBicyhkKTtvLmFkZExpc3RlbmVyKCJkb25lIixpKSxvLmFkZExpc3RlbmVyKCJmYWlsZWQiLGEpLG8uc3RhcnQoMWU0KX1jYXRjaChkKXthKGQpfX0pO3JldHVybnt0aHJvdWdocHV0OnMudGhyb3VnaHB1dCxmcmFjdGlvbmFsTG9zczowLFJUVDpzLlJUVCxqaXR0ZXI6MCxiYWNrZW5kUlRUOnMuYmFja2VuZFJUVH19Y2F0Y2gobil7cmV0dXJufX0pfWdldElQRGV0YWlscygpe3JldHVybiBJKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgZSxuO3RyeXtyZXR1cm4gdGhpcy5pcERldGFpbHN8fCh0aGlzLmlwRGV0YWlscz15aWVsZCBNci5nZXRJUERldGFpbHMoe3BlZXJJZDooZT10aGlzLmNhbGxTdGF0c0luc3RhbmNlKT09bnVsbD92b2lkIDA6ZS5wZWVySWQsYXBpSG9zdG5hbWVzOihuPXRoaXMuY2FsbFN0YXRzSW5zdGFuY2UpPT1udWxsP3ZvaWQgMDpuLmFwaUhvc3RuYW1lcyxsb2dnZXI6dGhpcy5jYWxsU3RhdHNJbnN0YW5jZS5sb2dnZXJ9KSksdGhpcy5pcERldGFpbHN9Y2F0Y2gocyl7cmV0dXJufX0pfWdldE5ldHdvcmtRdWFsaXR5KGUpe3JldHVybiBJKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdFtuLHNdPXlpZWxkIFByb21pc2UuYWxsKFt0aGlzLmdldENvbm5lY3Rpdml0eShlKSx0aGlzLmdldFRocm91Z2hwdXQoZSldKTtyZXR1cm57Y29ubmVjdGl2aXR5Om4sdGhyb3VnaHB1dDpzPT1udWxsP3ZvaWQgMDpzLnRocm91Z2hwdXQsZnJhY3Rpb25hbExvc3M6cz09bnVsbD92b2lkIDA6cy5mcmFjdGlvbmFsTG9zcyxSVFQ6cz09bnVsbD92b2lkIDA6cy5SVFQsaml0dGVyOnM9PW51bGw/dm9pZCAwOnMuaml0dGVyLGJhY2tlbmRSVFQ6cz09bnVsbD92b2lkIDA6cy5iYWNrZW5kUlRUfX0pfWdldE5ldHdvcmtJbmZvKGUsbj0hMSl7cmV0dXJuIEkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBkLG87aWYobil7Y29uc3QgbD15aWVsZCB0aGlzLmdldElQRGV0YWlscygpO3JldHVybntpcERldGFpbHM6bCxlZmZlY3RpdmVOZXR3b3JrVHlwZTooZD1uYXZpZ2F0b3IuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOmQuZWZmZWN0aXZlVHlwZSxsb2NhdGlvbjpsIT1udWxsJiZsLmxvYz9PcihsPT1udWxsP3ZvaWQgMDpsLmxvYyk6dm9pZCAwfX1jb25zdFtzLGksYV09eWllbGQgUHJvbWlzZS5hbGwoW3RoaXMuZ2V0Q29ubmVjdGl2aXR5KGUpLHRoaXMuZ2V0VGhyb3VnaHB1dChlKSx0aGlzLmdldElQRGV0YWlscygpXSk7cmV0dXJue2lwRGV0YWlsczphLGVmZmVjdGl2ZU5ldHdvcmtUeXBlOihvPW5hdmlnYXRvci5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6by5lZmZlY3RpdmVUeXBlLGxvY2F0aW9uOmEhPW51bGwmJmEubG9jP09yKGE9PW51bGw/dm9pZCAwOmEubG9jKTp2b2lkIDAsdHVybkNvbm5lY3Rpdml0eTpzP3MuaG9zdHx8cy5yZWxheXx8cy5yZWZsZXhpdmU6ITEsY29ubmVjdGl2aXR5OnMsdGhyb3VnaHB1dDppPT1udWxsP3ZvaWQgMDppLnRocm91Z2hwdXQsZnJhY3Rpb25hbExvc3M6aT09bnVsbD92b2lkIDA6aS5mcmFjdGlvbmFsTG9zcyxSVFQ6aT09bnVsbD92b2lkIDA6aS5SVFQsaml0dGVyOmk9PW51bGw/dm9pZCAwOmkuaml0dGVyLGJhY2tlbmRSVFQ6aT09bnVsbD92b2lkIDA6aS5iYWNrZW5kUlRUfX0pfX1jbGFzcyBJcyBleHRlbmRzIERye31jbGFzcyBOciBleHRlbmRzIERye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTtwKHRoaXMsInByb2R1Y2VyTWFwIixuZXcgTWFwKTtwKHRoaXMsImNvbnN1bWVyTWFwIixuZXcgTWFwKX1yZWdpc3RlclByb2R1Y2VyKGUpe3JldHVybiBJKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0aGlzLnByb2R1Y2VyTWFwLnNldChlLmlkLGUpLHlpZWxkIHRoaXMuZ2VuZXJhdGVQcm9kdWNlclN0cmVhbU1hcChlKSxlLm9uKCJjbG9zZSIsdGhpcy5kZXJlZ2lzdGVyUHJvZHVjZXIuYmluZCh0aGlzLGUpKSxlLm9uKCJwYXVzZSIsdGhpcy5wYXVzZVByb2R1Y2VyLmJpbmQodGhpcyxlLmlkKSksZS5vbigicmVzdW1lIix0aGlzLnJlc3VtZVByb2R1Y2VyLmJpbmQodGhpcyxlLmlkKSksZS5hcHBEYXRhLnNjcmVlblNoYXJlPT09ITAmJnRoaXMuc2NyZWVuU2hhcmVQcm9kdWNlcnMuYWRkKGUuaWQpfSl9cmVnaXN0ZXJDb25zdW1lcihlKXtyZXR1cm4gSSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dGhpcy5jb25zdW1lck1hcC5zZXQoZS5pZCxlKSx5aWVsZCB0aGlzLmdlbmVyYXRlQ29uc3VtZXJTdHJlYW1NYXAoZSksdGhpcy5jb25zdW1lclBlZXJJZE1hcC5zZXQoZS5pZCx7cHJvZHVjZXJJZDplLnByb2R1Y2VySWQscGVlcklkOmUuYXBwRGF0YS5wZWVySWQsYXBwRGF0YTplLmFwcERhdGF9KSxlLm9uKCJjbG9zZSIsdGhpcy5kZXJlZ2lzdGVyQ29uc3VtZXIuYmluZCh0aGlzLGUpKSxlLm9uKCJwYXVzZSIsdGhpcy5wYXVzZUNvbnN1bWVyLmJpbmQodGhpcyxlLmlkKSksZS5vbigicmVzdW1lIix0aGlzLnJlc3VtZUNvbnN1bWVyLmJpbmQodGhpcyxlLmlkKSksZS5hcHBEYXRhLnNjcmVlblNoYXJlPT09ITAmJnRoaXMuc2NyZWVuU2hhcmVDb25zdW1lcnMuYWRkKGUuaWQpfSl9Z2VuZXJhdGVDb25zdW1lclN0cmVhbU1hcChlLG49ITEpe3JldHVybiBJKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBzPXlpZWxkIGUuZ2V0U3RhdHMoKSxpPXRoaXMucGFyc2VSVENSZXBvcnQocyxbImluYm91bmQtcnRwIl0sITEsZS5pZCksYT1bLi4uaS5jb25zdW1lclN0cmVhbU1hcC52YWx1ZXMoKV1bMF0sZD1uP3RoaXMuZ2V0Q29uc3VtZXJTdGF0c0Zyb21QYXJzZWRDb25zdW1lclN0YXRzKGksYSxlLmlkKTp2b2lkIDA7Zm9yKGNvbnN0IG8gb2Ygcy52YWx1ZXMoKSlzd2l0Y2goby50eXBlKXtjYXNlImluYm91bmQtcnRwIjp7dGhpcy5pbmJvdW5kQ29uc3VtZXJNYXAuc2V0KG8uaWQsZS5pZCk7YnJlYWt9fXJldHVybiBkfSl9ZGVyZWdpc3RlclByb2R1Y2VyKGUpe3RoaXMucHJvZHVjZXJNYXAuZGVsZXRlKGUuaWQpLHRoaXMub3V0Ym91bmRQcm9kdWNlck1hcC5mb3JFYWNoKChuLHMpPT57bj09PWUuaWQmJnRoaXMub3V0Ym91bmRQcm9kdWNlck1hcC5kZWxldGUocyl9KSx0aGlzLnBhdXNlZFByb2R1Y2VyTWFwLmRlbGV0ZShlLmlkKSx0aGlzLnNjcmVlblNoYXJlUHJvZHVjZXJzLmRlbGV0ZShlLmlkKX1kZXJlZ2lzdGVyQ29uc3VtZXIoZSl7dGhpcy5jb25zdW1lck1hcC5kZWxldGUoZS5pZCksdGhpcy5pbmJvdW5kQ29uc3VtZXJNYXAuZm9yRWFjaCgobixzKT0+e249PT1lLmlkJiZ0aGlzLmluYm91bmRDb25zdW1lck1hcC5kZWxldGUocyl9KSx0aGlzLmNvbnN1bWVyUGVlcklkTWFwLmRlbGV0ZShlLmlkKSx0aGlzLnBhdXNlZENvbnN1bWVyTWFwLmRlbGV0ZShlLmlkKSx0aGlzLnNjcmVlblNoYXJlQ29uc3VtZXJzLmRlbGV0ZShlLmlkKX1nZXRJY2VDYW5kaWRhdGVTdGF0cyhlKXt2YXIgbjtyZXR1cm57aWQ6ZS5pZCx0eXBlOmUuY2FuZGlkYXRlVHlwZXx8ZS50eXBlLGFkZHJlc3M6ZS5hZGRyZXNzLHBvcnQ6ZS5wb3J0LHVybDplLnVybCxwcm90b2NvbDoobj1lLnJlbGF5UHJvdG9jb2wpIT1udWxsP246ZS5wcm90b2NvbCxuZXR3b3JrVHlwZTplLm5ldHdvcmtUeXBlLHJlbGF0ZWRBZGRyZXNzOmUucmVsYXRlZEFkZHJlc3MscmVsYXRlZFBvcnQ6ZS5yZWxhdGVkUG9ydH19cGFyc2VSVENSZXBvcnQoZSxuPVtdLHM9ITEsaT12b2lkIDAsYT12b2lkIDApe3ZhciBILFYsSyxaLF9lLHZlLEJlLHhlLGplLFVlLEhlLEtlLCRlO2NvbnN0IGQ9ZSxvPW5ldyBMcixsPW4ubGVuZ3RoP25ldyBTZXQobik6dm9pZCAwLG09W10sXz1bXSx5PVtdLHc9bmV3IE1hcCx4PW5ldyBNYXA7Zm9yKGNvbnN0IGYgb2YgZC52YWx1ZXMoKSl7aWYobCl7aWYobC5zaXplPT09MClicmVhaztpZihsLmhhcyhmLnR5cGUpKXMmJmwuZGVsZXRlKGYudHlwZSk7ZWxzZSBjb250aW51ZX1zd2l0Y2goZi50eXBlKXtjYXNlImxvY2FsLWNhbmRpZGF0ZSI6e20ucHVzaCh0aGlzLmdldEljZUNhbmRpZGF0ZVN0YXRzKGYpKTticmVha31jYXNlInJlbW90ZS1jYW5kaWRhdGUiOntfLnB1c2godGhpcy5nZXRJY2VDYW5kaWRhdGVTdGF0cyhmKSk7YnJlYWt9Y2FzZSJjYW5kaWRhdGUtcGFpciI6e2NvbnN0e25vbWluYXRlZDpjfT1mLHtzZWxlY3RlZDp1fT1mLEU9ZixqPXtub21pbmF0ZWQ6YyE9bnVsbD9jOnUsY3VycmVudFJvdW5kVHJpcFRpbWU6RS5jdXJyZW50Um91bmRUcmlwVGltZSx0b3RhbFJvdW5kVHJpcFRpbWU6RS50b3RhbFJvdW5kVHJpcFRpbWUsYnl0ZXNSZWNlaXZlZDpFLmJ5dGVzUmVjZWl2ZWQsYnl0ZXNTZW50OkUuYnl0ZXNTZW50LGF2YWlsYWJsZU91dGdvaW5nQml0cmF0ZTpFLmF2YWlsYWJsZU91dGdvaW5nQml0cmF0ZSxhdmFpbGFibGVJbmNvbWluZ0JpdHJhdGU6RS5hdmFpbGFibGVJbmNvbWluZ0JpdHJhdGUsbGFzdFBhY2tldFJlY2VpdmVkVGltZXN0YW1wOkUubGFzdFBhY2tldFJlY2VpdmVkVGltZXN0YW1wLGxhc3RQYWNrZXRTZW50VGltZXN0YW1wOkUubGFzdFBhY2tldFNlbnRUaW1lc3RhbXAsbG9jYWxDYW5kaWRhdGVJZDpFLmxvY2FsQ2FuZGlkYXRlSWQscmVtb3RlQ2FuZGlkYXRlSWQ6RS5yZW1vdGVDYW5kaWRhdGVJZCxieXRlc0Rpc2NhcmRlZE9uU2VuZDpFLmJ5dGVzRGlzY2FyZGVkT25TZW5kLHBhY2tldHNTZW50OkUucGFja2V0c1NlbnQscGFja2V0c1JlY2VpdmVkOkUucGFja2V0c1JlY2VpdmVkLHBhY2tldHNEaXNjYXJkZWRPblNlbmQ6RS5wYWNrZXRzRGlzY2FyZGVkT25TZW5kfTt5LnB1c2goaiksKGYubm9taW5hdGVkPT09ITB8fGYuc2VsZWN0ZWQ9PT0hMCkmJihvLmNhbmRpZGF0ZVBhaXI9aik7YnJlYWt9Y2FzZSJ0cmFuc3BvcnQiOntjb25zdCBjPWY7YSYmKGEucHJvZHVjaW5nJiYodGhpcy5vdmVyYWxsUHJvZHVjaW5nVHJhbnNwb3J0c1N0YXRzTWFwW2EuaWRdfHwodGhpcy5vdmVyYWxsUHJvZHVjaW5nVHJhbnNwb3J0c1N0YXRzTWFwW2EuaWRdPXt0b3RhbFBhY2tldHNTZW50OjB9KSksYS5jb25zdW1pbmcmJih0aGlzLm92ZXJhbGxDb25zdW1pbmdUcmFuc3BvcnRzU3RhdHNNYXBbYS5pZF18fCh0aGlzLm92ZXJhbGxDb25zdW1pbmdUcmFuc3BvcnRzU3RhdHNNYXBbYS5pZF09e3RvdGFsUGFja2V0c1JlY2VpdmVkOjB9KSkpO2NvbnN0IHU9e2J5dGVzUmVjZWl2ZWQ6Yy5ieXRlc1JlY2VpdmVkLGJ5dGVzU2VudDpjLmJ5dGVzU2VudCxwYWNrZXRzU2VudDpjLnBhY2tldHNTZW50LHBhY2tldHNSZWNlaXZlZDpjLnBhY2tldHNSZWNlaXZlZCxkdGxzQ2lwaGVyOmMuZHRsc0NpcGhlcixkdGxzU3RhdGU6Yy5kdGxzU3RhdGUsaWNlUm9sZTpjLmljZVJvbGV9O2lmKG8udHJhbnNwb3J0PXUsYSl7aWYoYS5wcm9kdWNpbmcpe2NvbnN0IEU9dGhpcy5vdmVyYWxsUHJvZHVjaW5nVHJhbnNwb3J0c1N0YXRzTWFwW2EuaWRdO3RoaXMucHJvY2Vzc1Byb2R1Y2luZ1RyYW5zcG9ydFN0YXRzKGEuaWQsRSx1KX1pZihhLmNvbnN1bWluZyl7Y29uc3QgRT10aGlzLm92ZXJhbGxDb25zdW1pbmdUcmFuc3BvcnRzU3RhdHNNYXBbYS5pZF07dGhpcy5wcm9jZXNzQ29uc3VtaW5nVHJhbnNwb3J0U3RhdHMoYS5pZCxFLHUpfX1icmVha31jYXNlInJlbW90ZS1pbmJvdW5kLXJ0cCI6e2NvbnN0IGM9Zix1PXtqaXR0ZXI6Yy5qaXR0ZXIsZnJhY3Rpb25Mb3N0OmMuZnJhY3Rpb25Mb3N0LHJvdW5kVHJpcFRpbWU6Yy5yb3VuZFRyaXBUaW1lLHJvdW5kVHJpcFRpbWVNZWFzdXJlbWVudHM6Yy5yb3VuZFRyaXBUaW1lTWVhc3VyZW1lbnRzLHRvdGFsUm91bmRUcmlwVGltZTpjLnRvdGFsUm91bmRUcmlwVGltZSxwYWNrZXRzTG9zdDpjLnBhY2tldHNMb3N0fTtvLnJlbW90ZUluYm91bmRSdHAuc2V0KGMubG9jYWxJZCx1KTticmVha31jYXNlIm91dGJvdW5kLXJ0cCI6e2NvbnN0IGM9Zix1PWl8fHRoaXMub3V0Ym91bmRQcm9kdWNlck1hcC5nZXQoZi5pZCksRT10aGlzLnBhdXNlZFByb2R1Y2VyTWFwLmdldCh1KTtpZihFKXtpZihFLmxhc3RSZXBvcnRDYWxjdWxhdGVkPT09ITApYnJlYWs7dGhpcy5wYXVzZWRQcm9kdWNlck1hcC5zZXQodSx7bGFzdFJlcG9ydENhbGN1bGF0ZWQ6ITB9KX10aGlzLm92ZXJhbGxQcm9kdWNlcnNTdGF0c01hcFt1XXx8KHRoaXMub3ZlcmFsbFByb2R1Y2Vyc1N0YXRzTWFwW3VdPXt0b3RhbFZpZGVvUGFja2V0c1NlbnQ6MCx0b3RhbEF1ZGlvUGFja2V0c1NlbnQ6MH0pO2NvbnN0IGo9dGhpcy5vdmVyYWxsUHJvZHVjZXJzU3RhdHNNYXBbdV07aWYoWyJ2aWRlbyIsImF1ZGlvIl0uaW5jbHVkZXMoYy5tZWRpYVR5cGUpfHxbInZpZGVvIiwiYXVkaW8iXS5pbmNsdWRlcyhjLmtpbmQpKXtpZighdGhpcy5vdXRib3VuZFByb2R1Y2VyTWFwLmhhcyhmLmlkKSl7by5zdGFsZVByb2R1Y2VyU3RyZWFtTWFwPSEwO2JyZWFrfWNvbnN0ICQ9dGhpcy5jYWxsU3RhdHNJbnN0YW5jZS5wcm9kdWNlcnMuZ2V0KHUpO2lmKCgoSD0kPT1udWxsP3ZvaWQgMDokLnRyYWNrKT09bnVsbD92b2lkIDA6SC5yZWFkeVN0YXRlKT09PSJlbmRlZCIpYnJlYWs7by5wcm9kdWNlclN0cmVhbU1hcC5oYXModSl8fG8ucHJvZHVjZXJTdHJlYW1NYXAuc2V0KHUse291dGJvdW5kVmlkZW9SdHBJZDpbXSxvdXRib3VuZEF1ZGlvUnRwSWQ6W119KTtjb25zdCB2PXtieXRlc1NlbnQ6Yy5ieXRlc1NlbnQscGFja2V0c1NlbnQ6Yy5wYWNrZXRzU2VudCxuYWNrQ291bnQ6Yy5uYWNrQ291bnQsc3NyYzpjLnNzcmMsbWlkOmMubWlkLGFjdGl2ZTpjLmFjdGl2ZSxjb2RlY0lkOmMuY29kZWNJZCxoZWFkZXJCeXRlc1NlbnQ6Yy5oZWFkZXJCeXRlc1NlbnR8fDAsdG90YWxQYWNrZXRTZW5kRGVsYXk6Yy50b3RhbFBhY2tldFNlbmREZWxheXx8MH07aWYoYy5tZWRpYVR5cGU9PT0idmlkZW8ifHxjLmtpbmQ9PT0idmlkZW8iKXtjb25zdCBoPWMsej1RKHtmcmFtZUhlaWdodDpoLmZyYW1lSGVpZ2h0LGZyYW1lV2lkdGg6aC5mcmFtZVdpZHRoLGZyYW1lc0VuY29kZWQ6aC5mcmFtZXNFbmNvZGVkLGZyYW1lc0Ryb3BwZWQ6aC5mcmFtZXNEcm9wcGVkP2guZnJhbWVzRHJvcHBlZDpoLmRyb3BwZWRGcmFtZXMsZnJhbWVzUGVyU2Vjb25kOmguZnJhbWVzUGVyU2Vjb25kP2guZnJhbWVzUGVyU2Vjb25kOmguZnJhbWVyYXRlTWVhbixmcmFtZXNTZW50OmguZnJhbWVzU2VudCxrZXlGcmFtZXNFbmNvZGVkOmgua2V5RnJhbWVzRW5jb2RlZCxmaXJDb3VudDpoLmZpckNvdW50LGVuY29kZXJJbXBsZW1lbnRhdGlvbjpoLmVuY29kZXJJbXBsZW1lbnRhdGlvbixodWdlRnJhbWVzU2VudDpoLmh1Z2VGcmFtZXNTZW50LHBsaUNvdW50OmgucGxpQ291bnQscXBTdW06aC5xcFN1bSxxdWFsaXR5TGltaXRhdGlvblJlYXNvbjpoLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uLHF1YWxpdHlMaW1pdGF0aW9uRHVyYXRpb25zOmgucXVhbGl0eUxpbWl0YXRpb25EdXJhdGlvbnMscXVhbGl0eUxpbWl0YXRpb25SZXNvbHV0aW9uQ2hhbmdlczpoLnF1YWxpdHlMaW1pdGF0aW9uUmVzb2x1dGlvbkNoYW5nZXMsdG90YWxFbmNvZGVUaW1lOmgudG90YWxFbmNvZGVUaW1lLHRvdGFsUGFja2V0U2VuZERlbGF5OmgudG90YWxFbmNvZGVUaW1lLHJldHJhbnNtaXR0ZWRCeXRlc1NlbnQ6aC5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50LHJldHJhbnNtaXR0ZWRQYWNrZXRzU2VudDpoLnJldHJhbnNtaXR0ZWRQYWNrZXRzU2VudCxzY2FsYWJpbGl0eU1vZGU6aC5zY2FsYWJpbGl0eU1vZGUscG93ZXJFZmZpY2llbnRFbmNvZGVyOmgucG93ZXJFZmZpY2llbnRFbmNvZGVyfSx2KTtvLm91dGJvdW5kVmlkZW9SdHAuc2V0KGYuaWQseiksby5wcm9kdWNlclN0cmVhbU1hcC5nZXQodSkub3V0Ym91bmRWaWRlb1J0cElkLnB1c2goZi5pZCksdGhpcy5wcm9jZXNzT3V0Ym91bmRQcm9kdWNlclZpZGVvU3RhdHModSxqLHopfWVsc2UgaWYoYy5tZWRpYVR5cGU9PT0iYXVkaW8ifHxjLmtpbmQ9PT0iYXVkaW8iKXtjb25zdCBoPWMsej1RKHtyZXRyYW5zbWl0dGVkQnl0ZXNTZW50OmgucmV0cmFuc21pdHRlZEJ5dGVzU2VudCxyZXRyYW5zbWl0dGVkUGFja2V0c1NlbnQ6aC5yZXRyYW5zbWl0dGVkUGFja2V0c1NlbnR9LHYpO28ub3V0Ym91bmRBdWRpb1J0cC5zZXQoZi5pZCx6KSxvLnByb2R1Y2VyU3RyZWFtTWFwLmdldCh1KS5vdXRib3VuZEF1ZGlvUnRwSWQucHVzaChmLmlkKSx0aGlzLnByb2Nlc3NPdXRib3VuZFByb2R1Y2VyQXVkaW9TdGF0cyh1LGoseil9fWVsc2UgdGhpcy5jYWxsU3RhdHNJbnN0YW5jZS5sb2dnZXIuZXJyb3IoYENhbGxzdGF0czogVW5rbm93biBPdXRib3VuZC1ydHAuIG1lZGlhdHlwZTogJHtjLm1lZGlhVHlwZX0ga2luZDogJHtjLmtpbmR9YCk7YnJlYWt9Y2FzZSJpbmJvdW5kLXJ0cCI6e2NvbnN0IGM9Zix1PWl8fHRoaXMuaW5ib3VuZENvbnN1bWVyTWFwLmdldChmLmlkKSxFPXRoaXMucGF1c2VkQ29uc3VtZXJNYXAuZ2V0KHUpO2lmKEUpe2lmKEUubGFzdFJlcG9ydENhbGN1bGF0ZWQ9PT0hMClicmVhazt0aGlzLnBhdXNlZENvbnN1bWVyTWFwLnNldCh1LHtsYXN0UmVwb3J0Q2FsY3VsYXRlZDohMH0pfWlmKGMuc3NyYz09PTEyMzQpYnJlYWs7dGhpcy5vdmVyYWxsQ29uc3VtZXJzU3RhdHNNYXBbdV18fCh0aGlzLm92ZXJhbGxDb25zdW1lcnNTdGF0c01hcFt1XT17dG90YWxWaWRlb1BhY2tldHNSZWNlaXZlZDowLHRvdGFsQXVkaW9QYWNrZXRzUmVjZWl2ZWQ6MH0pO2NvbnN0IGo9dGhpcy5vdmVyYWxsQ29uc3VtZXJzU3RhdHNNYXBbdV07aWYoWyJ2aWRlbyIsImF1ZGlvIl0uaW5jbHVkZXMoYy5tZWRpYVR5cGUpfHxbInZpZGVvIiwiYXVkaW8iXS5pbmNsdWRlcyhjLmtpbmQpKXtpZighdGhpcy5pbmJvdW5kQ29uc3VtZXJNYXAuaGFzKGYuaWQpKXtvLnN0YWxlQ29uc3VtZXJTdHJlYW1NYXA9ITA7YnJlYWt9by5jb25zdW1lclN0cmVhbU1hcC5oYXModSl8fG8uY29uc3VtZXJTdHJlYW1NYXAuc2V0KHUse2luYm91bmRWaWRlb1J0cElkOltdLGluYm91bmRBdWRpb1J0cElkOltdfSk7Y29uc3QgJD17Ynl0ZXNSZWNlaXZlZDpjLmJ5dGVzUmVjZWl2ZWQscGFja2V0c1JlY2VpdmVkOmMucGFja2V0c1JlY2VpdmVkLHBhY2tldHNMb3N0OmMucGFja2V0c0xvc3Q+PTA/Yy5wYWNrZXRzTG9zdDowLGppdHRlcjpjLmppdHRlcixuYWNrQ291bnQ6Yy5uYWNrQ291bnQsaml0dGVyQnVmZmVyRGVsYXk6Yy5qaXR0ZXJCdWZmZXJEZWxheSxqaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ6Yy5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQsbGFzdFBhY2tldFJlY2VpdmVkVGltZXN0YW1wOmMubGFzdFBhY2tldFJlY2VpdmVkVGltZXN0YW1wLHNzcmM6Yy5zc3JjLG1pZDpjLm1pZCxjb2RlY0lkOmMuY29kZWNJZCxoZWFkZXJCeXRlc1JlY2VpdmVkOmMuaGVhZGVyQnl0ZXNSZWNlaXZlZHx8MCxwYWNrZXRzRGlzY2FyZGVkOmMucGFja2V0c0Rpc2NhcmRlZHx8MCxqaXR0ZXJCdWZmZXJNaW5pbXVtRGVsYXk6Yy5qaXR0ZXJCdWZmZXJNaW5pbXVtRGVsYXl8fDAsaml0dGVyQnVmZmVyVGFyZ2V0RGVsYXk6Yy5qaXR0ZXJCdWZmZXJUYXJnZXREZWxheXx8MH07aWYoYy5tZWRpYVR5cGU9PT0idmlkZW8ifHxjLmtpbmQ9PT0idmlkZW8iKXtjb25zdCB2PWMsaD1RKHtmcmFtZUhlaWdodDp2LmZyYW1lSGVpZ2h0LGZyYW1lV2lkdGg6di5mcmFtZVdpZHRoLGZyYW1lc0RlY29kZWQ6di5mcmFtZXNEZWNvZGVkLGZyYW1lc0Ryb3BwZWQ6di5mcmFtZXNEcm9wcGVkP3YuZnJhbWVzRHJvcHBlZDp2LmRyb3BwZWRGcmFtZXMsZnJhbWVzUGVyU2Vjb25kOnYuZnJhbWVzUGVyU2Vjb25kP3YuZnJhbWVzUGVyU2Vjb25kOnYuZnJhbWVyYXRlTWVhbixmcmFtZXNSZWNlaXZlZDp2LmZyYW1lc1JlY2VpdmVkLGtleUZyYW1lc0RlY29kZWQ6di5rZXlGcmFtZXNEZWNvZGVkLGZpckNvdW50OnYuZmlyQ291bnQsZGVjb2RlckltcGxlbWVudGF0aW9uOnYuZGVjb2RlckltcGxlbWVudGF0aW9uLHBsaUNvdW50OnYucGxpQ291bnQsdG90YWxQcm9jZXNzaW5nRGVsYXk6di50b3RhbFByb2Nlc3NpbmdEZWxheSxxcFN1bTp2LnFwU3VtfHwwLHRvdGFsQXNzZW1ibHlUaW1lOnYudG90YWxBc3NlbWJseVRpbWV8fDAsdG90YWxEZWNvZGVUaW1lOnYudG90YWxEZWNvZGVUaW1lfHwwLHRvdGFsRnJlZXplc0R1cmF0aW9uOnYudG90YWxGcmVlemVzRHVyYXRpb258fDAsdG90YWxJbnRlckZyYW1lRGVsYXk6di50b3RhbEludGVyRnJhbWVEZWxheXx8MCx0b3RhbFBhdXNlc0R1cmF0aW9uOnYudG90YWxQYXVzZXNEdXJhdGlvbnx8MCx0b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXk6di50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXl8fDAsZnJlZXplQ291bnQ6di5mcmVlemVDb3VudHx8MCxwYXVzZUNvdW50OnYucGF1c2VDb3VudHx8MCxwb3dlckVmZmljaWVudERlY29kZXI6di5wb3dlckVmZmljaWVudERlY29kZXJ9LCQpO2guc2NvcmU9d3Ioe2ZyYW1lV2lkdGg6aC5mcmFtZVdpZHRofHwwLGZyYW1lc0RlY29kZWQ6KGguZnJhbWVzRGVjb2RlZHx8MCktKCgoVj10aGlzLnZpZGVvQ29uc3VtZXJUb1N0YXRzTWFwLmdldCh1KSk9PW51bGw/dm9pZCAwOlYuZnJhbWVzRGVjb2RlZCl8fDApLGZyYW1lc1BlclNlY29uZDpoLmZyYW1lc1BlclNlY29uZHx8MCxwYWNrZXRzTG9zdDooaC5wYWNrZXRzTG9zdHx8MCktKCgoSz10aGlzLnZpZGVvQ29uc3VtZXJUb1N0YXRzTWFwLmdldCh1KSk9PW51bGw/dm9pZCAwOksucGFja2V0c0xvc3QpfHwwKSxwYWNrZXRzUmVjZWl2ZWQ6KGgucGFja2V0c1JlY2VpdmVkfHwwKS0oKChaPXRoaXMudmlkZW9Db25zdW1lclRvU3RhdHNNYXAuZ2V0KHUpKT09bnVsbD92b2lkIDA6Wi5wYWNrZXRzUmVjZWl2ZWQpfHwwKSxqaXR0ZXI6aC5qaXR0ZXJ8fDAsaXNTY3JlZW5TaGFyZTp0aGlzLnNjcmVlblNoYXJlQ29uc3VtZXJzLmhhcyh1KX0pLHguc2V0KHUse3Njb3JlOisoaC5zY29yZSoxMCkudG9GaXhlZCgpLGZyYW1lV2lkdGg6aC5mcmFtZVdpZHRofHwwLGZyYW1lSGVpZ2h0OmguZnJhbWVIZWlnaHR8fDAsZnJhbWVzUGVyU2Vjb25kOmguZnJhbWVzUGVyU2Vjb25kfHwwLHBhY2tldHNMb3N0UGVyY2VudGFnZTp1dCh7cGFja2V0c0xvc3Q6KGgucGFja2V0c0xvc3R8fDApLSgoKF9lPXRoaXMudmlkZW9Db25zdW1lclRvU3RhdHNNYXAuZ2V0KHUpKT09bnVsbD92b2lkIDA6X2UucGFja2V0c0xvc3QpfHwwKSxwYWNrZXRzUmVjZWl2ZWQ6KGgucGFja2V0c1JlY2VpdmVkfHwwKS0oKCh2ZT10aGlzLnZpZGVvQ29uc3VtZXJUb1N0YXRzTWFwLmdldCh1KSk9PW51bGw/dm9pZCAwOnZlLnBhY2tldHNSZWNlaXZlZCl8fDApfSksaml0dGVyOmguaml0dGVyfHwwLGlzU2NyZWVuU2hhcmU6dGhpcy5zY3JlZW5TaGFyZUNvbnN1bWVycy5oYXModSksYml0cmF0ZTooKGguYnl0ZXNSZWNlaXZlZHx8MCktKCgoQmU9dGhpcy52aWRlb0NvbnN1bWVyVG9TdGF0c01hcC5nZXQodSkpPT1udWxsP3ZvaWQgMDpCZS5ieXRlc1JlY2VpdmVkKXx8MCkpKjgvN30pLHRoaXMudmlkZW9Db25zdW1lclRvU3RhdHNNYXAuc2V0KHUsaCksby5pbmJvdW5kVmlkZW9SdHAuc2V0KGYuaWQsaCksby5jb25zdW1lclN0cmVhbU1hcC5nZXQodSkuaW5ib3VuZFZpZGVvUnRwSWQucHVzaChmLmlkKSx0aGlzLnByb2Nlc3NJbmJvdW5kQ29uc3VtZXJWaWRlb1N0YXRzKHUsaixoKX1lbHNlIGlmKGMubWVkaWFUeXBlPT09ImF1ZGlvInx8Yy5raW5kPT09ImF1ZGlvIil7Y29uc3Qgdj1jLGg9USh7YXVkaW9MZXZlbDp2LmF1ZGlvTGV2ZWwsY29uY2VhbGVkU2FtcGxlczp2LmNvbmNlYWxlZFNhbXBsZXMsY29uY2VhbG1lbnRFdmVudHM6di5jb25jZWFsbWVudEV2ZW50cyx0b3RhbEF1ZGlvRW5lcmd5OnYudG90YWxBdWRpb0VuZXJneSx0b3RhbFNhbXBsZXNEdXJhdGlvbjp2LnRvdGFsU2FtcGxlc0R1cmF0aW9uLHRvdGFsU2FtcGxlc1JlY2VpdmVkOnYudG90YWxTYW1wbGVzUmVjZWl2ZWQsZmVjUGFja2V0c0Rpc2NhcmRlZDp2LmZlY1BhY2tldHNEaXNjYXJkZWR8fDAsZmVjUGFja2V0c1JlY2VpdmVkOnYuZmVjUGFja2V0c1JlY2VpdmVkfHwwLGluc2VydGVkU2FtcGxlc0ZvckRlY2VsZXJhdGlvbjp2Lmluc2VydGVkU2FtcGxlc0ZvckRlY2VsZXJhdGlvbnx8MCxyZW1vdmVkU2FtcGxlc0ZvckFjY2VsZXJhdGlvbjp2LnJlbW92ZWRTYW1wbGVzRm9yQWNjZWxlcmF0aW9ufHwwLHNpbGVudENvbmNlYWxlZFNhbXBsZXM6di5zaWxlbnRDb25jZWFsZWRTYW1wbGVzfHwwLHBsYXlvdXRJZDp2LnBsYXlvdXRJZH0sJCk7aC5zY29yZT1Jcih7Y29uY2VhbG1lbnRFdmVudHM6KGguY29uY2VhbG1lbnRFdmVudHN8fDApLSgoKHhlPXRoaXMuYXVkaW9Db25zdW1lclRvU3RhdHNNYXAuZ2V0KHUpKT09bnVsbD92b2lkIDA6eGUuY29uY2VhbG1lbnRFdmVudHMpfHwwKSxwYWNrZXRzTG9zdDooaC5wYWNrZXRzTG9zdHx8MCktKCgoamU9dGhpcy5hdWRpb0NvbnN1bWVyVG9TdGF0c01hcC5nZXQodSkpPT1udWxsP3ZvaWQgMDpqZS5wYWNrZXRzTG9zdCl8fDApLHBhY2tldHNSZWNlaXZlZDooaC5wYWNrZXRzUmVjZWl2ZWR8fDApLSgoKFVlPXRoaXMuYXVkaW9Db25zdW1lclRvU3RhdHNNYXAuZ2V0KHUpKT09bnVsbD92b2lkIDA6VWUucGFja2V0c1JlY2VpdmVkKXx8MCksaml0dGVyOmguaml0dGVyfHwwfSkseC5zZXQodSx7c2NvcmU6KyhoLnNjb3JlKjEwKS50b0ZpeGVkKCkscGFja2V0c0xvc3RQZXJjZW50YWdlOnV0KHtwYWNrZXRzTG9zdDooaC5wYWNrZXRzTG9zdHx8MCktKCgoSGU9dGhpcy5hdWRpb0NvbnN1bWVyVG9TdGF0c01hcC5nZXQodSkpPT1udWxsP3ZvaWQgMDpIZS5wYWNrZXRzTG9zdCl8fDApLHBhY2tldHNSZWNlaXZlZDooaC5wYWNrZXRzUmVjZWl2ZWR8fDApLSgoKEtlPXRoaXMuYXVkaW9Db25zdW1lclRvU3RhdHNNYXAuZ2V0KHUpKT09bnVsbD92b2lkIDA6S2UucGFja2V0c1JlY2VpdmVkKXx8MCl9KSxqaXR0ZXI6aC5qaXR0ZXJ8fDAsaXNTY3JlZW5TaGFyZTp0aGlzLnNjcmVlblNoYXJlQ29uc3VtZXJzLmhhcyh1KSxiaXRyYXRlOigoaC5ieXRlc1JlY2VpdmVkfHwwKS0oKCgkZT10aGlzLmF1ZGlvQ29uc3VtZXJUb1N0YXRzTWFwLmdldCh1KSk9PW51bGw/dm9pZCAwOiRlLmJ5dGVzUmVjZWl2ZWQpfHwwKSkqOC83fSksdGhpcy5hdWRpb0NvbnN1bWVyVG9TdGF0c01hcC5zZXQodSxoKSxvLmluYm91bmRBdWRpb1J0cC5zZXQoZi5pZCxoKSxvLmNvbnN1bWVyU3RyZWFtTWFwLmdldCh1KS5pbmJvdW5kQXVkaW9SdHBJZC5wdXNoKGYuaWQpLHRoaXMucHJvY2Vzc0luYm91bmRDb25zdW1lckF1ZGlvU3RhdHModSxqLGgpfX1lbHNlIHRoaXMuY2FsbFN0YXRzSW5zdGFuY2UubG9nZ2VyLmVycm9yKGBDYWxsc3RhdHM6IFVua25vd24gSW5ib3VuZC1ydHAuIG1lZGlhdHlwZTogJHtjLm1lZGlhVHlwZX0ga2luZDogJHtjLmtpbmR9YCk7YnJlYWt9fX1pZihvLnByb2R1Y2VyU3RyZWFtTWFwLmZvckVhY2goKGYsYyk9Pnt2YXIgdSxFLGosJCx2LGgseixXZSx6ZSxHZSxZZSxxZSxRZSxKZSxYZSxaZSxldCx0dCxydCxudCxzdCxpdCxhdDtpZihmLm91dGJvdW5kVmlkZW9SdHBJZC5sZW5ndGg+MCl7Y29uc3QgTj1bXTtmLm91dGJvdW5kVmlkZW9SdHBJZC5mb3JFYWNoKHNyPT57Ti5wdXNoKG8ub3V0Ym91bmRWaWRlb1J0cC5nZXQoc3IpKX0pO2NvbnN0IEE9dGhpcy5nZXRXb3JraW5nU2ltdWxjYXN0VmlkZW9TdGF0cyhOKTtBLnNjb3JlPUNyKHtmcmFtZVdpZHRoOkEuZnJhbWVXaWR0aHx8MCxmcmFtZXNQZXJTZWNvbmQ6QS5mcmFtZXNQZXJTZWNvbmR8fDAsaml0dGVyOigodT1BLnJlbW90ZURhdGEpPT1udWxsP3ZvaWQgMDp1LmppdHRlcil8fDAsaXNTY3JlZW5TaGFyZTp0aGlzLnNjcmVlblNoYXJlUHJvZHVjZXJzLmhhcyhjKSxwYWNrZXRzU2VudDooQS5wYWNrZXRzU2VudHx8MCktKCgoRT10aGlzLnZpZGVvUHJvZHVjZXJUb1N0YXRzTWFwLmdldChjKSk9PW51bGw/dm9pZCAwOkUucGFja2V0c1NlbnQpfHwwKSxwYWNrZXRzTG9zdDooKChqPUEucmVtb3RlRGF0YSk9PW51bGw/dm9pZCAwOmoucGFja2V0c0xvc3QpfHwwKS0oKCh2PSgkPXRoaXMudmlkZW9Qcm9kdWNlclRvU3RhdHNNYXAuZ2V0KGMpKT09bnVsbD92b2lkIDA6JC5yZW1vdGVEYXRhKT09bnVsbD92b2lkIDA6di5wYWNrZXRzTG9zdCl8fDApLGZyYW1lc0VuY29kZWQ6KEEuZnJhbWVzRW5jb2RlZHx8MCktKCgoaD10aGlzLnZpZGVvUHJvZHVjZXJUb1N0YXRzTWFwLmdldChjKSk9PW51bGw/dm9pZCAwOmguZnJhbWVzRW5jb2RlZCl8fDApfSksdy5zZXQoYyx7c2NvcmU6KyhBLnNjb3JlKjEwKS50b0ZpeGVkKCksZnJhbWVXaWR0aDpBLmZyYW1lV2lkdGh8fDAsZnJhbWVIZWlnaHQ6QS5mcmFtZUhlaWdodHx8MCxmcmFtZXNQZXJTZWNvbmQ6QS5mcmFtZXNQZXJTZWNvbmR8fDAsaml0dGVyOigoej1BLnJlbW90ZURhdGEpPT1udWxsP3ZvaWQgMDp6LmppdHRlcil8fDAsaXNTY3JlZW5TaGFyZTp0aGlzLnNjcmVlblNoYXJlUHJvZHVjZXJzLmhhcyhjKSxwYWNrZXRzTG9zdFBlcmNlbnRhZ2U6bHQoe3BhY2tldHNTZW50OihBLnBhY2tldHNTZW50fHwwKS0oKChXZT10aGlzLnZpZGVvUHJvZHVjZXJUb1N0YXRzTWFwLmdldChjKSk9PW51bGw/dm9pZCAwOldlLnBhY2tldHNTZW50KXx8MCkscGFja2V0c0xvc3Q6KCgoemU9QS5yZW1vdGVEYXRhKT09bnVsbD92b2lkIDA6emUucGFja2V0c0xvc3QpfHwwKS0oKChZZT0oR2U9dGhpcy52aWRlb1Byb2R1Y2VyVG9TdGF0c01hcC5nZXQoYykpPT1udWxsP3ZvaWQgMDpHZS5yZW1vdGVEYXRhKT09bnVsbD92b2lkIDA6WWUucGFja2V0c0xvc3QpfHwwKX0pLGJpdHJhdGU6KChBLmJ5dGVzU2VudHx8MCktKCgocWU9dGhpcy52aWRlb1Byb2R1Y2VyVG9TdGF0c01hcC5nZXQoYykpPT1udWxsP3ZvaWQgMDpxZS5ieXRlc1NlbnQpfHwwKSkqOC83LGNwdUxpbWl0YXRpb25zOkEucXVhbGl0eUxpbWl0YXRpb25SZWFzb249PT0iY3B1IixiYW5kd2lkdGhMaW1pdGF0aW9uczpBLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uPT09ImJhbmR3aWR0aCJ9KSx0aGlzLnZpZGVvUHJvZHVjZXJUb1N0YXRzTWFwLnNldChjLEEpfWVsc2UgaWYoZi5vdXRib3VuZEF1ZGlvUnRwSWQubGVuZ3RoPjApe2NvbnN0IE49by5vdXRib3VuZEF1ZGlvUnRwLmdldChmLm91dGJvdW5kQXVkaW9SdHBJZFswXSk7Ti5zY29yZT1Scih7cGFja2V0c1NlbnQ6KE4ucGFja2V0c1NlbnR8fDApLSgoKFFlPXRoaXMuYXVkaW9Qcm9kdWNlclRvU3RhdHNNYXAuZ2V0KGMpKT09bnVsbD92b2lkIDA6UWUucGFja2V0c1NlbnQpfHwwKSxwYWNrZXRzTG9zdDooKChKZT1OLnJlbW90ZURhdGEpPT1udWxsP3ZvaWQgMDpKZS5wYWNrZXRzTG9zdCl8fDApLSgoKFplPShYZT10aGlzLmF1ZGlvUHJvZHVjZXJUb1N0YXRzTWFwLmdldChjKSk9PW51bGw/dm9pZCAwOlhlLnJlbW90ZURhdGEpPT1udWxsP3ZvaWQgMDpaZS5wYWNrZXRzTG9zdCl8fDApLGppdHRlcjooKGV0PU4ucmVtb3RlRGF0YSk9PW51bGw/dm9pZCAwOmV0LmppdHRlcil8fDB9KSx3LnNldChjLHtzY29yZTorKE4uc2NvcmUqMTApLnRvRml4ZWQoKSxiaXRyYXRlOigoTi5ieXRlc1NlbnR8fDApLSgoKHR0PXRoaXMuYXVkaW9Qcm9kdWNlclRvU3RhdHNNYXAuZ2V0KGMpKT09bnVsbD92b2lkIDA6dHQuYnl0ZXNTZW50KXx8MCkpKjgvNyxwYWNrZXRzTG9zdFBlcmNlbnRhZ2U6bHQoe3BhY2tldHNTZW50OihOLnBhY2tldHNTZW50fHwwKS0oKChydD10aGlzLmF1ZGlvUHJvZHVjZXJUb1N0YXRzTWFwLmdldChjKSk9PW51bGw/dm9pZCAwOnJ0LnBhY2tldHNTZW50KXx8MCkscGFja2V0c0xvc3Q6KCgobnQ9Ti5yZW1vdGVEYXRhKT09bnVsbD92b2lkIDA6bnQucGFja2V0c0xvc3QpfHwwKS0oKChpdD0oc3Q9dGhpcy5hdWRpb1Byb2R1Y2VyVG9TdGF0c01hcC5nZXQoYykpPT1udWxsP3ZvaWQgMDpzdC5yZW1vdGVEYXRhKT09bnVsbD92b2lkIDA6aXQucGFja2V0c0xvc3QpfHwwKX0pLGppdHRlcjooKGF0PU4ucmVtb3RlRGF0YSk9PW51bGw/dm9pZCAwOmF0LmppdHRlcil8fDAsaXNTY3JlZW5TaGFyZTp0aGlzLnNjcmVlblNoYXJlUHJvZHVjZXJzLmhhcyhjKX0pLHRoaXMuYXVkaW9Qcm9kdWNlclRvU3RhdHNNYXAuc2V0KGMsTil9fSkseS5mb3JFYWNoKGY9Pntjb25zdCBjPW0uZmluZChFPT5FLmlkPT09Zi5sb2NhbENhbmRpZGF0ZUlkPyhmLmxvY2FsQ2FuZGlkYXRlSWQ9RS5pZCxFKTpudWxsKSx1PV8uZmluZChFPT5FLmlkPT09Zi5yZW1vdGVDYW5kaWRhdGVJZD8oZi5yZW1vdGVDYW5kaWRhdGVJZD1FLmlkLEUpOm51bGwpO2MmJihmLmxvY2FsQ2FuZGlkYXRlVHlwZT1jLnR5cGUsZi5sb2NhbENhbmRpZGF0ZUFkZHJlc3M9YWUoYy5hZGRyZXNzKSxmLmxvY2FsQ2FuZGlkYXRlUG9ydD1jLnBvcnQsZi5sb2NhbENhbmRpZGF0ZVByb3RvY29sPWMucHJvdG9jb2wsZi5sb2NhbENhbmRpZGF0ZVVybD1jLnVybCxmLmxvY2FsQ2FuZGlkYXRlTmV0d29ya1R5cGU9Yy5uZXR3b3JrVHlwZSxmLmxvY2FsQ2FuZGlkYXRlUmVsYXRlZEFkZHJlc3M9YWUoYy5yZWxhdGVkQWRkcmVzcyksZi5sb2NhbENhbmRpZGF0ZVJlbGF0ZWRQb3J0PWMucmVsYXRlZFBvcnQpLHUmJihmLnJlbW90ZUNhbmRpZGF0ZVR5cGU9dS50eXBlLGYucmVtb3RlQ2FuZGlkYXRlQWRkcmVzcz1hZSh1LmFkZHJlc3MpLGYucmVtb3RlQ2FuZGlkYXRlUG9ydD11LnBvcnQsZi5yZW1vdGVDYW5kaWRhdGVQcm90b2NvbD11LnByb3RvY29sLGYucmVtb3RlQ2FuZGlkYXRlVXJsPXUudXJsKX0pLG8uY2FuZGlkYXRlUGFpciYmKG8udHJhbnNwb3J0PyhvLnRyYW5zcG9ydC5ieXRlc1JlY2VpdmVkPW8uY2FuZGlkYXRlUGFpci5ieXRlc1JlY2VpdmVkLG8udHJhbnNwb3J0LmJ5dGVzU2VudD1vLmNhbmRpZGF0ZVBhaXIuYnl0ZXNTZW50LG8udHJhbnNwb3J0LnRvdGFsUm91bmRUcmlwVGltZT1vLmNhbmRpZGF0ZVBhaXIudG90YWxSb3VuZFRyaXBUaW1lLG8udHJhbnNwb3J0LmF2YWlsYWJsZU91dGdvaW5nQml0cmF0ZT1vLmNhbmRpZGF0ZVBhaXIuYXZhaWxhYmxlT3V0Z29pbmdCaXRyYXRlLG8udHJhbnNwb3J0LmF2YWlsYWJsZUluY29taW5nQml0cmF0ZT1vLmNhbmRpZGF0ZVBhaXIuYXZhaWxhYmxlSW5jb21pbmdCaXRyYXRlLG8udHJhbnNwb3J0LnJvdW5kVHJpcFRpbWU9by5jYW5kaWRhdGVQYWlyLmN1cnJlbnRSb3VuZFRyaXBUaW1lKTpvLnRyYW5zcG9ydD17Ynl0ZXNSZWNlaXZlZDpvLmNhbmRpZGF0ZVBhaXIuYnl0ZXNSZWNlaXZlZCxieXRlc1NlbnQ6by5jYW5kaWRhdGVQYWlyLmJ5dGVzU2VudCx0b3RhbFJvdW5kVHJpcFRpbWU6by5jYW5kaWRhdGVQYWlyLnRvdGFsUm91bmRUcmlwVGltZSxhdmFpbGFibGVPdXRnb2luZ0JpdHJhdGU6by5jYW5kaWRhdGVQYWlyLmF2YWlsYWJsZU91dGdvaW5nQml0cmF0ZSxhdmFpbGFibGVJbmNvbWluZ0JpdHJhdGU6by5jYW5kaWRhdGVQYWlyLmF2YWlsYWJsZUluY29taW5nQml0cmF0ZSxyb3VuZFRyaXBUaW1lOm8uY2FuZGlkYXRlUGFpci5jdXJyZW50Um91bmRUcmlwVGltZX0pLG8udHJhbnNwb3J0JiYoby50cmFuc3BvcnQuY2FuZGlkYXRlUGFpcnM9eSksby50cmFuc3BvcnQmJiFvLnRyYW5zcG9ydC5yb3VuZFRyaXBUaW1lKXtsZXQgZj0wLGM9MDtvLnJlbW90ZUluYm91bmRSdHAuZm9yRWFjaCgodSxFKT0+e3Uucm91bmRUcmlwVGltZSYmdS5yb3VuZFRyaXBUaW1lPmYmJihmPXUucm91bmRUcmlwVGltZSxjPXUudG90YWxSb3VuZFRyaXBUaW1lKX0pLG8udHJhbnNwb3J0LnJvdW5kVHJpcFRpbWU9ZixvLnRyYW5zcG9ydC50b3RhbFJvdW5kVHJpcFRpbWU9Y31pZih4LnNpemU+MCl0cnl7dGhpcy5vYnNlcnZlci5lbWl0KCJjb25zdW1lcl9zY29yZSIseCl9Y2F0Y2goZil7fWlmKHcuc2l6ZT4wKXRyeXt0aGlzLm9ic2VydmVyLmVtaXQoInByb2R1Y2VyX3Njb3JlIix3KX1jYXRjaChmKXt9cmV0dXJuIG99Z2V0UHJvZHVjZXJTdGF0c0Zyb21SZXBvcnQoZSl7Y29uc3Qgbj1bXTt0cnl7ZS5wcm9kdWNlclN0cmVhbU1hcC5mb3JFYWNoKChzLGkpPT57Y29uc3QgYT10aGlzLnByb2R1Y2VyTWFwLmdldChpKSxkPWEudHJhY2suZ2V0U2V0dGluZ3MoKSxvPXMub3V0Ym91bmRWaWRlb1J0cElkLm1hcChtPT57Y29uc3QgXz1lLm91dGJvdW5kVmlkZW9SdHAuZ2V0KG0pO3JldHVybiBfLmZyYW1lSGVpZ2h0fHwoXy5mcmFtZUhlaWdodD1kLmhlaWdodCxfLmZyYW1lV2lkdGg9ZC53aWR0aCxfLmZyYW1lc1BlclNlY29uZD1kLmZyYW1lUmF0ZSksX30pLGw9e3Byb2R1Y2VySWQ6aSxhcHBEYXRhOmEuYXBwRGF0YSx2aWRlb1N0YXRzOm8sYXVkaW9TdGF0czpzLm91dGJvdW5kQXVkaW9SdHBJZC5tYXAobT0+ZS5vdXRib3VuZEF1ZGlvUnRwLmdldChtKSl9O24ucHVzaChsKX0pfWNhdGNoKHMpe2NvbnNvbGUuZXJyb3IoImdldFByb2R1Y2Vyc1JlcG9ydDogIixzLGUpfXJldHVybiBufWdldENvbnN1bWVyU3RhdHNGcm9tUGFyc2VkQ29uc3VtZXJTdGF0cyhlLG4scyl7bGV0IGk7dHJ5e2NvbnN0e3BlZXJJZDphLHByb2R1Y2VySWQ6ZCxhcHBEYXRhOm99PXRoaXMuY29uc3VtZXJQZWVySWRNYXAuZ2V0KHMpLGw9bj09bnVsbD92b2lkIDA6bi5pbmJvdW5kVmlkZW9SdHBJZC5tYXAobT0+e2NvbnN0IHk9dGhpcy5jb25zdW1lck1hcC5nZXQocykudHJhY2suZ2V0U2V0dGluZ3MoKSx3PWUuaW5ib3VuZFZpZGVvUnRwLmdldChtKTtyZXR1cm4gdy5mcmFtZUhlaWdodHx8KHcuZnJhbWVIZWlnaHQ9eS5oZWlnaHQsdy5mcmFtZVdpZHRoPXkud2lkdGgsdy5mcmFtZXNQZXJTZWNvbmQ9eS5mcmFtZVJhdGUpLHd9KTtpPXtjb25zdW1lcklkOnMscGVlcklkOmEscHJvZHVjZXJJZDpkLGFwcERhdGE6byx2aWRlb1N0YXRzOmwsYXVkaW9TdGF0czpuPT1udWxsP3ZvaWQgMDpuLmluYm91bmRBdWRpb1J0cElkLm1hcChtPT5lLmluYm91bmRBdWRpb1J0cC5nZXQobSkpfX1jYXRjaChhKXtjb25zb2xlLmVycm9yKCJnZXRDb25zdW1lclN0YXRzRnJvbVBhcnNlZENvbnN1bWVyU3RhdHM6ICIsYSxlKX1yZXR1cm4gaX1nZXRDb25zdW1lclN0YXRzRnJvbVJlcG9ydChlKXtjb25zdCBuPVtdO3RyeXtlLmNvbnN1bWVyU3RyZWFtTWFwLmZvckVhY2goKHMsaSk9PntuLnB1c2godGhpcy5nZXRDb25zdW1lclN0YXRzRnJvbVBhcnNlZENvbnN1bWVyU3RhdHMoZSxzLGkpKX0pfWNhdGNoKHMpe2NvbnNvbGUuZXJyb3IoImdldENvbnN1bWVyU3RhdHNGcm9tUmVwb3J0OiAiLHMsZSl9cmV0dXJuIG59fWNsYXNzIHdzIGV4dGVuZHMgTnJ7fWZ1bmN0aW9uIG10KHQscixlLG4pe2lmKHQhPW51bGwmJnQubG9nZ2VyJiZ0LmxvZ2dlci5lcnJvcigiQ2FsbHN0YXRzOjpoYW5kbGVFcnJvciIse2Vycm9yOm59KSx0eXBlb2YgZT09ImZ1bmN0aW9uIiYmbiBpbnN0YW5jZW9mIHIpZS5jYWxsKG51bGwsbix0KTtlbHNlIHRocm93IG59ZnVuY3Rpb24gRnIodCxyLGUpe2NvbnN0IG49dC52YWx1ZTtyZXR1cm4gdC52YWx1ZT1mdW5jdGlvbiguLi5zKXt0cnl7Y29uc3QgaT1uLmFwcGx5KHRoaXMscyk7cmV0dXJuIGkmJmkgaW5zdGFuY2VvZiBQcm9taXNlP2kuY2F0Y2goYT0+e210KHRoaXMscixlLGEpfSk6aX1jYXRjaChpKXttdCh0aGlzLHIsZSxpKX1yZXR1cm4gbnVsbH0sdH1jb25zdCBQPSh0LHIpPT4oZSxuLHMpPT57Y29uc3QgaT1zLnZhbHVlO3JldHVybiBzLnZhbHVlPWZ1bmN0aW9uKC4uLmEpe3RyeXtjb25zdCBkPWkuYXBwbHkodGhpcyxhKTtyZXR1cm4gZCYmZCBpbnN0YW5jZW9mIFByb21pc2U/ZC5jYXRjaChvPT57bXQodGhpcyx0LHIsbyl9KTpkfWNhdGNoKGQpe210KHRoaXMsdCxyLGQpfXJldHVybiBudWxsfSxzfSxBcz0odCxyKT0+KGUsbixzKT0+e2lmKHMpcmV0dXJuIEZyKHMsdCxyKTtmb3IoY29uc3QgaSBvZiBSZWZsZWN0Lm93bktleXMoZS5wcm90b3R5cGUpLmZpbHRlcihhPT5hIT09ImNvbnN0cnVjdG9yIikpe2NvbnN0IGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLnByb3RvdHlwZSxpKTthLnZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxpLEZyKGEsdCxyKSl9fTt2YXIgUj1mdW5jdGlvbih0LHIsZSxuKXt2YXIgcz1hcmd1bWVudHMubGVuZ3RoLGk9czwzP3I6bj09PW51bGw/bj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk6bixhO2lmKHR5cGVvZiBSZWZsZWN0PT0ib2JqZWN0IiYmdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGU9PSJmdW5jdGlvbiIpaT1SZWZsZWN0LmRlY29yYXRlKHQscixlLG4pO2Vsc2UgZm9yKHZhciBkPXQubGVuZ3RoLTE7ZD49MDtkLS0pKGE9dFtkXSkmJihpPShzPDM/YShpKTpzPjM/YShyLGUsaSk6YShyLGUpKXx8aSk7cmV0dXJuIHM+MyYmaSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsZSxpKSxpfTtjb25zdCBDPWNvbnNvbGU7bGV0IGI9Y2xhc3MgZXh0ZW5kcyBZe2NvbnN0cnVjdG9yKGU9Imh0dHBzOi8vYXBpLnRlc3Rpbmd2My5keXRlLmluIixuPSJCbGluayIscz1nci5QUk9ELGksYSxkLG8pe3N1cGVyKCk7cCh0aGlzLCJvYnNlcnZlciIpO3AodGhpcywiZXZlbnRIYW5kbGVyIik7cCh0aGlzLCJtZWFzdXJlbWVudHMiKTtwKHRoaXMsInByb2R1Y2luZ1RyYW5zcG9ydCIpO3AodGhpcywiY29uc3VtaW5nVHJhbnNwb3J0Iik7cCh0aGlzLCJwcm9kdWNlcnMiLG5ldyBNYXApO3AodGhpcywiY29uc3VtZXJzIixuZXcgTWFwKTtwKHRoaXMsImljZVNlcnZlcnMiKTtwKHRoaXMsImNvbm5lY3Rpb25JbmZvUHJvbWlzZSIpO3AodGhpcywicGluZ1N0YXRzVGltZW91dCIpO3AodGhpcywibG9nZ2VyIik7cCh0aGlzLCJlbnYiKTtwKHRoaXMsImFwaUhvc3RuYW1lcyIpO3AodGhpcywicGVlcklkIik7cCh0aGlzLCJjb25zdW1lclNoYXJlZE1lZGlhU3RhdGVzTWFwIixuZXcgTWFwKTtwKHRoaXMsImN1cnJlbnRVc2VyTWVkaWFTdGF0ZXMiLHt9KTtzd2l0Y2godGhpcy5lbnY9cyx0aGlzLmFwaUhvc3RuYW1lcz1vLHRoaXMubG9nZ2VyPWEsdGhpcy5wZWVySWQ9ZCx0aGlzLmV2ZW50SGFuZGxlcj1uZXcgaHMoe2xvZ2dlcjphLHBlZXJJZDpkLGFwaUhvc3RuYW1lczpvfSksdGhpcy5sb2dnZXIuZGVidWcoImNhbGxTdGF0czo6ZW5naW5lTmFtZTogIix7ZW5naW5lTmFtZTpufSksbil7Y2FzZSJCbGluayI6dGhpcy5tZWFzdXJlbWVudHM9bmV3IElzO2JyZWFrO2Nhc2UiR2Vja28iOnRoaXMubWVhc3VyZW1lbnRzPW5ldyBOcjticmVhaztjYXNlIldlYktpdCI6dGhpcy5tZWFzdXJlbWVudHM9bmV3IHdzO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoYFVua25vd24gZW5naW5lTmFtZSEgJHtufWApfXRoaXMubWVhc3VyZW1lbnRzLmNhbGxTdGF0c0luc3RhbmNlPXRoaXMsdGhpcy5yZWdpc3RlclByb2R1Y2VyPXRoaXMucmVnaXN0ZXJQcm9kdWNlci5iaW5kKHRoaXMpLHRoaXMucmVnaXN0ZXJDb25zdW1lcj10aGlzLnJlZ2lzdGVyQ29uc3VtZXIuYmluZCh0aGlzKSx0aGlzLm9ic2VydmVyPW5ldyBZLHRoaXMubWVhc3VyZW1lbnRzLm9ic2VydmVyLm9uKCJjb25zdW1lcl9zY29yZSIsbD0+e2EuZGVidWcoYGNhbGxTdGF0czo6Y29uc3VtZXJfc2NvcmUgJHtbLi4ubC5lbnRyaWVzKCldfWApLHRoaXMuZXZlbnRIYW5kbGVyLmVtaXQoImNvbnN1bWVyX3Njb3JlIixsKX0pLHRoaXMubWVhc3VyZW1lbnRzLm9ic2VydmVyLm9uKCJwcm9kdWNlcl9zY29yZSIsbD0+e2EuZGVidWcoYGNhbGxTdGF0czo6cHJvZHVjZXJfc2NvcmUgJHtbLi4ubC5lbnRyaWVzKCldfWApLHRoaXMuZXZlbnRIYW5kbGVyLmVtaXQoInByb2R1Y2VyX3Njb3JlIixsKX0pfXJlZ2lzdGVySWNlU2VydmVycyhlKXt0aGlzLmljZVNlcnZlcnM9ZX1yZWdpc3RlckNvbnN1bWVyKGUpe3ZhciBuO3RoaXMuY29uc3VtZXJTaGFyZWRNZWRpYVN0YXRlc01hcC5oYXMoZS5pZCl8fHRoaXMuY29uc3VtZXJTaGFyZWRNZWRpYVN0YXRlc01hcC5zZXQoZS5pZCx7fSksdGhpcy5jb25zdW1lcnMuc2V0KGUuaWQsZSksdGhpcy5tZWFzdXJlbWVudHMucmVnaXN0ZXJDb25zdW1lcihlKSx0aGlzLmxvZ2dlci5kZWJ1ZygiY2FsbFN0YXRzOjpyZWdpc3RlckNvbnN1bWVyIix7Y29uc3VtZXJJZDplLmlkLGNvbnN1bWVya2luZDplLmtpbmQsaXNTY3JlZW5TaGFyZTohISgobj1lLmFwcERhdGEpIT1udWxsJiZuLnNjcmVlblNoYXJlKX0pLGUub24oImNsb3NlIix0aGlzLmRlUmVnaXN0ZXJDb25zdW1lci5iaW5kKHRoaXMsZSkpfXJlZ2lzdGVyUHJvZHVjZXIoZSl7dmFyIG47dGhpcy5wcm9kdWNlcnMuc2V0KGUuaWQsZSksdGhpcy5tZWFzdXJlbWVudHMucmVnaXN0ZXJQcm9kdWNlcihlKSx0aGlzLmxvZ2dlci5kZWJ1ZygiY2FsbFN0YXRzOjpyZWdpc3RlclByb2R1Y2VyIix7cHJvZHVjZXJJZDplLmlkLHByb2R1Y2VyS2luZDplLmtpbmQsaXNTY3JlZW5TaGFyZTohISgobj1lLmFwcERhdGEpIT1udWxsJiZuLnNjcmVlblNoYXJlKX0pLGUub24oImNsb3NlIix0aGlzLmRlUmVnaXN0ZXJQcm9kdWNlci5iaW5kKHRoaXMsZSkpfXNlbmRDb25zdW1lclNoYXJlZE1lZGlhU3RhdGVFdmVudChlLG4pe3RoaXMuY29uc3VtZXJTaGFyZWRNZWRpYVN0YXRlc01hcC5oYXMoZSl8fHRoaXMuY29uc3VtZXJTaGFyZWRNZWRpYVN0YXRlc01hcC5zZXQoZSx7fSk7Y29uc3Qgcz10aGlzLmNvbnN1bWVyU2hhcmVkTWVkaWFTdGF0ZXNNYXAuZ2V0KGUpO3RoaXMuY29uc3VtZXJTaGFyZWRNZWRpYVN0YXRlc01hcC5zZXQoZSxPYmplY3QuYXNzaWduKHMsbikpfXJlZ2lzdGVyUHJvZHVjaW5nVHJhbnNwb3J0KGUpe3ZhciBzO3RoaXMucHJvZHVjaW5nVHJhbnNwb3J0PWUsZS5vbigiY2xvc2UiLHRoaXMuZGlzY29ubmVjdFByb2R1Y2luZ1RyYW5zcG9ydC5iaW5kKHRoaXMsZSkpLGUub24oImRpc2Nvbm5lY3QiLHRoaXMuZGlzY29ubmVjdFByb2R1Y2luZ1RyYW5zcG9ydC5iaW5kKHRoaXMsZSkpLEFycmF5LmZyb20oKChzPWUuX3Byb2R1Y2Vycyk9PW51bGw/dm9pZCAwOnMudmFsdWVzKCkpfHxbXSkuZm9yRWFjaChpPT57dGhpcy5yZWdpc3RlclByb2R1Y2VyKGkpfSksZS5vbigibmV3cHJvZHVjZXIiLHRoaXMucmVnaXN0ZXJQcm9kdWNlcil9cmVnaXN0ZXJDb25zdW1pbmdUcmFuc3BvcnQoZSl7dmFyIHM7dGhpcy5jb25zdW1pbmdUcmFuc3BvcnQ9ZSxlLm9uKCJjbG9zZSIsdGhpcy5kaXNjb25uZWN0Q29uc3VtaW5nVHJhbnNwb3J0LmJpbmQodGhpcyxlKSksZS5vbigiZGlzY29ubmVjdCIsdGhpcy5kaXNjb25uZWN0Q29uc3VtaW5nVHJhbnNwb3J0LmJpbmQodGhpcyxlKSksQXJyYXkuZnJvbSgoKHM9ZS5fY29uc3VtZXJzKT09bnVsbD92b2lkIDA6cy52YWx1ZXMoKSl8fFtdKS5mb3JFYWNoKGk9Pnt0aGlzLnJlZ2lzdGVyQ29uc3VtZXIoaSl9KSxlLm9uKCJuZXdjb25zdW1lciIsdGhpcy5yZWdpc3RlckNvbnN1bWVyKX1kZVJlZ2lzdGVyQ29uc3VtZXIoZSl7dGhpcy5jb25zdW1lcnMuZGVsZXRlKGUuaWQpfWRlUmVnaXN0ZXJQcm9kdWNlcihlKXt2YXIgbjt0aGlzLnByb2R1Y2Vycy5kZWxldGUoZS5pZCksdGhpcy5sb2dnZXIuZGVidWcoImNhbGxTdGF0czo6ZGVSZWdpc3RlclByb2R1Y2VyIix7cHJvZHVjZXJJZDplLmlkLHByb2R1Y2VyS2luZDplLmtpbmQsaXNTY3JlZW5TaGFyZTohISgobj1lLmFwcERhdGEpIT1udWxsJiZuLnNjcmVlblNoYXJlKX0pfWRpc2Nvbm5lY3RDb25zdW1pbmdUcmFuc3BvcnQoKXt0aGlzLmNvbnN1bWluZ1RyYW5zcG9ydD12b2lkIDB9ZGlzY29ubmVjdFByb2R1Y2luZ1RyYW5zcG9ydCgpe3RoaXMucHJvZHVjaW5nVHJhbnNwb3J0PXZvaWQgMH1jYWxsRXZlbnQoZSl7dGhpcy5ldmVudEhhbmRsZXIuY2FsbEV2ZW50KGUpfXNlbmRQcmVDYWxsVGVzdEJlZ2luRXZlbnQoZT0hMSxuKXt0aGlzLmNvbm5lY3Rpb25JbmZvUHJvbWlzZT10aGlzLm1lYXN1cmVtZW50cy5nZXROZXR3b3JrSW5mbyh0aGlzLmljZVNlcnZlcnMsZSksdGhpcy5ldmVudEhhbmRsZXIuY2FsbEV2ZW50KHtldmVudDpTLlBSRUNBTExfVEVTVF9CRUdJTix0aW1lc3RhbXA6bn0pLHRoaXMuY29ubmVjdGlvbkluZm9Qcm9taXNlJiZ0aGlzLmNvbm5lY3Rpb25JbmZvUHJvbWlzZS50aGVuKHM9Pnt0aGlzLmV2ZW50SGFuZGxlci5jYWxsRXZlbnQoe2V2ZW50OlMuUFJFQ0FMTF9URVNUX0NPTVBMRVRFLG1ldGFEYXRhOntjb25uZWN0aW9uSW5mbzpzfSx0aW1lc3RhbXA6bn0pfSl9c2VuZFNjcmVlblNoYXJlVG9nZ2xlRXZlbnQoZSxuPW51bGwscyl7dGhpcy5jdXJyZW50VXNlck1lZGlhU3RhdGVzLnNjcmVlbj1lLHRoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6ZT9TLlNDUkVFTlNIQVJFX1NUQVJURUQ6Uy5TQ1JFRU5TSEFSRV9TVE9QUEVELG1ldGFEYXRhOntzc3JjOm59LHRpbWVzdGFtcDpzfSl9c2VuZFNjcmVlblNoYXJlUmVxdWVzdGVkRXZlbnQoZSl7dGhpcy5ldmVudEhhbmRsZXIuY2FsbEV2ZW50KHtldmVudDpTLlNDUkVFTlNIQVJFX1NUQVJUX1JFUVVFU1RFRCx0aW1lc3RhbXA6ZX0pfXNlbmRBY3RpdmVTcGVha2VyRXZlbnQoZSxuKXt0aGlzLmV2ZW50SGFuZGxlci5jYWxsRXZlbnQoe2V2ZW50OlMuRE9NSU5BTlRfU1BFQUtFUixtZXRhRGF0YTp7cGVlcklkOmV9LHRpbWVzdGFtcDpufSl9ZGV2aWNlcyhlLG4scyl7dGhpcy5ldmVudEhhbmRsZXIuY2FsbEV2ZW50KHtldmVudDplPT09Si5BVURJTyYmUy5BVURJT19ERVZJQ0VTX1VQREFURVN8fGU9PT1KLlZJREVPJiZTLlZJREVPX0RFVklDRVNfVVBEQVRFU3x8ZT09PUouU1BFQUtFUiYmUy5TUEVBS0VSX0RFVklDRVNfVVBEQVRFUyxtZXRhRGF0YTp7ZGV2aWNlTGlzdDpufSx0aW1lc3RhbXA6c30pfXNlbGVjdGVkRGV2aWNlKGUsbixzKXt0aGlzLmV2ZW50SGFuZGxlci5jYWxsRXZlbnQoe2V2ZW50OmU9PT1KLkFVRElPJiZTLlNFTEVDVEVEX01JQ1JPSFBPTkVfVVBEQVRFfHxlPT09Si5WSURFTyYmUy5TRUxFQ1RFRF9DQU1FUkFfVVBEQVRFfHxlPT09Si5TUEVBS0VSJiZTLlNFTEVDVEVEX1NQRUFLRVJfVVBEQVRFLG1ldGFEYXRhOntkZXZpY2U6bn0sdGltZXN0YW1wOnN9KX1tZWRpYVBlcm1pc3Npb24oZSxuLHMpe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5NRURJQV9QRVJNSVNTSU9OLG1ldGFEYXRhOntkZXZpY2VUeXBlOmUscGVybWlzc2lvbjpufSx0aW1lc3RhbXA6c30pfW1lZGlhUGxheWJhY2tGYWlsZWQoZSxuKXt0aGlzLmV2ZW50SGFuZGxlci5jYWxsRXZlbnQoe2V2ZW50OmU9PT1KLkFVRElPJiZTLkFVRElPX1BMQVlfRkFJTEVEfHxlPT09Si5WSURFTyYmUy5WSURFT19QTEFZX0ZBSUxFRCxtZXRhRGF0YTp7ZGV2aWNlVHlwZTplfSx0aW1lc3RhbXA6bn0pfW1lZGlhVHJhY2tNdXRlZChlLG4pe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6ZT09PUouQVVESU8mJlMuQVVESU9fVFJBQ0tfTVVURUR8fGU9PT1KLlZJREVPJiZTLlZJREVPX1RSQUNLX01VVEVELG1ldGFEYXRhOntkZXZpY2VUeXBlOmV9LHRpbWVzdGFtcDpufSl9dGFiQ2hhbmdlZChlLG4pe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5UQUJfQ0hBTkdFLG1ldGFEYXRhOntpc01lZXRpbmdzVGFiQWN0aXZlOmV9LHRpbWVzdGFtcDpufSl9YnJvd3NlckJhY2tncm91bmRlZChlKXt0aGlzLmV2ZW50SGFuZGxlci5jYWxsRXZlbnQoe2V2ZW50OlMuQlJPV1NFUl9CQUNLR1JPVU5ERUQsdGltZXN0YW1wOmV9KX1icm93c2VyRm9yZWdyb3VuZGVkKGUpe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5CUk9XU0VSX0ZPUkVHUk9VTkRFRCx0aW1lc3RhbXA6ZX0pfWxlZ2FjeVN3aXRjaChlLG4pe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5MRUdBQ1lfU1dJVENILG1ldGFkYXRhOntvbjplfSx0aW1lc3RhbXA6bn0pfWdldFByZUNhbGxUZXN0UmVzdWx0cygpe3JldHVybiBJKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uSW5mb1Byb21pc2V9KX1zZW5kQ2FsbEpvaW5CZWdpbkV2ZW50KGUsbil7ZT1vdChRKHt9LGUpLHttZWV0aW5nRW52OnRoaXMuZW52fSksZS5kZXZpY2VJbmZvPW90KFEoe30sZS5kZXZpY2VJbmZvKSx7dXNlckFnZW50Om5hdmlnYXRvci51c2VyQWdlbnQsY3B1czpuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSxtZW1vcnk6bmF2aWdhdG9yLmRldmljZU1lbW9yeX0pLHRoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5DQUxMX0pPSU5fQkVHSU4sbWV0YURhdGE6e3BlZXJNZXRhRGF0YTplfSx0aW1lc3RhbXA6bn0pfXNlbmROZXR3b3JrUXVhbGl0eVRlc3RCZWdpbkV2ZW50KGUsbil7dGhpcy5ldmVudEhhbmRsZXIuY2FsbEV2ZW50KHtldmVudDpTLk5FVF9RVUFMSVRZX1RFU1RfQkVHSU4sdGltZXN0YW1wOm59KSxuZXcgUHJvbWlzZSgoaSxhKT0+SSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3QgZD1bXTt0cnl7Zm9yKGNvbnN0IG8gb2YgZSl0cnl7aWYoby5pY2VTZXJ2ZXJzJiZvLmljZVNlcnZlcnMubGVuZ3RoPjApe2NvbnN0IGw9eWllbGQgdGhpcy5tZWFzdXJlbWVudHMuZ2V0TmV0d29ya1F1YWxpdHkoby5pY2VTZXJ2ZXJzKTtkLnB1c2gob3QoUSh7fSxvKSx7bmV0d29ya1Jlc3VsdHM6bH0pKX19Y2F0Y2gobCl7Y29uc29sZS53YXJuKCJFcnJvciBoYW5kbGluZyAiLGwpfWkoe3JlZ2lvbkRhdGE6ZH0pfWNhdGNoKG8pe2NvbnNvbGUud2FybigiRXJyb3IgaW4gY2FsbHN0YXRzLCAiLG8pLGEobyl9fSkpLnRoZW4oaT0+e3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5ORVRfUVVBTElUWV9URVNUX0VORCx0aW1lc3RhbXA6bixtZXRhRGF0YTppfSl9KX1zZW5kV2ViU29ja2V0Q29ubmVjdGVkRXZlbnQoZSl7dGhpcy5ldmVudEhhbmRsZXIuY2FsbEV2ZW50KHtldmVudDpTLldFQlNPQ0tFVF9DT05ORUNURUQsdGltZXN0YW1wOmV9KX1zZW5kVHJhbnNwb3J0Q29ubmVjdGVkRXZlbnQoZSl7dGhpcy5ldmVudEhhbmRsZXIuY2FsbEV2ZW50KHtldmVudDpTLlRSQU5TUE9SVF9DT05ORUNURUQsdGltZXN0YW1wOmV9KX1zZW5kQXVkaW9Ub2dnbGVFdmVudChlLG4pe3RoaXMuY3VycmVudFVzZXJNZWRpYVN0YXRlcy5hdWRpbz1lO2xldCBzO2U/cz1TLkFVRElPX09OOnM9Uy5BVURJT19PRkYsdGhpcy5ldmVudEhhbmRsZXIuY2FsbEV2ZW50KHtldmVudDpzLHRpbWVzdGFtcDpufSl9c2VuZFZpZGVvVG9nZ2xlRXZlbnQoZSxuKXt0aGlzLmN1cnJlbnRVc2VyTWVkaWFTdGF0ZXMudmlkZW89ZTtsZXQgcztlP3M9Uy5WSURFT19PTjpzPVMuVklERU9fT0ZGLHRoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6cyx0aW1lc3RhbXA6bn0pfXNlbmRQYXJ0aWNpcGFudFJvbGVUb2dnbGVFdmVudChlLG4pe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5QQVJUSUNJUEFOVF9ST0xFLHRpbWVzdGFtcDpuLG1ldGFEYXRhOmV9KX1zdGFydFBpbmdTdGF0cyhlPTdlMyl7dGhpcy5zZW5kUGluZ1N0YXRzRXZlbnQoITEsbmV3IERhdGUpLHRoaXMucGluZ1N0YXRzVGltZW91dD1zZXRJbnRlcnZhbCh0aGlzLnNlbmRQaW5nU3RhdHNFdmVudC5iaW5kKHRoaXMpLGUpfXN0b3BQaW5nU3RhdHMoKXtjbGVhckludGVydmFsKHRoaXMucGluZ1N0YXRzVGltZW91dCl9c2VuZFBpbmdTdGF0c0V2ZW50KGU9ITAsbil7cmV0dXJuIEkodGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCBzLGk7aWYodGhpcy5wcm9kdWNpbmdUcmFuc3BvcnQmJihzPXlpZWxkIHRoaXMubWVhc3VyZW1lbnRzLmdldFByb2Nlc3NlZFN0YXRzKHRoaXMucHJvZHVjaW5nVHJhbnNwb3J0LCExLCEwKSwhc3x8IShzIT1udWxsJiZzLnByb2R1Y2VyUmVwb3J0KSkpe3RoaXMubG9nZ2VyLmRlYnVnKCJjYWxsU3RhdHM6OnNlbmRQaW5nU3RhdHNFdmVudDo6c3RhbGVQcm9kdWNpbmdUcmFuc3BvcnQiLHtkaXNjbGFpbWVyOiJTdGFsZSBwcm9kdWNlcj8gUmVnZW5lcmF0aW5nIFN0cmVhbSBNYXBzISJ9KTtjb25zdCBkPXlpZWxkIHRoaXMubWVhc3VyZW1lbnRzLmdldFByb2R1Y2Vyc1JlcG9ydChbLi4udGhpcy5wcm9kdWNlcnMudmFsdWVzKCldKTtzJiZkP3MucHJvZHVjZXJSZXBvcnQ9ZDoocz15aWVsZCB0aGlzLm1lYXN1cmVtZW50cy5nZXRQcm9jZXNzZWRTdGF0cyh0aGlzLnByb2R1Y2luZ1RyYW5zcG9ydCwhMSwhMCksKCFzfHwhKHMhPW51bGwmJnMucHJvZHVjZXJSZXBvcnQpKSYmdGhpcy5sb2dnZXIuZGVidWcoImNhbGxTdGF0czo6c2VuZFBpbmdTdGF0c0V2ZW50Ojpub1Byb2R1Y2luZ1RyYW5zcG9ydFJlcG9ydCIse2Rpc2NsYWltZXI6IlN0cmVhbSBtYXBzIGludmFsaWQgZGVzcGl0ZSByZWdlbmVyYXRpbmchIn0pKX1pZih0aGlzLmNvbnN1bWluZ1RyYW5zcG9ydCYmKGk9eWllbGQgdGhpcy5tZWFzdXJlbWVudHMuZ2V0UHJvY2Vzc2VkU3RhdHModGhpcy5jb25zdW1pbmdUcmFuc3BvcnQsITAsITEpLCFpfHwhaS5jb25zdW1lclJlcG9ydCkpe3RoaXMubG9nZ2VyLmRlYnVnKCJjYWxsU3RhdHM6OnNlbmRQaW5nU3RhdHNFdmVudDo6c3RhbGVDb25zdW1pbmdUcmFuc3BvcnQiLHtkaXNjbGFpbWVyOiJTdGFsZSBjb25zdW1lcj8gUmVnZW5lcmF0aW5nIFN0cmVhbSBNYXBzISJ9KTtjb25zdCBkPXlpZWxkIHRoaXMubWVhc3VyZW1lbnRzLmdldENvbnN1bWVyc1JlcG9ydChbLi4udGhpcy5jb25zdW1lcnMudmFsdWVzKCldKTtpJiZkP2kuY29uc3VtZXJSZXBvcnQ9ZDooaT15aWVsZCB0aGlzLm1lYXN1cmVtZW50cy5nZXRQcm9jZXNzZWRTdGF0cyh0aGlzLmNvbnN1bWluZ1RyYW5zcG9ydCwhMCwhMSksKCFpfHwhaS5jb25zdW1lclJlcG9ydCkmJnRoaXMubG9nZ2VyLmRlYnVnKCJjYWxsU3RhdHM6OnNlbmRQaW5nU3RhdHNFdmVudDo6bm9Db25zdW1pbmdUcmFuc3BvcnRSZXBvcnQiLHtkaXNjbGFpbWVyOiJTdHJlYW0gbWFwcyBpbnZhbGlkIGRlc3BpdGUgcmVnZW5lcmF0aW5nISJ9KSl9Y29uc3QgYT17cHJvZHVjaW5nVHJhbnNwb3J0U3RhdHM6cz9zPT1udWxsP3ZvaWQgMDpzLnRyYW5zcG9ydFJlcG9ydDp2b2lkIDAsY29uc3VtaW5nVHJhbnNwb3J0U3RhdHM6aT9pPT1udWxsP3ZvaWQgMDppLnRyYW5zcG9ydFJlcG9ydDp2b2lkIDAscHJvZHVjZXJTdGF0czpbXS5jb25jYXQoKHM9PW51bGw/dm9pZCAwOnMucHJvZHVjZXJSZXBvcnQpfHxbXSkuY29uY2F0KChpPT1udWxsP3ZvaWQgMDppLnByb2R1Y2VyUmVwb3J0KXx8W10pLGNvbnN1bWVyU3RhdHM6W10uY29uY2F0KChpPT1udWxsP3ZvaWQgMDppLmNvbnN1bWVyUmVwb3J0KXx8W10pLmNvbmNhdCgocz09bnVsbD92b2lkIDA6cy5jb25zdW1lclJlcG9ydCl8fFtdKX07aWYoZSYmYS5wcm9kdWNlclN0YXRzLmxlbmd0aD09PTAmJmEuY29uc3VtZXJTdGF0cy5sZW5ndGg9PT0wKXt5aWVsZCB0aGlzLmV2ZW50SGFuZGxlci5mbHVzaCgpO3JldHVybn10aGlzLmV2ZW50SGFuZGxlci5jYWxsRXZlbnQoe2V2ZW50OlMuUElOR19TVEFULG1ldGFEYXRhOmEsdGltZXN0YW1wOm59KX0pfXNlbmRJVlNQbGF5ZXJSZWJ1ZmZlckV2ZW50KGUpe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5JVlNfUExBWUVSX1JFQlVGRkVSSU5HLHRpbWVzdGFtcDplfSl9c2VuZElWU1BsYXllckF1ZGlvQmxvY2tFdmVudChlKXt0aGlzLmV2ZW50SGFuZGxlci5jYWxsRXZlbnQoe2V2ZW50OlMuSVZTX1BMQVlFUl9BVURJT19CTE9DS0VELHRpbWVzdGFtcDplfSl9c2VuZElWU1BsYXllclBsYXliYWNrQmxvY2tlZEV2ZW50KGUpe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5JVlNfUExBWUVSX1BMQVlCQUNLX0JMT0NLRUQsdGltZXN0YW1wOmV9KX1zZW5kSVZTUGxheWVyTmV0d29ya1VuYXZhaWxhYmxlRXZlbnQoZSl7dGhpcy5ldmVudEhhbmRsZXIuY2FsbEV2ZW50KHtldmVudDpTLklWU19QTEFZRVJfTkVUV09SS19VTkFWQUlMQUJMRSx0aW1lc3RhbXA6ZX0pfXNlbmRJVlNQbGF5ZXJJbml0aWFsaXplZEV2ZW50KGUpe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5JVlNfUExBWUVSX0lOSVRJQUxJWkVELHRpbWVzdGFtcDplfSl9c2VuZElWU1BsYXllcldvcmtlckVycm9yRXZlbnQoZSl7dGhpcy5ldmVudEhhbmRsZXIuY2FsbEV2ZW50KHtldmVudDpTLklWU19QTEFZRVJfV09SS0VSX0VSUk9SLHRpbWVzdGFtcDplfSl9c2VuZElWU1BsYXllckVycm9yRXZlbnQoZSxuKXt0aGlzLmV2ZW50SGFuZGxlci5jYWxsRXZlbnQoe2V2ZW50OlMuSVZTX1BMQVlFUl9FUlJPUix0aW1lc3RhbXA6bixtZXRhRGF0YTplfSl9c2VuZElWU1BsYXllclJlY292ZXJhYmxlRXJyb3JFdmVudChlLG4pe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5JVlNfUExBWUVSX1JFQ09WRVJBQkxFX0VSUk9SLHRpbWVzdGFtcDpuLG1ldGFEYXRhOmV9KX1zZW5kSVZTUGxheWVyQW5hbHl0aWNzRXZlbnQoZSxuKXt0aGlzLmV2ZW50SGFuZGxlci5jYWxsRXZlbnQoe2V2ZW50OlMuSVZTX1BMQVlFUl9BTkFMWVRJQ1NfRVZFTlQsdGltZXN0YW1wOm4sbWV0YURhdGE6ZX0pfXNlbmRJVlNQbGF5ZXJQbGF5YmFja1JhdGVDaGFuZ2VkRXZlbnQoZSxuKXt0aGlzLmV2ZW50SGFuZGxlci5jYWxsRXZlbnQoe2V2ZW50OlMuSVZTX1BMQVlFUl9QTEFZQkFDS19SQVRFX0NIQU5HRUQsdGltZXN0YW1wOm4sbWV0YURhdGE6e3VwZGF0ZWRQbGF5YmFja1JhdGU6ZX19KX1zZW5kSVZTUGxheWVyUXVhbGl0eUNoYW5nZWQoZSxuKXt0aGlzLmV2ZW50SGFuZGxlci5jYWxsRXZlbnQoe2V2ZW50OlMuSVZTX1BMQVlFUl9RVUFMSVRZX0NIQU5HRUQsdGltZXN0YW1wOm4sbWV0YURhdGE6ZX0pfXNlbmRQbGF5ZXJMaXZlTGF0ZW5jeShlLG4pe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5MSVZFU1RSRUFNX0xBVEVOQ1ksdGltZXN0YW1wOm4sbWV0YURhdGE6e2xhdGVuY3k6ZX19KX1zZW5kRGlzY29ubmVjdEV2ZW50KGUpe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5ESVNDT05ORUNULHRpbWVzdGFtcDplfSl9c2VuZFJlY29ubmVjdEV2ZW50KGUpe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5SRUNPTk5FQ1RfQVRURU1QVCx0aW1lc3RhbXA6ZX0pfWV4cGVjdGVkVmlkZW9SZXNvbHV0aW9uKGUsbixzKXt0aGlzLmV2ZW50SGFuZGxlci5jYWxsRXZlbnQoe2V2ZW50OlMuRVhQRUNURURfVklERU9fUkVTT0xVVElPTix0aW1lc3RhbXA6cyxtZXRhRGF0YTp7ZnJhbWVXaWR0aDplLGZyYW1lSGVpZ2h0Om59fSl9ZXhwZWN0ZWRTY3JlZW5zaGFyZVJlc29sdXRpb24oZSxuLHMpe3RoaXMuZXZlbnRIYW5kbGVyLmNhbGxFdmVudCh7ZXZlbnQ6Uy5FWFBFQ1RFRF9TQ1JFRU5TSEFSRV9SRVNPTFVUSU9OLHRpbWVzdGFtcDpzLG1ldGFEYXRhOntmcmFtZVdpZHRoOmUsZnJhbWVIZWlnaHQ6bn19KX19O1IoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwicmVnaXN0ZXJJY2VTZXJ2ZXJzIixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsInJlZ2lzdGVyQ29uc3VtZXIiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwicmVnaXN0ZXJQcm9kdWNlciIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJzZW5kQ29uc3VtZXJTaGFyZWRNZWRpYVN0YXRlRXZlbnQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwicmVnaXN0ZXJQcm9kdWNpbmdUcmFuc3BvcnQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwicmVnaXN0ZXJDb25zdW1pbmdUcmFuc3BvcnQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwiZGVSZWdpc3RlckNvbnN1bWVyIixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsImRlUmVnaXN0ZXJQcm9kdWNlciIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJkaXNjb25uZWN0Q29uc3VtaW5nVHJhbnNwb3J0IixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsImRpc2Nvbm5lY3RQcm9kdWNpbmdUcmFuc3BvcnQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwic2VuZFByZUNhbGxUZXN0QmVnaW5FdmVudCIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJzZW5kU2NyZWVuU2hhcmVUb2dnbGVFdmVudCIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJzZW5kU2NyZWVuU2hhcmVSZXF1ZXN0ZWRFdmVudCIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJzZW5kQWN0aXZlU3BlYWtlckV2ZW50IixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsImRldmljZXMiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwic2VsZWN0ZWREZXZpY2UiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwibWVkaWFQZXJtaXNzaW9uIixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsIm1lZGlhUGxheWJhY2tGYWlsZWQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwibWVkaWFUcmFja011dGVkIixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsInRhYkNoYW5nZWQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwiYnJvd3NlckJhY2tncm91bmRlZCIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJicm93c2VyRm9yZWdyb3VuZGVkIixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsImxlZ2FjeVN3aXRjaCIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJnZXRQcmVDYWxsVGVzdFJlc3VsdHMiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwic2VuZENhbGxKb2luQmVnaW5FdmVudCIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJzZW5kTmV0d29ya1F1YWxpdHlUZXN0QmVnaW5FdmVudCIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJzZW5kV2ViU29ja2V0Q29ubmVjdGVkRXZlbnQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwic2VuZFRyYW5zcG9ydENvbm5lY3RlZEV2ZW50IixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsInNlbmRBdWRpb1RvZ2dsZUV2ZW50IixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsInNlbmRWaWRlb1RvZ2dsZUV2ZW50IixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsInNlbmRQYXJ0aWNpcGFudFJvbGVUb2dnbGVFdmVudCIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJzdGFydFBpbmdTdGF0cyIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJzdG9wUGluZ1N0YXRzIixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsInNlbmRQaW5nU3RhdHNFdmVudCIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJzZW5kSVZTUGxheWVyUmVidWZmZXJFdmVudCIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJzZW5kSVZTUGxheWVyQXVkaW9CbG9ja0V2ZW50IixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsInNlbmRJVlNQbGF5ZXJQbGF5YmFja0Jsb2NrZWRFdmVudCIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJzZW5kSVZTUGxheWVyTmV0d29ya1VuYXZhaWxhYmxlRXZlbnQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwic2VuZElWU1BsYXllckluaXRpYWxpemVkRXZlbnQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwic2VuZElWU1BsYXllcldvcmtlckVycm9yRXZlbnQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwic2VuZElWU1BsYXllckVycm9yRXZlbnQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwic2VuZElWU1BsYXllclJlY292ZXJhYmxlRXJyb3JFdmVudCIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJzZW5kSVZTUGxheWVyQW5hbHl0aWNzRXZlbnQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwic2VuZElWU1BsYXllclBsYXliYWNrUmF0ZUNoYW5nZWRFdmVudCIsbnVsbCksUihbUChUeXBlRXJyb3IsKHQscik9PkMuZXJyb3Iocix0KSldLGIucHJvdG90eXBlLCJzZW5kSVZTUGxheWVyUXVhbGl0eUNoYW5nZWQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwic2VuZFBsYXllckxpdmVMYXRlbmN5IixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsInNlbmREaXNjb25uZWN0RXZlbnQiLG51bGwpLFIoW1AoVHlwZUVycm9yLCh0LHIpPT5DLmVycm9yKHIsdCkpXSxiLnByb3RvdHlwZSwic2VuZFJlY29ubmVjdEV2ZW50IixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsImV4cGVjdGVkVmlkZW9SZXNvbHV0aW9uIixudWxsKSxSKFtQKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYi5wcm90b3R5cGUsImV4cGVjdGVkU2NyZWVuc2hhcmVSZXNvbHV0aW9uIixudWxsKSxiPVIoW0FzKFR5cGVFcnJvciwodCxyKT0+Qy5lcnJvcihyLHQpKV0sYik7dmFyIE1zPWI7Y2xhc3MgVnIgZXh0ZW5kcyBZe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTtwKHRoaXMsInN0YXRzIik7cCh0aGlzLCJwZWVySWQiKTtwKHRoaXMsImJhY2tlbmQiKTtwKHRoaXMsImljZVNlcnZlcnMiKTtwKHRoaXMsImluaXRpYWxpemVkIiwhMSk7cCh0aGlzLCJzdGFsbGVkIiwhMSk7cCh0aGlzLCJpcEluZm9ybWF0aW9uIik7cCh0aGlzLCJsb2dnZXIiKX1pbml0aWFsaXplKF8pe3JldHVybiBJKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKih7cGVlcklkOmUsZW5naW5lTmFtZTpuLGVudjpzPWdyLlBST0QsaWNlU2VydmVyczppLGFwaUJhc2U6YT0iaHR0cHM6Ly9hcGkuY2x1c3Rlci5keXRlLmluIixmbGFnczpkLGxvZ2dlcjpvPWNvbnNvbGUsYXBpSG9zdG5hbWVzOmwsc2tpcENvbm5lY3Rpdml0eUNoZWNrczptPSExfSl7dmFyIHksdyx4O3RyeXt0aGlzLnBlZXJJZD1lLHRoaXMubG9nZ2VyPW8sdGhpcy5pcEluZm9ybWF0aW9uPXlpZWxkIE1yLmdldElQRGV0YWlscyh7cGVlcklkOmUsYXBpSG9zdG5hbWVzOmwsbG9nZ2VyOm99KSx0aGlzLmJhY2tlbmQ9bmV3IE1zKGEsbixzLGQsbyxlLGwpLHRoaXMuaWNlU2VydmVycz1pLCh5PXRoaXMuYmFja2VuZCk9PW51bGx8fHkucmVnaXN0ZXJJY2VTZXJ2ZXJzKHRoaXMuaWNlU2VydmVycyksdGhpcy5pbml0aWFsaXplZD0hMCwoeD0odz10aGlzLmJhY2tlbmQpPT1udWxsP3ZvaWQgMDp3LmV2ZW50SGFuZGxlcik9PW51bGx8fHguZW1pdCgiaW5pdGlhbGl6ZWQiLHRoaXMuaXBJbmZvcm1hdGlvbiksdGhpcy5lbWl0KCJpbml0aWFsaXplZCIsdGhpcy5pcEluZm9ybWF0aW9uKSx0aGlzLnN0YXJ0UHJlQ2FsbFRlc3QobSl9Y2F0Y2goSCl7dGhpcy5sb2dnZXIuZXJyb3IoImNhbGxTdGF0czo6Q2FsbFN0YXRzSW50ZWdyYXRpb246ICIse2Vycm9yOkh9KSx0aGlzLnN0YWxsQ2FsbFN0YXRzKCl9fSl9Y29uZmlndXJlU2VuZFRyYW5zcG9ydChlKXt0aGlzLm9uU2FmZUluaXRpYWxpemF0aW9uKCgpPT57dmFyIG47KG49dGhpcy5iYWNrZW5kKT09bnVsbHx8bi5yZWdpc3RlclByb2R1Y2luZ1RyYW5zcG9ydChlKX0pfWNvbmZpZ3VyZVJlY3ZUcmFuc3BvcnQoZSl7dGhpcy5vblNhZmVJbml0aWFsaXphdGlvbigoKT0+e3ZhciBuOyhuPXRoaXMuYmFja2VuZCk9PW51bGx8fG4ucmVnaXN0ZXJDb25zdW1pbmdUcmFuc3BvcnQoZSl9KX1jYW5kaWRhdGVSZWdpb25hbE5ldHdvcmtRdWFsaXR5VGVzdChlKXtyZXR1cm4gSSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Y29uc3Qgbj1uZXcgRGF0ZTt0aGlzLm9uU2FmZUluaXRpYWxpemF0aW9uKCgpPT57dmFyIHM7dHJ5eyhzPXRoaXMuYmFja2VuZCk9PW51bGx8fHMuc2VuZE5ldHdvcmtRdWFsaXR5VGVzdEJlZ2luRXZlbnQoZSxuKX1jYXRjaChpKXt0aGlzLmxvZ2dlci5lcnJvcigiY2FsbFN0YXRzOjpzZW5kTmV0d29ya1F1YWxpdHlUZXN0QmVnaW5FdmVudCIse2Vycm9yOntyZWFzb246aS5yZWFzb259fSl9fSl9KX1yb29tSm9pbmVkKGUpe3JldHVybiBJKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBuPW5ldyBEYXRlO3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgcyxpOyhzPXRoaXMuYmFja2VuZCk9PW51bGx8fHMuc2VuZENhbGxKb2luQmVnaW5FdmVudChlLG4pLHRoaXMuYmFja2VuZCwoaT10aGlzLmJhY2tlbmQpPT1udWxsfHxpLnN0YXJ0UGluZ1N0YXRzKCl9KX0pfWF1ZGlvT2ZmKCl7Y29uc3QgZT1uZXcgRGF0ZTt0aGlzLm9uU2FmZUluaXRpYWxpemF0aW9uKCgpPT57dmFyIG47KG49dGhpcy5iYWNrZW5kKT09bnVsbHx8bi5zZW5kQXVkaW9Ub2dnbGVFdmVudCghMSxlKX0pfWF1ZGlvT24oKXtjb25zdCBlPW5ldyBEYXRlO3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgbjsobj10aGlzLmJhY2tlbmQpPT1udWxsfHxuLnNlbmRBdWRpb1RvZ2dsZUV2ZW50KCEwLGUpfSl9dmlkZW9PZmYoKXtjb25zdCBlPW5ldyBEYXRlO3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgbjsobj10aGlzLmJhY2tlbmQpPT1udWxsfHxuLnNlbmRWaWRlb1RvZ2dsZUV2ZW50KCExLGUpfSl9dmlkZW9Pbigpe2NvbnN0IGU9bmV3IERhdGU7dGhpcy5vblNhZmVJbml0aWFsaXphdGlvbigoKT0+e3ZhciBuOyhuPXRoaXMuYmFja2VuZCk9PW51bGx8fG4uc2VuZFZpZGVvVG9nZ2xlRXZlbnQoITAsZSl9KX1jYWxsRW5kZWQoKXtjb25zdCBlPW5ldyBEYXRlO3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgbixzOyhuPXRoaXMuYmFja2VuZCk9PW51bGx8fG4uc3RvcFBpbmdTdGF0cygpLChzPXRoaXMuYmFja2VuZCk9PW51bGx8fHMuc2VuZERpc2Nvbm5lY3RFdmVudChlKX0pfXNjcmVlblNoYXJlU3RhcnQoZSl7Y29uc3Qgbj1uZXcgRGF0ZTt0aGlzLm9uU2FmZUluaXRpYWxpemF0aW9uKCgpPT57dmFyIHM7KHM9dGhpcy5iYWNrZW5kKT09bnVsbHx8cy5zZW5kU2NyZWVuU2hhcmVUb2dnbGVFdmVudCghMCxlLG4pfSl9Y29uc3VtZXJTaGFyZWRNZWRpYVN0YXRlKGUsbil7dGhpcy5vblNhZmVJbml0aWFsaXphdGlvbigoKT0+e3ZhciBzOyhzPXRoaXMuYmFja2VuZCk9PW51bGx8fHMuc2VuZENvbnN1bWVyU2hhcmVkTWVkaWFTdGF0ZUV2ZW50KGUsbil9KX1zY3JlZW5TaGFyZVN0b3AoZSl7Y29uc3Qgbj1uZXcgRGF0ZTt0aGlzLm9uU2FmZUluaXRpYWxpemF0aW9uKCgpPT57dmFyIHM7KHM9dGhpcy5iYWNrZW5kKT09bnVsbHx8cy5zZW5kU2NyZWVuU2hhcmVUb2dnbGVFdmVudCghMSxlLG4pfSl9c2NyZWVuU2hhcmVSZXF1ZXN0ZWQoKXtjb25zdCBlPW5ldyBEYXRlO3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgbjsobj10aGlzLmJhY2tlbmQpPT1udWxsfHxuLnNlbmRTY3JlZW5TaGFyZVJlcXVlc3RlZEV2ZW50KGUpfSl9YWN0aXZlU3BlYWtlcihlKXtpZihlIT09dGhpcy5wZWVySWQpcmV0dXJuO2NvbnN0IG49bmV3IERhdGU7dGhpcy5vblNhZmVJbml0aWFsaXphdGlvbigoKT0+e3ZhciBzOyhzPXRoaXMuYmFja2VuZCk9PW51bGx8fHMuc2VuZEFjdGl2ZVNwZWFrZXJFdmVudChlLG4pfSl9ZGV2aWNlcyhlLG4pe2NvbnN0IHM9bmV3IERhdGU7dGhpcy5vblNhZmVJbml0aWFsaXphdGlvbigoKT0+e3ZhciBpOyhpPXRoaXMuYmFja2VuZCk9PW51bGx8fGkuZGV2aWNlcyhlLG4scyl9KX1zZWxlY3RlZERldmljZShlLG4pe2NvbnN0IHM9bmV3IERhdGU7dGhpcy5vblNhZmVJbml0aWFsaXphdGlvbigoKT0+e3ZhciBpOyhpPXRoaXMuYmFja2VuZCk9PW51bGx8fGkuc2VsZWN0ZWREZXZpY2UoZSxuLHMpfSl9bWVkaWFQZXJtaXNzaW9uKGUsbil7Y29uc3Qgcz1uZXcgRGF0ZTt0aGlzLm9uU2FmZUluaXRpYWxpemF0aW9uKCgpPT57dmFyIGk7KGk9dGhpcy5iYWNrZW5kKT09bnVsbHx8aS5tZWRpYVBlcm1pc3Npb24oZSxuLHMpfSl9bWVkaWFQbGF5YmFja0ZhaWxlZChlKXtjb25zdCBuPW5ldyBEYXRlO3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgczsocz10aGlzLmJhY2tlbmQpPT1udWxsfHxzLm1lZGlhUGxheWJhY2tGYWlsZWQoZSxuKX0pfW1lZGlhVHJhY2tNdXRlZChlKXtjb25zdCBuPW5ldyBEYXRlO3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgczsocz10aGlzLmJhY2tlbmQpPT1udWxsfHxzLm1lZGlhVHJhY2tNdXRlZChlLG4pfSl9dGFiQ2hhbmdlZChlPSExKXtjb25zdCBuPW5ldyBEYXRlO3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgczsocz10aGlzLmJhY2tlbmQpPT1udWxsfHxzLnRhYkNoYW5nZWQoZSxuKX0pfWJyb3dzZXJCYWNrZ3JvdW5kZWQoKXtjb25zdCBlPW5ldyBEYXRlO3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgbjsobj10aGlzLmJhY2tlbmQpPT1udWxsfHxuLmJyb3dzZXJCYWNrZ3JvdW5kZWQoZSl9KX1icm93c2VyRm9yZWdyb3VuZGVkKCl7Y29uc3QgZT1uZXcgRGF0ZTt0aGlzLm9uU2FmZUluaXRpYWxpemF0aW9uKCgpPT57dmFyIG47KG49dGhpcy5iYWNrZW5kKT09bnVsbHx8bi5icm93c2VyRm9yZWdyb3VuZGVkKGUpfSl9bGVnYWN5U3dpdGNoKGUpe2NvbnN0IG49bmV3IERhdGU7dGhpcy5vblNhZmVJbml0aWFsaXphdGlvbigoKT0+e3ZhciBzOyhzPXRoaXMuYmFja2VuZCk9PW51bGx8fHMubGVnYWN5U3dpdGNoKGUsbil9KX1zdGFydFByZUNhbGxUZXN0KGU9ITEpe3JldHVybiBJKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBuPW5ldyBEYXRlO3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgczsocz10aGlzLmJhY2tlbmQpPT1udWxsfHxzLnNlbmRQcmVDYWxsVGVzdEJlZ2luRXZlbnQoZSxuKX0pfSl9b25QcmVDYWxsVGVzdFJlc3VsdHMoZSl7cmV0dXJuIHRoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgbjsobj10aGlzLmJhY2tlbmQpPT1udWxsfHxuLmV2ZW50SGFuZGxlci5vbmNlKCJwcmVjYWxsX2VuZCIsZSl9KSxlfW9uUmVjZWl2aW5nQ29uc3VtZXJBdWRpb1N0YXR1cyhlKXt0aGlzLm9uU2FmZUluaXRpYWxpemF0aW9uKCgpPT57dmFyIG47KG49dGhpcy5iYWNrZW5kKT09bnVsbHx8bi5ldmVudEhhbmRsZXIub24oImNvbnN1bWVyX2F1ZGlvX3N0YXR1cyIsZSl9KX1vblJlY2VpdmluZ0NvbnN1bWVyVmlkZW9TdGF0dXMoZSl7dGhpcy5vblNhZmVJbml0aWFsaXphdGlvbigoKT0+e3ZhciBuOyhuPXRoaXMuYmFja2VuZCk9PW51bGx8fG4uZXZlbnRIYW5kbGVyLm9uKCJjb25zdW1lcl92aWRlb19zdGF0dXMiLGUpfSl9b25SZWNlaXZpbmdQcm9kdWNlckF1ZGlvU3RhdHVzKGUpe3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgbjsobj10aGlzLmJhY2tlbmQpPT1udWxsfHxuLmV2ZW50SGFuZGxlci5vbigicHJvZHVjZXJfYXVkaW9fc3RhdHVzIixlKX0pfW9uUmVjZWl2aW5nUHJvZHVjZXJWaWRlb1N0YXR1cyhlKXt0aGlzLm9uU2FmZUluaXRpYWxpemF0aW9uKCgpPT57dmFyIG47KG49dGhpcy5iYWNrZW5kKT09bnVsbHx8bi5ldmVudEhhbmRsZXIub24oInByb2R1Y2VyX3ZpZGVvX3N0YXR1cyIsZSl9KX1vblJlY2VpdmluZ1Byb2R1Y2luZ1RyYW5zcG9ydFN0YXR1cyhlKXt0aGlzLm9uU2FmZUluaXRpYWxpemF0aW9uKCgpPT57dmFyIG47KG49dGhpcy5iYWNrZW5kKT09bnVsbHx8bi5ldmVudEhhbmRsZXIub24oInByb2R1Y2luZ190cmFuc3BvcnRfc3RhdHVzIixlKX0pfW9uUmVjZWl2aW5nQ29uc3VtaW5nVHJhbnNwb3J0U3RhdHVzKGUpe3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgbjsobj10aGlzLmJhY2tlbmQpPT1udWxsfHxuLmV2ZW50SGFuZGxlci5vbigiY29uc3VtaW5nX3RyYW5zcG9ydF9zdGF0dXMiLGUpfSl9b25Qcm9kdWNlclNjb3JlKGUpe3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgbjsobj10aGlzLmJhY2tlbmQpPT1udWxsfHxuLmV2ZW50SGFuZGxlci5vbigicHJvZHVjZXJfc2NvcmUiLGUpfSl9b25Db25zdW1lclNjb3JlKGUpe3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgbjsobj10aGlzLmJhY2tlbmQpPT1udWxsfHxuLmV2ZW50SGFuZGxlci5vbigiY29uc3VtZXJfc2NvcmUiLGUpfSl9b25TYWZlSW5pdGlhbGl6YXRpb24oZSl7aWYodGhpcy5pbml0aWFsaXplZCllKHRoaXMuaXBJbmZvcm1hdGlvbiwhMSk7ZWxzZSBpZighdGhpcy5zdGFsbGVkKXtjb25zdCBuPXM9PntlKHMsITApfTtyZXR1cm4gdGhpcy5vbmNlKCJpbml0aWFsaXplZCIsbiksbn1yZXR1cm4oKT0+e319cmVtb3ZlSW5pdGlhbGl6YXRpb25MaXN0ZW5lcihlKXt0aGlzLnJlbW92ZUxpc3RlbmVyKCJpbml0aWFsaXplZCIsZSl9c3RhbGxDYWxsU3RhdHMoKXt0aGlzLnN0YWxsZWQ9ITAsdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoImluaXRpYWxpemVkIil9aXZzUGxheWVyRXZlbnQoZSxuKXtjb25zdCBzPW5ldyBEYXRlO3RoaXMub25TYWZlSW5pdGlhbGl6YXRpb24oKCk9Pnt2YXIgaSxhLGQsbyxsLG0sXyx5LHcseCxIO3N3aXRjaChlKXtjYXNlIlBsYXllclJlYnVmZmVyaW5nIjooaT10aGlzLmJhY2tlbmQpPT1udWxsfHxpLnNlbmRJVlNQbGF5ZXJSZWJ1ZmZlckV2ZW50KHMpO2JyZWFrO2Nhc2UiUGxheWVyQXVkaW9CbG9ja2VkIjooYT10aGlzLmJhY2tlbmQpPT1udWxsfHxhLnNlbmRJVlNQbGF5ZXJBdWRpb0Jsb2NrRXZlbnQocyk7YnJlYWs7Y2FzZSJQbGF5ZXJQbGF5YmFja0Jsb2NrZWQiOihkPXRoaXMuYmFja2VuZCk9PW51bGx8fGQuc2VuZElWU1BsYXllclBsYXliYWNrQmxvY2tlZEV2ZW50KHMpO2JyZWFrO2Nhc2UiUGxheWVyTmV0d29ya1VuYXZhaWxhYmxlIjoobz10aGlzLmJhY2tlbmQpPT1udWxsfHxvLnNlbmRJVlNQbGF5ZXJOZXR3b3JrVW5hdmFpbGFibGVFdmVudChzKTticmVhaztjYXNlIlBsYXllckluaXRpYWxpemVkIjoobD10aGlzLmJhY2tlbmQpPT1udWxsfHxsLnNlbmRJVlNQbGF5ZXJJbml0aWFsaXplZEV2ZW50KHMpO2JyZWFrO2Nhc2UiUGxheWVyV29ya2VyRXJyb3IiOihtPXRoaXMuYmFja2VuZCk9PW51bGx8fG0uc2VuZElWU1BsYXllcldvcmtlckVycm9yRXZlbnQocyk7YnJlYWs7Y2FzZSJQbGF5ZXJFcnJvciI6KF89dGhpcy5iYWNrZW5kKT09bnVsbHx8Xy5zZW5kSVZTUGxheWVyRXJyb3JFdmVudChuLHMpO2JyZWFrO2Nhc2UiUGxheWVyUmVjb3ZlcmFibGVFcnJvciI6KHk9dGhpcy5iYWNrZW5kKT09bnVsbHx8eS5zZW5kSVZTUGxheWVyUmVjb3ZlcmFibGVFcnJvckV2ZW50KG4scyk7YnJlYWs7Y2FzZSJQbGF5ZXJBbmFseXRpY3NFdmVudCI6KHc9dGhpcy5iYWNrZW5kKT09bnVsbHx8dy5zZW5kSVZTUGxheWVyQW5hbHl0aWNzRXZlbnQobixzKTticmVhaztjYXNlIlBsYXllclBsYXliYWNrUmF0ZUNoYW5nZWQiOih4PXRoaXMuYmFja2VuZCk9PW51bGx8fHguc2VuZElWU1BsYXllclBsYXliYWNrUmF0ZUNoYW5nZWRFdmVudChuLHMpO2JyZWFrO2Nhc2UiUGxheWVyUXVhbGl0eUNoYW5nZWQiOihIPXRoaXMuYmFja2VuZCk9PW51bGx8fEguc2VuZElWU1BsYXllclF1YWxpdHlDaGFuZ2VkKG4scyk7YnJlYWt9fSl9bGl2ZXN0cmVhbUxhdGVuY3koZSl7Y29uc3Qgbj1uZXcgRGF0ZTt0aGlzLm9uU2FmZUluaXRpYWxpemF0aW9uKCgpPT57dmFyIHM7KHM9dGhpcy5iYWNrZW5kKT09bnVsbHx8cy5zZW5kUGxheWVyTGl2ZUxhdGVuY3koZSxuKX0pfWV4cGVjdGVkVmlkZW9SZXNvbHV0aW9uKGUsbil7Y29uc3Qgcz1uZXcgRGF0ZTt0aGlzLm9uU2FmZUluaXRpYWxpemF0aW9uKCgpPT57dmFyIGk7KGk9dGhpcy5iYWNrZW5kKT09bnVsbHx8aS5leHBlY3RlZFZpZGVvUmVzb2x1dGlvbihlLG4scyl9KX1leHBlY3RlZFNjcmVlbnNoYXJlUmVzb2x1dGlvbihlLG4pe2NvbnN0IHM9bmV3IERhdGU7dGhpcy5vblNhZmVJbml0aWFsaXphdGlvbigoKT0+e3ZhciBpOyhpPXRoaXMuYmFja2VuZCk9PW51bGx8fGkuZXhwZWN0ZWRTY3JlZW5zaGFyZVJlc29sdXRpb24oZSxuLHMpfSl9fW5ldyBWcigpLnNldE1heExpc3RlbmVycygzMCk7ZnVuY3Rpb24ga3MoKXt0aGlzLl9fZGF0YV9fPVtdLHRoaXMuc2l6ZT0wfWZ1bmN0aW9uIEJyKHQscil7cmV0dXJuIHQ9PT1yfHx0IT09dCYmciE9PXJ9ZnVuY3Rpb24gZ3QodCxyKXtmb3IodmFyIGU9dC5sZW5ndGg7ZS0tOylpZihCcih0W2VdWzBdLHIpKXJldHVybiBlO3JldHVybi0xfXZhciBPcz1BcnJheS5wcm90b3R5cGUsTHM9T3Muc3BsaWNlO2Z1bmN0aW9uIERzKHQpe3ZhciByPXRoaXMuX19kYXRhX18sZT1ndChyLHQpO2lmKGU8MClyZXR1cm4hMTt2YXIgbj1yLmxlbmd0aC0xO3JldHVybiBlPT1uP3IucG9wKCk6THMuY2FsbChyLGUsMSksLS10aGlzLnNpemUsITB9ZnVuY3Rpb24gTnModCl7dmFyIHI9dGhpcy5fX2RhdGFfXyxlPWd0KHIsdCk7cmV0dXJuIGU8MD92b2lkIDA6cltlXVsxXX1mdW5jdGlvbiBGcyh0KXtyZXR1cm4gZ3QodGhpcy5fX2RhdGFfXyx0KT4tMX1mdW5jdGlvbiBWcyh0LHIpe3ZhciBlPXRoaXMuX19kYXRhX18sbj1ndChlLHQpO3JldHVybiBuPDA/KCsrdGhpcy5zaXplLGUucHVzaChbdCxyXSkpOmVbbl1bMV09cix0aGlzfWZ1bmN0aW9uIG5lKHQpe3ZhciByPS0xLGU9dD09bnVsbD8wOnQubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytyPGU7KXt2YXIgbj10W3JdO3RoaXMuc2V0KG5bMF0sblsxXSl9fW5lLnByb3RvdHlwZS5jbGVhcj1rcyxuZS5wcm90b3R5cGUuZGVsZXRlPURzLG5lLnByb3RvdHlwZS5nZXQ9TnMsbmUucHJvdG90eXBlLmhhcz1GcyxuZS5wcm90b3R5cGUuc2V0PVZzO2Z1bmN0aW9uIEJzKCl7dGhpcy5fX2RhdGFfXz1uZXcgbmUsdGhpcy5zaXplPTB9ZnVuY3Rpb24geHModCl7dmFyIHI9dGhpcy5fX2RhdGFfXyxlPXIuZGVsZXRlKHQpO3JldHVybiB0aGlzLnNpemU9ci5zaXplLGV9ZnVuY3Rpb24ganModCl7cmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KHQpfWZ1bmN0aW9uIFVzKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh0KX12YXIgSHM9dHlwZW9mIGdsb2JhbD09Im9iamVjdCImJmdsb2JhbCYmZ2xvYmFsLk9iamVjdD09PU9iamVjdCYmZ2xvYmFsLHhyPUhzLEtzPXR5cGVvZiBzZWxmPT0ib2JqZWN0IiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsJHM9eHJ8fEtzfHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpLFg9JHMsV3M9WC5TeW1ib2wseWU9V3MsanI9T2JqZWN0LnByb3RvdHlwZSx6cz1qci5oYXNPd25Qcm9wZXJ0eSxHcz1qci50b1N0cmluZyx3ZT15ZT95ZS50b1N0cmluZ1RhZzp2b2lkIDA7ZnVuY3Rpb24gWXModCl7dmFyIHI9enMuY2FsbCh0LHdlKSxlPXRbd2VdO3RyeXt0W3dlXT12b2lkIDA7dmFyIG49ITB9Y2F0Y2goaSl7fXZhciBzPUdzLmNhbGwodCk7cmV0dXJuIG4mJihyP3Rbd2VdPWU6ZGVsZXRlIHRbd2VdKSxzfXZhciBxcz1PYmplY3QucHJvdG90eXBlLFFzPXFzLnRvU3RyaW5nO2Z1bmN0aW9uIEpzKHQpe3JldHVybiBRcy5jYWxsKHQpfXZhciBYcz0iW29iamVjdCBOdWxsXSIsWnM9IltvYmplY3QgVW5kZWZpbmVkXSIsVXI9eWU/eWUudG9TdHJpbmdUYWc6dm9pZCAwO2Z1bmN0aW9uIEFlKHQpe3JldHVybiB0PT1udWxsP3Q9PT12b2lkIDA/WnM6WHM6VXImJlVyIGluIE9iamVjdCh0KT9Zcyh0KTpKcyh0KX1mdW5jdGlvbiBNZSh0KXt2YXIgcj10eXBlb2YgdDtyZXR1cm4gdCE9bnVsbCYmKHI9PSJvYmplY3QifHxyPT0iZnVuY3Rpb24iKX12YXIgZWk9IltvYmplY3QgQXN5bmNGdW5jdGlvbl0iLHRpPSJbb2JqZWN0IEZ1bmN0aW9uXSIscmk9IltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dIixuaT0iW29iamVjdCBQcm94eV0iO2Z1bmN0aW9uIEhyKHQpe2lmKCFNZSh0KSlyZXR1cm4hMTt2YXIgcj1BZSh0KTtyZXR1cm4gcj09dGl8fHI9PXJpfHxyPT1laXx8cj09bml9dmFyIHNpPVhbIl9fY29yZS1qc19zaGFyZWRfXyJdLE90PXNpLEtyPWZ1bmN0aW9uKCl7dmFyIHQ9L1teLl0rJC8uZXhlYyhPdCYmT3Qua2V5cyYmT3Qua2V5cy5JRV9QUk9UT3x8IiIpO3JldHVybiB0PyJTeW1ib2woc3JjKV8xLiIrdDoiIn0oKTtmdW5jdGlvbiBpaSh0KXtyZXR1cm4hIUtyJiZLciBpbiB0fXZhciBhaT1GdW5jdGlvbi5wcm90b3R5cGUsb2k9YWkudG9TdHJpbmc7ZnVuY3Rpb24gbGUodCl7aWYodCE9bnVsbCl7dHJ5e3JldHVybiBvaS5jYWxsKHQpfWNhdGNoKHIpe310cnl7cmV0dXJuIHQrIiJ9Y2F0Y2gocil7fX1yZXR1cm4iIn12YXIgY2k9L1tcXF4kLiorPygpW1xde318XS9nLGRpPS9eXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXSQvLGxpPUZ1bmN0aW9uLnByb3RvdHlwZSx1aT1PYmplY3QucHJvdG90eXBlLHBpPWxpLnRvU3RyaW5nLGhpPXVpLmhhc093blByb3BlcnR5LGZpPVJlZ0V4cCgiXiIrcGkuY2FsbChoaSkucmVwbGFjZShjaSwiXFwkJiIpLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFwoKXwgZm9yIC4rPyg/PVxcXF0pL2csIiQxLio/IikrIiQiKTtmdW5jdGlvbiBtaSh0KXtpZighTWUodCl8fGlpKHQpKXJldHVybiExO3ZhciByPUhyKHQpP2ZpOmRpO3JldHVybiByLnRlc3QobGUodCkpfWZ1bmN0aW9uIGdpKHQscil7cmV0dXJuIHQ9PW51bGw/dm9pZCAwOnRbcl19ZnVuY3Rpb24gdWUodCxyKXt2YXIgZT1naSh0LHIpO3JldHVybiBtaShlKT9lOnZvaWQgMH12YXIgU2k9dWUoWCwiTWFwIiksa2U9U2ksX2k9dWUoT2JqZWN0LCJjcmVhdGUiKSxPZT1faTtmdW5jdGlvbiB2aSgpe3RoaXMuX19kYXRhX189T2U/T2UobnVsbCk6e30sdGhpcy5zaXplPTB9ZnVuY3Rpb24gRWkodCl7dmFyIHI9dGhpcy5oYXModCkmJmRlbGV0ZSB0aGlzLl9fZGF0YV9fW3RdO3JldHVybiB0aGlzLnNpemUtPXI/MTowLHJ9dmFyIHlpPSJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fIixiaT1PYmplY3QucHJvdG90eXBlLFRpPWJpLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIFJpKHQpe3ZhciByPXRoaXMuX19kYXRhX187aWYoT2Upe3ZhciBlPXJbdF07cmV0dXJuIGU9PT15aT92b2lkIDA6ZX1yZXR1cm4gVGkuY2FsbChyLHQpP3JbdF06dm9pZCAwfXZhciBDaT1PYmplY3QucHJvdG90eXBlLFBpPUNpLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIElpKHQpe3ZhciByPXRoaXMuX19kYXRhX187cmV0dXJuIE9lP3JbdF0hPT12b2lkIDA6UGkuY2FsbChyLHQpfXZhciB3aT0iX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyI7ZnVuY3Rpb24gQWkodCxyKXt2YXIgZT10aGlzLl9fZGF0YV9fO3JldHVybiB0aGlzLnNpemUrPXRoaXMuaGFzKHQpPzA6MSxlW3RdPU9lJiZyPT09dm9pZCAwP3dpOnIsdGhpc31mdW5jdGlvbiBwZSh0KXt2YXIgcj0tMSxlPXQ9PW51bGw/MDp0Lmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrcjxlOyl7dmFyIG49dFtyXTt0aGlzLnNldChuWzBdLG5bMV0pfX1wZS5wcm90b3R5cGUuY2xlYXI9dmkscGUucHJvdG90eXBlLmRlbGV0ZT1FaSxwZS5wcm90b3R5cGUuZ2V0PVJpLHBlLnByb3RvdHlwZS5oYXM9SWkscGUucHJvdG90eXBlLnNldD1BaTtmdW5jdGlvbiBNaSgpe3RoaXMuc2l6ZT0wLHRoaXMuX19kYXRhX189e2hhc2g6bmV3IHBlLG1hcDpuZXcoa2V8fG5lKSxzdHJpbmc6bmV3IHBlfX1mdW5jdGlvbiBraSh0KXt2YXIgcj10eXBlb2YgdDtyZXR1cm4gcj09InN0cmluZyJ8fHI9PSJudW1iZXIifHxyPT0ic3ltYm9sInx8cj09ImJvb2xlYW4iP3QhPT0iX19wcm90b19fIjp0PT09bnVsbH1mdW5jdGlvbiBTdCh0LHIpe3ZhciBlPXQuX19kYXRhX187cmV0dXJuIGtpKHIpP2VbdHlwZW9mIHI9PSJzdHJpbmciPyJzdHJpbmciOiJoYXNoIl06ZS5tYXB9ZnVuY3Rpb24gT2kodCl7dmFyIHI9U3QodGhpcyx0KS5kZWxldGUodCk7cmV0dXJuIHRoaXMuc2l6ZS09cj8xOjAscn1mdW5jdGlvbiBMaSh0KXtyZXR1cm4gU3QodGhpcyx0KS5nZXQodCl9ZnVuY3Rpb24gRGkodCl7cmV0dXJuIFN0KHRoaXMsdCkuaGFzKHQpfWZ1bmN0aW9uIE5pKHQscil7dmFyIGU9U3QodGhpcyx0KSxuPWUuc2l6ZTtyZXR1cm4gZS5zZXQodCxyKSx0aGlzLnNpemUrPWUuc2l6ZT09bj8wOjEsdGhpc31mdW5jdGlvbiBiZSh0KXt2YXIgcj0tMSxlPXQ9PW51bGw/MDp0Lmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrcjxlOyl7dmFyIG49dFtyXTt0aGlzLnNldChuWzBdLG5bMV0pfX1iZS5wcm90b3R5cGUuY2xlYXI9TWksYmUucHJvdG90eXBlLmRlbGV0ZT1PaSxiZS5wcm90b3R5cGUuZ2V0PUxpLGJlLnByb3RvdHlwZS5oYXM9RGksYmUucHJvdG90eXBlLnNldD1OaTt2YXIgRmk9MjAwO2Z1bmN0aW9uIFZpKHQscil7dmFyIGU9dGhpcy5fX2RhdGFfXztpZihlIGluc3RhbmNlb2YgbmUpe3ZhciBuPWUuX19kYXRhX187aWYoIWtlfHxuLmxlbmd0aDxGaS0xKXJldHVybiBuLnB1c2goW3Qscl0pLHRoaXMuc2l6ZT0rK2Uuc2l6ZSx0aGlzO2U9dGhpcy5fX2RhdGFfXz1uZXcgYmUobil9cmV0dXJuIGUuc2V0KHQsciksdGhpcy5zaXplPWUuc2l6ZSx0aGlzfWZ1bmN0aW9uIFRlKHQpe3ZhciByPXRoaXMuX19kYXRhX189bmV3IG5lKHQpO3RoaXMuc2l6ZT1yLnNpemV9VGUucHJvdG90eXBlLmNsZWFyPUJzLFRlLnByb3RvdHlwZS5kZWxldGU9eHMsVGUucHJvdG90eXBlLmdldD1qcyxUZS5wcm90b3R5cGUuaGFzPVVzLFRlLnByb3RvdHlwZS5zZXQ9Vmk7ZnVuY3Rpb24gQmkodCxyKXtmb3IodmFyIGU9LTEsbj10PT1udWxsPzA6dC5sZW5ndGg7KytlPG4mJnIodFtlXSxlLHQpIT09ITE7KTtyZXR1cm4gdH12YXIgeGk9ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9dWUoT2JqZWN0LCJkZWZpbmVQcm9wZXJ0eSIpO3JldHVybiB0KHt9LCIiLHt9KSx0fWNhdGNoKHIpe319KCksJHI9eGk7ZnVuY3Rpb24gV3IodCxyLGUpe3I9PSJfX3Byb3RvX18iJiYkcj8kcih0LHIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOmUsd3JpdGFibGU6ITB9KTp0W3JdPWV9dmFyIGppPU9iamVjdC5wcm90b3R5cGUsVWk9amkuaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24genIodCxyLGUpe3ZhciBuPXRbcl07KCEoVWkuY2FsbCh0LHIpJiZCcihuLGUpKXx8ZT09PXZvaWQgMCYmIShyIGluIHQpKSYmV3IodCxyLGUpfWZ1bmN0aW9uIF90KHQscixlLG4pe3ZhciBzPSFlO2V8fChlPXt9KTtmb3IodmFyIGk9LTEsYT1yLmxlbmd0aDsrK2k8YTspe3ZhciBkPXJbaV0sbz1uP24oZVtkXSx0W2RdLGQsZSx0KTp2b2lkIDA7bz09PXZvaWQgMCYmKG89dFtkXSkscz9XcihlLGQsbyk6enIoZSxkLG8pfXJldHVybiBlfWZ1bmN0aW9uIEhpKHQscil7Zm9yKHZhciBlPS0xLG49QXJyYXkodCk7KytlPHQ7KW5bZV09cihlKTtyZXR1cm4gbn1mdW5jdGlvbiBMZSh0KXtyZXR1cm4gdCE9bnVsbCYmdHlwZW9mIHQ9PSJvYmplY3QifXZhciBLaT0iW29iamVjdCBBcmd1bWVudHNdIjtmdW5jdGlvbiBHcih0KXtyZXR1cm4gTGUodCkmJkFlKHQpPT1LaX12YXIgWXI9T2JqZWN0LnByb3RvdHlwZSwkaT1Zci5oYXNPd25Qcm9wZXJ0eSxXaT1Zci5wcm9wZXJ0eUlzRW51bWVyYWJsZSx6aT1HcihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpP0dyOmZ1bmN0aW9uKHQpe3JldHVybiBMZSh0KSYmJGkuY2FsbCh0LCJjYWxsZWUiKSYmIVdpLmNhbGwodCwiY2FsbGVlIil9LHFyPXppLEdpPUFycmF5LmlzQXJyYXksdnQ9R2k7ZnVuY3Rpb24gWWkoKXtyZXR1cm4hMX12YXIgUXI9dHlwZW9mIGV4cG9ydHM9PSJvYmplY3QiJiZleHBvcnRzJiYhZXhwb3J0cy5ub2RlVHlwZSYmZXhwb3J0cyxKcj1RciYmdHlwZW9mIG1vZHVsZT09Im9iamVjdCImJm1vZHVsZSYmIW1vZHVsZS5ub2RlVHlwZSYmbW9kdWxlLHFpPUpyJiZKci5leHBvcnRzPT09UXIsWHI9cWk/WC5CdWZmZXI6dm9pZCAwLFFpPVhyP1hyLmlzQnVmZmVyOnZvaWQgMCxKaT1RaXx8WWksTHQ9SmksWGk9OTAwNzE5OTI1NDc0MDk5MSxaaT0vXig/OjB8WzEtOV1cZCopJC87ZnVuY3Rpb24gZWEodCxyKXt2YXIgZT10eXBlb2YgdDtyZXR1cm4gcj1yPT1udWxsP1hpOnIsISFyJiYoZT09Im51bWJlciJ8fGUhPSJzeW1ib2wiJiZaaS50ZXN0KHQpKSYmdD4tMSYmdCUxPT0wJiZ0PHJ9dmFyIHRhPTkwMDcxOTkyNTQ3NDA5OTE7ZnVuY3Rpb24gWnIodCl7cmV0dXJuIHR5cGVvZiB0PT0ibnVtYmVyIiYmdD4tMSYmdCUxPT0wJiZ0PD10YX12YXIgcmE9IltvYmplY3QgQXJndW1lbnRzXSIsbmE9IltvYmplY3QgQXJyYXldIixzYT0iW29iamVjdCBCb29sZWFuXSIsaWE9IltvYmplY3QgRGF0ZV0iLGFhPSJbb2JqZWN0IEVycm9yXSIsb2E9IltvYmplY3QgRnVuY3Rpb25dIixjYT0iW29iamVjdCBNYXBdIixkYT0iW29iamVjdCBOdW1iZXJdIixsYT0iW29iamVjdCBPYmplY3RdIix1YT0iW29iamVjdCBSZWdFeHBdIixwYT0iW29iamVjdCBTZXRdIixoYT0iW29iamVjdCBTdHJpbmddIixmYT0iW29iamVjdCBXZWFrTWFwXSIsbWE9IltvYmplY3QgQXJyYXlCdWZmZXJdIixnYT0iW29iamVjdCBEYXRhVmlld10iLFNhPSJbb2JqZWN0IEZsb2F0MzJBcnJheV0iLF9hPSJbb2JqZWN0IEZsb2F0NjRBcnJheV0iLHZhPSJbb2JqZWN0IEludDhBcnJheV0iLEVhPSJbb2JqZWN0IEludDE2QXJyYXldIix5YT0iW29iamVjdCBJbnQzMkFycmF5XSIsYmE9IltvYmplY3QgVWludDhBcnJheV0iLFRhPSJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSIsUmE9IltvYmplY3QgVWludDE2QXJyYXldIixDYT0iW29iamVjdCBVaW50MzJBcnJheV0iLEI9e307QltTYV09QltfYV09Qlt2YV09QltFYV09Qlt5YV09QltiYV09QltUYV09QltSYV09QltDYV09ITAsQltyYV09QltuYV09QlttYV09QltzYV09QltnYV09QltpYV09QlthYV09QltvYV09QltjYV09QltkYV09QltsYV09Qlt1YV09QltwYV09QltoYV09QltmYV09ITE7ZnVuY3Rpb24gUGEodCl7cmV0dXJuIExlKHQpJiZacih0Lmxlbmd0aCkmJiEhQltBZSh0KV19ZnVuY3Rpb24gRHQodCl7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiB0KHIpfX12YXIgZW49dHlwZW9mIGV4cG9ydHM9PSJvYmplY3QiJiZleHBvcnRzJiYhZXhwb3J0cy5ub2RlVHlwZSYmZXhwb3J0cyxEZT1lbiYmdHlwZW9mIG1vZHVsZT09Im9iamVjdCImJm1vZHVsZSYmIW1vZHVsZS5ub2RlVHlwZSYmbW9kdWxlLElhPURlJiZEZS5leHBvcnRzPT09ZW4sTnQ9SWEmJnhyLnByb2Nlc3Msd2E9ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9RGUmJkRlLnJlcXVpcmUmJkRlLnJlcXVpcmUoInV0aWwiKS50eXBlcztyZXR1cm4gdHx8TnQmJk50LmJpbmRpbmcmJk50LmJpbmRpbmcoInV0aWwiKX1jYXRjaChyKXt9fSgpLFJlPXdhLHRuPVJlJiZSZS5pc1R5cGVkQXJyYXksQWE9dG4/RHQodG4pOlBhLHJuPUFhLE1hPU9iamVjdC5wcm90b3R5cGUsa2E9TWEuaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gbm4odCxyKXt2YXIgZT12dCh0KSxuPSFlJiZxcih0KSxzPSFlJiYhbiYmTHQodCksaT0hZSYmIW4mJiFzJiZybih0KSxhPWV8fG58fHN8fGksZD1hP0hpKHQubGVuZ3RoLFN0cmluZyk6W10sbz1kLmxlbmd0aDtmb3IodmFyIGwgaW4gdCkocnx8a2EuY2FsbCh0LGwpKSYmIShhJiYobD09Imxlbmd0aCJ8fHMmJihsPT0ib2Zmc2V0Inx8bD09InBhcmVudCIpfHxpJiYobD09ImJ1ZmZlciJ8fGw9PSJieXRlTGVuZ3RoInx8bD09ImJ5dGVPZmZzZXQiKXx8ZWEobCxvKSkpJiZkLnB1c2gobCk7cmV0dXJuIGR9dmFyIE9hPU9iamVjdC5wcm90b3R5cGU7ZnVuY3Rpb24gRXQodCl7dmFyIHI9dCYmdC5jb25zdHJ1Y3RvcixlPXR5cGVvZiByPT0iZnVuY3Rpb24iJiZyLnByb3RvdHlwZXx8T2E7cmV0dXJuIHQ9PT1lfWZ1bmN0aW9uIHNuKHQscil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0KHIoZSkpfX12YXIgTGE9c24oT2JqZWN0LmtleXMsT2JqZWN0KSxEYT1MYSxOYT1PYmplY3QucHJvdG90eXBlLEZhPU5hLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIGFuKHQpe2lmKCFFdCh0KSlyZXR1cm4gRGEodCk7dmFyIHI9W107Zm9yKHZhciBlIGluIE9iamVjdCh0KSlGYS5jYWxsKHQsZSkmJmUhPSJjb25zdHJ1Y3RvciImJnIucHVzaChlKTtyZXR1cm4gcn1mdW5jdGlvbiBGdCh0KXtyZXR1cm4gdCE9bnVsbCYmWnIodC5sZW5ndGgpJiYhSHIodCl9ZnVuY3Rpb24gVnQodCl7cmV0dXJuIEZ0KHQpP25uKHQpOmFuKHQpfWZ1bmN0aW9uIFZhKHQscil7cmV0dXJuIHQmJl90KHIsVnQociksdCl9ZnVuY3Rpb24gQmEodCl7dmFyIHI9W107aWYodCE9bnVsbClmb3IodmFyIGUgaW4gT2JqZWN0KHQpKXIucHVzaChlKTtyZXR1cm4gcn12YXIgeGE9T2JqZWN0LnByb3RvdHlwZSxqYT14YS5oYXNPd25Qcm9wZXJ0eTtmdW5jdGlvbiBVYSh0KXtpZighTWUodCkpcmV0dXJuIEJhKHQpO3ZhciByPUV0KHQpLGU9W107Zm9yKHZhciBuIGluIHQpbj09ImNvbnN0cnVjdG9yIiYmKHJ8fCFqYS5jYWxsKHQsbikpfHxlLnB1c2gobik7cmV0dXJuIGV9ZnVuY3Rpb24gQnQodCl7cmV0dXJuIEZ0KHQpP25uKHQsITApOlVhKHQpfWZ1bmN0aW9uIEhhKHQscil7cmV0dXJuIHQmJl90KHIsQnQociksdCl9dmFyIG9uPXR5cGVvZiBleHBvcnRzPT0ib2JqZWN0IiYmZXhwb3J0cyYmIWV4cG9ydHMubm9kZVR5cGUmJmV4cG9ydHMsY249b24mJnR5cGVvZiBtb2R1bGU9PSJvYmplY3QiJiZtb2R1bGUmJiFtb2R1bGUubm9kZVR5cGUmJm1vZHVsZSxLYT1jbiYmY24uZXhwb3J0cz09PW9uLGRuPUthP1guQnVmZmVyOnZvaWQgMCxsbj1kbj9kbi5hbGxvY1Vuc2FmZTp2b2lkIDA7ZnVuY3Rpb24gJGEodCxyKXtpZihyKXJldHVybiB0LnNsaWNlKCk7dmFyIGU9dC5sZW5ndGgsbj1sbj9sbihlKTpuZXcgdC5jb25zdHJ1Y3RvcihlKTtyZXR1cm4gdC5jb3B5KG4pLG59ZnVuY3Rpb24gV2EodCxyKXt2YXIgZT0tMSxuPXQubGVuZ3RoO2ZvcihyfHwocj1BcnJheShuKSk7KytlPG47KXJbZV09dFtlXTtyZXR1cm4gcn1mdW5jdGlvbiB6YSh0LHIpe2Zvcih2YXIgZT0tMSxuPXQ9PW51bGw/MDp0Lmxlbmd0aCxzPTAsaT1bXTsrK2U8bjspe3ZhciBhPXRbZV07cihhLGUsdCkmJihpW3MrK109YSl9cmV0dXJuIGl9ZnVuY3Rpb24gdW4oKXtyZXR1cm5bXX12YXIgR2E9T2JqZWN0LnByb3RvdHlwZSxZYT1HYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxwbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLHFhPXBuP2Z1bmN0aW9uKHQpe3JldHVybiB0PT1udWxsP1tdOih0PU9iamVjdCh0KSx6YShwbih0KSxmdW5jdGlvbihyKXtyZXR1cm4gWWEuY2FsbCh0LHIpfSkpfTp1bix4dD1xYTtmdW5jdGlvbiBRYSh0LHIpe3JldHVybiBfdCh0LHh0KHQpLHIpfWZ1bmN0aW9uIGhuKHQscil7Zm9yKHZhciBlPS0xLG49ci5sZW5ndGgscz10Lmxlbmd0aDsrK2U8bjspdFtzK2VdPXJbZV07cmV0dXJuIHR9dmFyIEphPXNuKE9iamVjdC5nZXRQcm90b3R5cGVPZixPYmplY3QpLGZuPUphLFhhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsWmE9WGE/ZnVuY3Rpb24odCl7Zm9yKHZhciByPVtdO3Q7KWhuKHIseHQodCkpLHQ9Zm4odCk7cmV0dXJuIHJ9OnVuLG1uPVphO2Z1bmN0aW9uIGVvKHQscil7cmV0dXJuIF90KHQsbW4odCkscil9ZnVuY3Rpb24gZ24odCxyLGUpe3ZhciBuPXIodCk7cmV0dXJuIHZ0KHQpP246aG4obixlKHQpKX1mdW5jdGlvbiB0byh0KXtyZXR1cm4gZ24odCxWdCx4dCl9ZnVuY3Rpb24gcm8odCl7cmV0dXJuIGduKHQsQnQsbW4pfXZhciBubz11ZShYLCJEYXRhVmlldyIpLGp0PW5vLHNvPXVlKFgsIlByb21pc2UiKSxVdD1zbyxpbz11ZShYLCJTZXQiKSxIdD1pbyxhbz11ZShYLCJXZWFrTWFwIiksS3Q9YW8sU249IltvYmplY3QgTWFwXSIsb289IltvYmplY3QgT2JqZWN0XSIsX249IltvYmplY3QgUHJvbWlzZV0iLHZuPSJbb2JqZWN0IFNldF0iLEVuPSJbb2JqZWN0IFdlYWtNYXBdIix5bj0iW29iamVjdCBEYXRhVmlld10iLGNvPWxlKGp0KSxsbz1sZShrZSksdW89bGUoVXQpLHBvPWxlKEh0KSxobz1sZShLdCksaGU9QWU7KGp0JiZoZShuZXcganQobmV3IEFycmF5QnVmZmVyKDEpKSkhPXlufHxrZSYmaGUobmV3IGtlKSE9U258fFV0JiZoZShVdC5yZXNvbHZlKCkpIT1fbnx8SHQmJmhlKG5ldyBIdCkhPXZufHxLdCYmaGUobmV3IEt0KSE9RW4pJiYoaGU9ZnVuY3Rpb24odCl7dmFyIHI9QWUodCksZT1yPT1vbz90LmNvbnN0cnVjdG9yOnZvaWQgMCxuPWU/bGUoZSk6IiI7aWYobilzd2l0Y2gobil7Y2FzZSBjbzpyZXR1cm4geW47Y2FzZSBsbzpyZXR1cm4gU247Y2FzZSB1bzpyZXR1cm4gX247Y2FzZSBwbzpyZXR1cm4gdm47Y2FzZSBobzpyZXR1cm4gRW59cmV0dXJuIHJ9KTt2YXIgeXQ9aGUsZm89T2JqZWN0LnByb3RvdHlwZSxtbz1mby5oYXNPd25Qcm9wZXJ0eTtmdW5jdGlvbiBnbyh0KXt2YXIgcj10Lmxlbmd0aCxlPW5ldyB0LmNvbnN0cnVjdG9yKHIpO3JldHVybiByJiZ0eXBlb2YgdFswXT09InN0cmluZyImJm1vLmNhbGwodCwiaW5kZXgiKSYmKGUuaW5kZXg9dC5pbmRleCxlLmlucHV0PXQuaW5wdXQpLGV9dmFyIFNvPVguVWludDhBcnJheSxibj1TbztmdW5jdGlvbiAkdCh0KXt2YXIgcj1uZXcgdC5jb25zdHJ1Y3Rvcih0LmJ5dGVMZW5ndGgpO3JldHVybiBuZXcgYm4ocikuc2V0KG5ldyBibih0KSkscn1mdW5jdGlvbiBfbyh0LHIpe3ZhciBlPXI/JHQodC5idWZmZXIpOnQuYnVmZmVyO3JldHVybiBuZXcgdC5jb25zdHJ1Y3RvcihlLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpfXZhciB2bz0vXHcqJC87ZnVuY3Rpb24gRW8odCl7dmFyIHI9bmV3IHQuY29uc3RydWN0b3IodC5zb3VyY2Usdm8uZXhlYyh0KSk7cmV0dXJuIHIubGFzdEluZGV4PXQubGFzdEluZGV4LHJ9dmFyIFRuPXllP3llLnByb3RvdHlwZTp2b2lkIDAsUm49VG4/VG4udmFsdWVPZjp2b2lkIDA7ZnVuY3Rpb24geW8odCl7cmV0dXJuIFJuP09iamVjdChSbi5jYWxsKHQpKTp7fX1mdW5jdGlvbiBibyh0LHIpe3ZhciBlPXI/JHQodC5idWZmZXIpOnQuYnVmZmVyO3JldHVybiBuZXcgdC5jb25zdHJ1Y3RvcihlLHQuYnl0ZU9mZnNldCx0Lmxlbmd0aCl9dmFyIFRvPSJbb2JqZWN0IEJvb2xlYW5dIixSbz0iW29iamVjdCBEYXRlXSIsQ289IltvYmplY3QgTWFwXSIsUG89IltvYmplY3QgTnVtYmVyXSIsSW89IltvYmplY3QgUmVnRXhwXSIsd289IltvYmplY3QgU2V0XSIsQW89IltvYmplY3QgU3RyaW5nXSIsTW89IltvYmplY3QgU3ltYm9sXSIsa289IltvYmplY3QgQXJyYXlCdWZmZXJdIixPbz0iW29iamVjdCBEYXRhVmlld10iLExvPSJbb2JqZWN0IEZsb2F0MzJBcnJheV0iLERvPSJbb2JqZWN0IEZsb2F0NjRBcnJheV0iLE5vPSJbb2JqZWN0IEludDhBcnJheV0iLEZvPSJbb2JqZWN0IEludDE2QXJyYXldIixWbz0iW29iamVjdCBJbnQzMkFycmF5XSIsQm89IltvYmplY3QgVWludDhBcnJheV0iLHhvPSJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSIsam89IltvYmplY3QgVWludDE2QXJyYXldIixVbz0iW29iamVjdCBVaW50MzJBcnJheV0iO2Z1bmN0aW9uIEhvKHQscixlKXt2YXIgbj10LmNvbnN0cnVjdG9yO3N3aXRjaChyKXtjYXNlIGtvOnJldHVybiAkdCh0KTtjYXNlIFRvOmNhc2UgUm86cmV0dXJuIG5ldyBuKCt0KTtjYXNlIE9vOnJldHVybiBfbyh0LGUpO2Nhc2UgTG86Y2FzZSBEbzpjYXNlIE5vOmNhc2UgRm86Y2FzZSBWbzpjYXNlIEJvOmNhc2UgeG86Y2FzZSBqbzpjYXNlIFVvOnJldHVybiBibyh0LGUpO2Nhc2UgQ286cmV0dXJuIG5ldyBuO2Nhc2UgUG86Y2FzZSBBbzpyZXR1cm4gbmV3IG4odCk7Y2FzZSBJbzpyZXR1cm4gRW8odCk7Y2FzZSB3bzpyZXR1cm4gbmV3IG47Y2FzZSBNbzpyZXR1cm4geW8odCl9fXZhciBDbj1PYmplY3QuY3JlYXRlLEtvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gZnVuY3Rpb24ocil7aWYoIU1lKHIpKXJldHVybnt9O2lmKENuKXJldHVybiBDbihyKTt0LnByb3RvdHlwZT1yO3ZhciBlPW5ldyB0O3JldHVybiB0LnByb3RvdHlwZT12b2lkIDAsZX19KCksJG89S287ZnVuY3Rpb24gV28odCl7cmV0dXJuIHR5cGVvZiB0LmNvbnN0cnVjdG9yPT0iZnVuY3Rpb24iJiYhRXQodCk/JG8oZm4odCkpOnt9fXZhciB6bz0iW29iamVjdCBNYXBdIjtmdW5jdGlvbiBHbyh0KXtyZXR1cm4gTGUodCkmJnl0KHQpPT16b312YXIgUG49UmUmJlJlLmlzTWFwLFlvPVBuP0R0KFBuKTpHbyxxbz1ZbyxRbz0iW29iamVjdCBTZXRdIjtmdW5jdGlvbiBKbyh0KXtyZXR1cm4gTGUodCkmJnl0KHQpPT1Rb312YXIgSW49UmUmJlJlLmlzU2V0LFhvPUluP0R0KEluKTpKbyxabz1YbyxlYz0xLHRjPTIscmM9NCx3bj0iW29iamVjdCBBcmd1bWVudHNdIixuYz0iW29iamVjdCBBcnJheV0iLHNjPSJbb2JqZWN0IEJvb2xlYW5dIixpYz0iW29iamVjdCBEYXRlXSIsYWM9IltvYmplY3QgRXJyb3JdIixBbj0iW29iamVjdCBGdW5jdGlvbl0iLG9jPSJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSIsY2M9IltvYmplY3QgTWFwXSIsZGM9IltvYmplY3QgTnVtYmVyXSIsTW49IltvYmplY3QgT2JqZWN0XSIsbGM9IltvYmplY3QgUmVnRXhwXSIsdWM9IltvYmplY3QgU2V0XSIscGM9IltvYmplY3QgU3RyaW5nXSIsaGM9IltvYmplY3QgU3ltYm9sXSIsZmM9IltvYmplY3QgV2Vha01hcF0iLG1jPSJbb2JqZWN0IEFycmF5QnVmZmVyXSIsZ2M9IltvYmplY3QgRGF0YVZpZXddIixTYz0iW29iamVjdCBGbG9hdDMyQXJyYXldIixfYz0iW29iamVjdCBGbG9hdDY0QXJyYXldIix2Yz0iW29iamVjdCBJbnQ4QXJyYXldIixFYz0iW29iamVjdCBJbnQxNkFycmF5XSIseWM9IltvYmplY3QgSW50MzJBcnJheV0iLGJjPSJbb2JqZWN0IFVpbnQ4QXJyYXldIixUYz0iW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iLFJjPSJbb2JqZWN0IFVpbnQxNkFycmF5XSIsQ2M9IltvYmplY3QgVWludDMyQXJyYXldIixGPXt9O0Zbd25dPUZbbmNdPUZbbWNdPUZbZ2NdPUZbc2NdPUZbaWNdPUZbU2NdPUZbX2NdPUZbdmNdPUZbRWNdPUZbeWNdPUZbY2NdPUZbZGNdPUZbTW5dPUZbbGNdPUZbdWNdPUZbcGNdPUZbaGNdPUZbYmNdPUZbVGNdPUZbUmNdPUZbQ2NdPSEwLEZbYWNdPUZbQW5dPUZbZmNdPSExO2Z1bmN0aW9uIGJ0KHQscixlLG4scyxpKXt2YXIgYSxkPXImZWMsbz1yJnRjLGw9ciZyYztpZihlJiYoYT1zP2UodCxuLHMsaSk6ZSh0KSksYSE9PXZvaWQgMClyZXR1cm4gYTtpZighTWUodCkpcmV0dXJuIHQ7dmFyIG09dnQodCk7aWYobSl7aWYoYT1nbyh0KSwhZClyZXR1cm4gV2EodCxhKX1lbHNle3ZhciBfPXl0KHQpLHk9Xz09QW58fF89PW9jO2lmKEx0KHQpKXJldHVybiAkYSh0LGQpO2lmKF89PU1ufHxfPT13bnx8eSYmIXMpe2lmKGE9b3x8eT97fTpXbyh0KSwhZClyZXR1cm4gbz9lbyh0LEhhKGEsdCkpOlFhKHQsVmEoYSx0KSl9ZWxzZXtpZighRltfXSlyZXR1cm4gcz90Ont9O2E9SG8odCxfLGQpfX1pfHwoaT1uZXcgVGUpO3ZhciB3PWkuZ2V0KHQpO2lmKHcpcmV0dXJuIHc7aS5zZXQodCxhKSxabyh0KT90LmZvckVhY2goZnVuY3Rpb24oVil7YS5hZGQoYnQoVixyLGUsVix0LGkpKX0pOnFvKHQpJiZ0LmZvckVhY2goZnVuY3Rpb24oVixLKXthLnNldChLLGJ0KFYscixlLEssdCxpKSl9KTt2YXIgeD1sP28/cm86dG86bz9CdDpWdCxIPW0/dm9pZCAwOngodCk7cmV0dXJuIEJpKEh8fHQsZnVuY3Rpb24oVixLKXtIJiYoSz1WLFY9dFtLXSksenIoYSxLLGJ0KFYscixlLEssdCxpKSl9KSxhfXZhciBQYz0xLEljPTQ7ZnVuY3Rpb24gd2ModCl7cmV0dXJuIGJ0KHQsUGN8SWMpfXZhciBBYz1PYmplY3QuZGVmaW5lUHJvcGVydHksTWM9KHQscik9Pntmb3IodmFyIGUgaW4gcilBYyh0LGUse2dldDpyW2VdLGVudW1lcmFibGU6ITB9KX0sa2M9e307TWMoa2Mse3Blcm1pc3Npb25zOigpPT5PYyx0aGVtZTooKT0+TGN9KTt2YXIgT2M9e3ZpZXdfdHlwZToiR1JPVVBfQ0FMTCIsYWNjZXB0X3dhaXRpbmdfcmVxdWVzdHM6ITEsYWNjZXB0X3ByZXNlbnRfcmVxdWVzdHM6ITEscmVxdWVzdF9wcm9kdWNlOiExLGNhbl9hbGxvd19wYXJ0aWNpcGFudF9hdWRpbzohMSxjYW5fYWxsb3dfcGFydGljaXBhbnRfc2NyZWVuc2hhcmluZzohMSxjYW5fYWxsb3dfcGFydGljaXBhbnRfdmlkZW86ITEsY2FuX3Nwb3RsaWdodDohMSxyZXF1ZXN0X2tpY2tfcGFydGljaXBhbnQ6ITEsa2lja19wYXJ0aWNpcGFudDohMSxwaW5fcGFydGljaXBhbnQ6ITEsY2FuX2VkaXRfZGlzcGxheV9uYW1lOiExLGNhbl9yZWNvcmQ6ITEsY2FuX2xpdmVzdHJlYW06ITEsY2FuX3ByZXNlbnQ6ITAsd2FpdGluZ19yb29tX3R5cGU6IlNLSVBfT05fQUNDRVBUIixyZWNvcmRlcl90eXBlOiJOT05FIixwbHVnaW5zOntjYW5fY2xvc2U6ITAsY2FuX3N0YXJ0OiEwfSxwb2xsczp7Y2FuX2NyZWF0ZTohMCxjYW5fdm90ZTohMCxjYW5fdmlldzohMH0scHJvZHVjZTp7dmlkZW86e2FsbG93OiEwLHF1YWxpdHk6InZnYSIsZnJhbWVfcmF0ZToyNH0sYXVkaW86ITAsc2NyZWVuc2hhcmU6e2FsbG93OiEwLHF1YWxpdHk6ImhkIixmcmFtZV9yYXRlOjV9fSxjaGF0OntwdWJsaWM6e2Nhbl9zZW5kOiEwLHRleHQ6ITAsZmlsZXM6ITB9LHByaXZhdGU6e2Nhbl9zZW5kOiExLGNhbl9yZWNlaXZlOiExLHRleHQ6ITEsZmlsZXM6ITF9fSxjb25uZWN0ZWRfbWVldGluZ3M6e2Nhbl9hbHRlcl9jb25uZWN0ZWRfbWVldGluZ3M6ITEsY2FuX3N3aXRjaF9jb25uZWN0ZWRfbWVldGluZ3M6ITEsY2FuX3N3aXRjaF90b19wYXJlbnRfbWVldGluZzohMX0scmVhY3Rpb25zOiExLGhpZGRlbl9wYXJ0aWNpcGFudDohMSxpc19yZWNvcmRlcjohMSxzaG93X3BhcnRpY2lwYW50X2xpc3Q6ITAsY2FuX2NoYW5nZV9wYXJ0aWNpcGFudF9yb2xlOiExLGNhbl9jaGFuZ2VfdGhlbWU6ITEsbWF4X3NjcmVlbnNoYXJlX2NvdW50OjF9LExjPXtzZXR1cF9zY3JlZW46e2lzX2VuYWJsZWQ6ITB9LGFsb25lX2hlcmU6e2lzX2VuYWJsZWQ6ITB9LHdhaXRpbmdfcm9vbTp7aXNfZW5hYmxlZDohMSxlbmFibGVfcHJldmlldzohMH0sY29udHJvbF9iYXI6e2lzX2VuYWJsZWQ6ITAsZWxlbWVudHM6e3BsdWdpbnM6ITAsc2NyZWVuc2hhcmU6ITAsaW52aXRlOiEwLHBhcnRpY2lwYW50czohMCxjaGF0OiEwLHJlYWN0aW9uczohMSxwb2xsczohMCxmdWxsc2NyZWVuOiEwLGxheW91dDohMH19LGhlYWRlcjp7aXNfZW5hYmxlZDohMCxlbGVtZW50czp7dGltZXI6ITAsdGl0bGU6ITAscGFydGljaXBhbnRfY291bnQ6ITAsY2hhbmdlX2xheW91dDohMH19LHBpcF9tb2RlOiEwLGF1dG9fdHVuZTohMCxncmlkOnttdWx0aTp7bWF4VmlkZW9Db3VudDo2LHZpZGVvRml0OiJjb3ZlciJ9LHNpbmdsZTp7bWF4VmlkZW9Db3VudDo2LHZpZGVvRml0OiJjb3ZlciJ9LGRlZmF1bHRWaWV3OiJtdWx0aSJ9LGNvbnRyb2xzOntwaXBfdG9nZ2xlOiExfX0sa249ImhYZ1U4V2M4cHd1R05xOW1zNXE5SGgiO3R5cGVvZiBwcm9jZXNzIT0idW5kZWZpbmVkIiYmKHRzPXByb2Nlc3M9PW51bGw/dm9pZCAwOnByb2Nlc3MuZW52KSE9bnVsbCYmdHMuRkxBR1NNSVRIX0VOVklST05NRU5UX0tFWSYmKGtuPXByb2Nlc3MuZW52LkZMQUdTTUlUSF9FTlZJUk9OTUVOVF9LRVkpO2Z1bmN0aW9uIERjKHQ9W10pe2NvbnN0IHI9e307cmV0dXJuIHQuZm9yRWFjaChlPT57cltlLmZlYXR1cmUubmFtZV09e2VuYWJsZWQ6ZS5lbmFibGVkLHZhbHVlOmUuZmVhdHVyZV9zdGF0ZV92YWx1ZX19KSxyfXZhciBOYz1jbGFzc3tjb25zdHJ1Y3Rvcih0PWtuKXtwKHRoaXMsImZsYWdzIix7fSk7cCh0aGlzLCJlbnZpcm9ubWVudEtleSIsbnVsbCk7dGhpcy5lbnZpcm9ubWVudEtleT10fWlkZW50aWZ5QW5kRmV0Y2hGbGFnc1dpdGhSZXRyeShkKXtyZXR1cm4gSSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooe3ByaW1hcnlFbmRwb2ludDp0LHNlY29uZGFyeUVuZHBvaW50OnIsZm9yY2VFdmFsdWF0ZTplLHRpbWVvdXQ6bix1bmlxdWVJZGVudGlmaWVyOnMsdHJhaXRzT2JqOmksbG9nZ2VyOmF9KXtjb25zdCBvPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaSkpLGw9T2JqZWN0LmVudHJpZXMobykubWFwKF89Pih7dHJhaXRfa2V5Ol9bMF0sdHJhaXRfdmFsdWU6X1sxXX0pKSxtPVt0LHIscl07Zm9yKGNvbnN0IF8gb2YgbSl0cnl7Y29uc3QgeT1uZXcgQWJvcnRDb250cm9sbGVyLHc9c2V0VGltZW91dCgoKT0+eS5hYm9ydCgpLG4pLHg9Il8iKyhNYXRoLnJhbmRvbSgpKzEpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiksSD15aWVsZCBmZXRjaChgaHR0cHM6Ly8ke199L2FwaS92MS9pZGVudGl0aWVzL2Ase21ldGhvZDoiUE9TVCIsaGVhZGVyczp7IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24iLCJYLUVudmlyb25tZW50LUtleSI6dGhpcy5lbnZpcm9ubWVudEtleX0sYm9keTpKU09OLnN0cmluZ2lmeSh7aWRlbnRpZmllcjpzKyhlP3g6IiIpLHRyYWl0czpsfSksc2lnbmFsOnkuc2lnbmFsfSk7aWYoY2xlYXJUaW1lb3V0KHcpLCFILm9rKXRocm93IG5ldyBFcnJvcihgUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgJHtILnN0YXR1c31gKTtjb25zdCBWPXlpZWxkIEguanNvbigpO3JldHVybiBEYyhWLmZsYWdzfHxbXSl9Y2F0Y2goeSl7YS5lcnJvcigiRmxhZ3NtaXRoIGlkZW50aWZ5IGZhaWxlZCEhIix7ZXJyb3I6eSx1cmw6X30pfXJldHVybnt9fSl9aWRlbnRpZnkoYSl7cmV0dXJuIEkodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKHQscj17fSxlPSExLG49NWUzLHM9ImVkZ2UuYXBpLmZsYWdzbWl0aC5jb20iLGk9Y29uc29sZSl7cmV0dXJuIHRoaXMuZmxhZ3M9eWllbGQgdGhpcy5pZGVudGlmeUFuZEZldGNoRmxhZ3NXaXRoUmV0cnkoe3RyYWl0c09iajpyLHVuaXF1ZUlkZW50aWZpZXI6dCxmb3JjZUV2YWx1YXRlOmUsdGltZW91dDpuLHByaW1hcnlFbmRwb2ludDpzLHNlY29uZGFyeUVuZHBvaW50OiJlZGdlLmFwaS5mbGFnc21pdGguY29tIixsb2dnZXI6aX0pLHRoaXMuZmxhZ3N9KX1nZXRWYWx1ZSh0KXtyZXR1cm4gdGhpcy5mbGFncyYmdGhpcy5mbGFnc1t0XSYmdGhpcy5mbGFnc1t0XS52YWx1ZX1oYXNGZWF0dXJlKHQpe3JldHVybiB0aGlzLmZsYWdzJiZ0aGlzLmZsYWdzW3RdJiZ0aGlzLmZsYWdzW3RdLmVuYWJsZWR9Z2V0QWxsRmxhZ3MoKXtyZXR1cm4gdGhpcy5mbGFnc319O2Z1bmN0aW9uIEZjKHQpe3JldHVybiBuZXcgTmModCl9dmFyIE9uPVstMiwtMSwwLDEsMl0sVmM9WzAsMSwyLDMsNF07ZnVuY3Rpb24gQmModCl7dD10LnRyaW0oKTtsZXQgcj0iMCIsZT0iMCIsbj0iMCI7cmV0dXJuIHQubGVuZ3RoPT00PyhyPSIweCIrdFsxXSt0WzFdLGU9IjB4Iit0WzJdK3RbMl0sbj0iMHgiK3RbM10rdFszXSk6dC5sZW5ndGg+NiYmKHI9IjB4Iit0WzFdK3RbMl0sZT0iMHgiK3RbM10rdFs0XSxuPSIweCIrdFs1XSt0WzZdKSxbK3IsK2UsK25dfXZhciB4Yz0odCxyLGUpPT57bGV0IG4scyxpO2lmKHI9PTApbj1zPWk9ZTtlbHNle2NvbnN0IGE9KGwsbSxfKT0+KF88MCYmKF8rPTEpLF8+MSYmKF8tPTEpLF88LjE2NjY2NjY2NjY2NjY2NjY2P2wrKG0tbCkqNipfOl88LjU/bTpfPC42NjY2NjY2NjY2NjY2NjY2P2wrKG0tbCkqKC42NjY2NjY2NjY2NjY2NjY2LV8pKjY6bCksZD1lPC41P2UqKDErcik6ZStyLWUqcixvPTIqZS1kO249YShvLGQsdCsxLzMpLHM9YShvLGQsdCksaT1hKG8sZCx0LTEvMyl9cmV0dXJuW01hdGgucm91bmQobioyNTUpLE1hdGgucm91bmQocyoyNTUpLE1hdGgucm91bmQoaSoyNTUpXX0samM9KHQscixlKT0+e3QvPTI1NSxyLz0yNTUsZS89MjU1O2NvbnN0IG49TWF0aC5tYXgodCxyLGUpLHM9TWF0aC5taW4odCxyLGUpO2xldCBpLGE7Y29uc3QgZD0obitzKS8yO2lmKG49PXMpaT1hPTA7ZWxzZXtjb25zdCBvPW4tcztzd2l0Y2goYT1kPi41P28vKDItbi1zKTpvLyhuK3MpLG4pe2Nhc2UgdDppPShyLWUpL28rKHI8ZT82OjApO2JyZWFrO2Nhc2UgcjppPShlLXQpL28rMjticmVhaztjYXNlIGU6aT0odC1yKS9vKzQ7YnJlYWt9aS89Nn1yZXR1cm5baSxhLGRdfSxVYz0odCxyLGUpPT57Y29uc3Qgbj1zPT5zLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCIwIik7cmV0dXJuYCMke24odCl9JHtuKHIpfSR7bihlKX1gfSxMbj0odCxyPU9uLGU9LjQpPT57Y29uc3Qgbj1bXSxbcyxpLGFdPUJjKHQpLFtkLG8sbF09amMocyxpLGEpLG09TWF0aC5yb3VuZChsKjEwMCk7bT43MD9lPS44Om0+NjA/ZT0uOTptPDEwP2U9LjA3NTptPDQyJiYoZT0uMyk7Y29uc3QgXz1yLmZpbmRJbmRleChWPT5WPT09MCk7aWYoXz09PS0xKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCByZWR1Y2VyIHByb3ZpZGVkLCBpdCBtdXN0IGNvbnRhaW4gYXRsZWFzdCBvbmUgemVybyIpO2NvbnN0IHk9NS1fLHc9XysxLHg9KDEwMC1tKS95LEg9bS93O2Zvcihjb25zdCBWIG9mIHIpe2xldCBLO1Y8MD9LPW0rVipIKmU6Vj4wP0s9bStWKngqZTpLPW07Y29uc3RbWixfZSx2ZV09eGMoZCxvLEsvMTAwKTtuLnB1c2goVWMoWixfZSx2ZSkpfXJldHVybiBufSxEbj17ZGFyazp7YmFja2dyb3VuZDp7MWUzOiIjMjUyNTI1Iiw5MDA6IiMyRjJGMkYiLDgwMDoiIzMyMzIzMiIsNzAwOiIjM0UzRTNFIiw2MDA6IiM0QTRBNEEifSx0ZXh0OiIjRjVGNUY1IiwidmlkZW8tYmciOiIjMUMxQzFDIn0sbGlnaHQ6e2JhY2tncm91bmQ6ezFlMzoiI0ZGRkZGRiIsOTAwOiIjRjVGNUY1Iiw4MDA6IiNFQkVCRUIiLDcwMDoiI0UwRTBFMCIsNjAwOiIjRDZENkQ2In0sdGV4dDoiIzExMTExMSIsInRleHQtb24tYnJhbmQiOiIjZmZmZmZmIiwidmlkZW8tYmciOiIjREFEQURBIn19LEhjPXQ9Pntjb25zdFtyLGUsbixzLGldPUxuKHQsT24pO3JldHVybnszMDA6ciw0MDA6ZSw1MDA6biw2MDA6cyw3MDA6aX19LEtjPXQ9PntpZih0PT09IiNGRkZGRkYiKXJldHVybiBEbi5saWdodC5iYWNrZ3JvdW5kO2lmKHQ9PT0iIzAwMDAwMCIpcmV0dXJuIERuLmRhcmsuYmFja2dyb3VuZDtjb25zdFtyLGUsbixzLGldPUxuKHQsVmMpO3JldHVybnsxZTM6ciw5MDA6ZSw4MDA6biw3MDA6cyw2MDA6aX19LCRjPXtib3JkZXJfcmFkaXVzOiJyb3VuZGVkIixib3JkZXJfd2lkdGg6InRoaW4iLHNwYWNpbmdfYmFzZTo0LHRoZW1lOiJkYXJrIixjb2xvcnM6e2JyYW5kOkhjKCIjMjE2MEZEIiksYmFja2dyb3VuZDpLYygiIzE0MTQxNCIpLGRhbmdlcjoiI0ZGMkQyRCIsdGV4dDoiI0VFRUVFRSIsdGV4dF9vbl9icmFuZDoiI0VFRUVFRSIsc3VjY2VzczoiIzYyQTUwNCIsdmlkZW9fYmc6IiMxOTE5MTkiLHdhcm5pbmc6IiNGRkNEMDcifX07ZnVuY3Rpb24gTm4oKXtyZXR1cm4gd2MoJGMpfU5uKCksTm4oKTtjbGFzcyBXY3tjb25zdHJ1Y3Rvcigpe3d0KHRoaXMsVmUsdm9pZCAwKX1nZXQgdGVsZW1ldHJ5KCl7dmFyIHI7cmV0dXJuKHI9ZWUodGhpcyxWZSkpPT1udWxsP3ZvaWQgMDpyLmdldFZhbHVlKCJ0ZWxlbWV0cnkiKX1pbml0KHIpe1BlKHRoaXMsVmUscil9aW5mbyhyLGUsbil7dmFyIHM7KHM9dGhpcy50ZWxlbWV0cnkpPT1udWxsfHxzLmFkZExvZ0luQ3VycmVudFNwYW4oImluZm8iLHIsZSxuKX1lcnJvcihyLGUsbil7dmFyIHM7KHM9dGhpcy50ZWxlbWV0cnkpPT1udWxsfHxzLmFkZExvZ0luQ3VycmVudFNwYW4oImVycm9yIixyLGUsbil9ZGVidWcocixlLG4pe3ZhciBzOyhzPXRoaXMudGVsZW1ldHJ5KT09bnVsbHx8cy5hZGRMb2dJbkN1cnJlbnRTcGFuKCJkZWJ1ZyIscixlLG4pfWxvZyhyLGUsbil7dmFyIHM7KHM9dGhpcy50ZWxlbWV0cnkpPT1udWxsfHxzLmFkZExvZ0luQ3VycmVudFNwYW4oImxvZyIscixlLG4pfXdhcm4ocixlLG4pe3ZhciBzOyhzPXRoaXMudGVsZW1ldHJ5KT09bnVsbHx8cy5hZGRMb2dJbkN1cnJlbnRTcGFuKCJ3YXJuIixyLGUsbil9fVZlPW5ldyBXZWFrTWFwO2NvbnN0IHJyPWNsYXNzIGV4dGVuZHMgWS5FdmVudEVtaXR0ZXJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTt3dCh0aGlzLHNlLHZvaWQgMCk7d3QodGhpcyxpZSx2b2lkIDApO3AodGhpcywiYXN5bmNQcm9taXNlVGltZW91dCIpO3AodGhpcywibG9nZ2VyIik7dGhpcy5sb2dnZXI9ZSxQZSh0aGlzLHNlLG5ldyBNYXApLFBlKHRoaXMsaWUsbmV3IE1hcCksdGhpcy5hc3luY1Byb21pc2VUaW1lb3V0PThlM31lbWl0QXN5bmMoZSwuLi5uKXtyZXR1cm4gSSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7ZWUodGhpcyxzZSkuc2V0KGUsW10pO2NvbnN0IHM9ZWUodGhpcyxpZSkuZ2V0KGUpLm1hcCgoKT0+bmV3IFByb21pc2UoaT0+e2VlKHRoaXMsc2UpLmdldChlKS5wdXNoKGkpfSkpO3NzKHJyLnByb3RvdHlwZSx0aGlzLCJlbWl0IikuY2FsbCh0aGlzLGUsLi4ubikseWllbGQgUHJvbWlzZS5yYWNlKFtQcm9taXNlLmFsbChzKSxuZXcgUHJvbWlzZSgoaSxhKT0+c2V0VGltZW91dCgoKT0+YShuZXcgRXJyb3IoYGVtaXRBc3luYyBmYWlsZWQgdG8gcmVzb2x2ZSBmb3IgZXZlbnQgJHtlfS5gKSksdGhpcy5hc3luY1Byb21pc2VUaW1lb3V0KSldKSxlZSh0aGlzLHNlKS5kZWxldGUoZSl9KX1vbkFzeW5jKGUsbil7Y29uc3Qgcz1lZSh0aGlzLHNlKSxpPSguLi5hKT0+SSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIG87dHJ5e3lpZWxkIG4oLi4uYSl9Y2F0Y2gobCl7dGhpcy5sb2dnZXIuZXJyb3IoIltvbkFzeW5jXSIse2Vycm9yOmx9KX1jb25zdCBkPShvPXMuZ2V0KGUpKT09bnVsbD92b2lkIDA6by5zaGlmdCgpO2Q9PW51bGx8fGQoKX0pO3JldHVybiBlZSh0aGlzLGllKS5nZXQoZSl8fGVlKHRoaXMsaWUpLnNldChlLFtdKSxlZSh0aGlzLGllKS5nZXQoZSkucHVzaChpKSxzdXBlci5vbihlLGkpfXJlc2V0KCl7UGUodGhpcyxzZSxuZXcgTWFwKSxQZSh0aGlzLGllLG5ldyBNYXApLHN1cGVyLnJlbW92ZUFsbExpc3RlbmVycygpfX07bGV0IFd0PXJyO3NlPW5ldyBXZWFrTWFwLGllPW5ldyBXZWFrTWFwO3ZhciBUdCx6Yz1uZXcgVWludDhBcnJheSgxNik7ZnVuY3Rpb24gR2MoKXtpZighVHQmJihUdD10eXBlb2YgY3J5cHRvIT0idW5kZWZpbmVkIiYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byl8fHR5cGVvZiBtc0NyeXB0byE9InVuZGVmaW5lZCImJnR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXM9PSJmdW5jdGlvbiImJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSwhVHQpKXRocm93IG5ldyBFcnJvcigiY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQiKTtyZXR1cm4gVHQoemMpfXZhciBZYz0vXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7ZnVuY3Rpb24gcWModCl7cmV0dXJuIHR5cGVvZiB0PT0ic3RyaW5nIiYmWWMudGVzdCh0KX1mb3IodmFyIFc9W10senQ9MDt6dDwyNTY7Kyt6dClXLnB1c2goKHp0KzI1NikudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7ZnVuY3Rpb24gUWModCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOjAsZT0oV1t0W3IrMF1dK1dbdFtyKzFdXStXW3RbcisyXV0rV1t0W3IrM11dKyItIitXW3Rbcis0XV0rV1t0W3IrNV1dKyItIitXW3Rbcis2XV0rV1t0W3IrN11dKyItIitXW3Rbcis4XV0rV1t0W3IrOV1dKyItIitXW3RbcisxMF1dK1dbdFtyKzExXV0rV1t0W3IrMTJdXStXW3RbcisxM11dK1dbdFtyKzE0XV0rV1t0W3IrMTVdXSkudG9Mb3dlckNhc2UoKTtpZighcWMoZSkpdGhyb3cgVHlwZUVycm9yKCJTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQiKTtyZXR1cm4gZX1mdW5jdGlvbiBKYyh0LHIsZSl7dD10fHx7fTt2YXIgbj10LnJhbmRvbXx8KHQucm5nfHxHYykoKTtpZihuWzZdPW5bNl0mMTV8NjQsbls4XT1uWzhdJjYzfDEyOCxyKXtlPWV8fDA7Zm9yKHZhciBzPTA7czwxNjsrK3MpcltlK3NdPW5bc107cmV0dXJuIHJ9cmV0dXJuIFFjKG4pfXZhciBYYz0iW29iamVjdCBNYXBdIixaYz0iW29iamVjdCBTZXRdIixlZD1PYmplY3QucHJvdG90eXBlLHRkPWVkLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIHJkKHQpe2lmKHQ9PW51bGwpcmV0dXJuITA7aWYoRnQodCkmJih2dCh0KXx8dHlwZW9mIHQ9PSJzdHJpbmcifHx0eXBlb2YgdC5zcGxpY2U9PSJmdW5jdGlvbiJ8fEx0KHQpfHxybih0KXx8cXIodCkpKXJldHVybiF0Lmxlbmd0aDt2YXIgcj15dCh0KTtpZihyPT1YY3x8cj09WmMpcmV0dXJuIXQuc2l6ZTtpZihFdCh0KSlyZXR1cm4hYW4odCkubGVuZ3RoO2Zvcih2YXIgZSBpbiB0KWlmKHRkLmNhbGwodCxlKSlyZXR1cm4hMTtyZXR1cm4hMH1jb25zdCBHdD17UFJPUEFHQVRFX0tJQ0tfQUxMOiJwcm9wYWdhdGVfa2lja19hY3Jvc3Nfcm9vbXMiLFJFRlJFU0hfSURfT05fRElTQ09OTkVDVElPTjoicmVmcmVzaF9pZF9vbl9kaXNjb25uZWN0aW9uIixTSU1VTENBU1Q6InNpbXVsY2FzdCIsQ0hBVF9TT0NLRVRfU0VSVkVSOiJjaGF0X3NvY2tldF9zZXJ2ZXIiLFBPTExfU09DS0VUX1NFUlZFUjoicG9sbF9zb2NrZXRfc2VydmVyIixQTFVHSU5fU09DS0VUX1NFUlZFUjoicGx1Z2luX3NvY2tldF9zZXJ2ZXIiLE5SX09URUxfV0VCOiJucl9vdGVsX3dlYiIsSUNFX1JFU1RBUlRfT05fRkFJTEVEX1NUQVRFOiJpY2VfcmVzdGFydF9vbl9mYWlsZWRfc3RhdGUiLElDRV9SRVNUQVJUX09OX0RJU0NPTk5FQ1RFRF9TVEFURToiaWNlX3Jlc3RhcnRfb25fZGlzY29ubmVjdGVkX3N0YXRlIixFTkFCTEVfSUNFX1NUQVRFX0xPR0dJTkc6ImVuYWJsZV9pY2Vfc3RhdGVfbG9nZ2luZyIsU1VQUFJFU1NfUEVFUl9NVVRFX1VOTVVURV9FTUlUUzoid2ViX2NvcmVfc3VwcHJlc3NfcGVlcl9tdXRlX3VubXV0ZV9lbWl0cyIsU0tJUF9PVEVMX1RSQUNFUzoic2tpcF9vdGVsX3RyYWNlcyIsVVNFX1VTRVJJRFNfSU5fQ0hBVDoidXNlX3VzZXJpZHNfaW5fY2hhdCIsQ1VTVE9NX1BJTkdfUE9ORzoiY3VzdG9tX3BpbmdfcG9uZyIsRU5BQkxFX0hJVkVfU0lNVUxDQVNUOiJlbmFibGVfaGl2ZV9zaW11bGNhc3QiLEVOQUJMRV9ISVZFX1RSQU5TUE9SVF9SRUNPTk5FQ1RJT05fT05fSUNFX0ZBSUxFRDoiZW5hYmxlX2hpdmVfdHJhbnNwb3J0X3JlY29ubmVjdGlvbl9vbl9pY2VfZmFpbGVkIixFTkFCTEVfSElWRV9FWFBFUklNRU5UQUxfRkFJTF9SRUNPVkVSWToiZW5hYmxlX2hpdmVfZmFpbF9yZWNvdmVyeSIsRU5BQkxFX0hJVkVfSU5GSU5JVEVfUkVUUklFUzoiZW5hYmxlX2hpdmVfaW5maW5pdGVfcmV0cmllcyIsSElWRV9UUkFOU1BPUlRfRk9SQ0VfUkVMQVlfT05fSUNFX0ZBSUxFRDoiaGl2ZV90cmFuc3BvcnRfZm9yY2VfcmVsYXlfb25faWNlX2ZhaWxlZCIsRU5BQkxFX0hJVkVfQ09OU1VNRV9PVkVSX0RDOiJlbmFibGVfaGl2ZV9jb25zdW1lX292ZXJfZGMiLEVOQUJMRV9DRl9TSU1VTENBU1Q6ImVuYWJsZV9jZl9zaW11bGNhc3QiLEVOQUJMRV9DRl9UUkFOU1BPUlRfUkVDT05ORUNUSU9OX09OX0lDRV9GQUlMRUQ6ImVuYWJsZV9jZl90cmFuc3BvcnRfcmVjb25uZWN0aW9uX29uX2ljZV9mYWlsZWQiLEVOQUJMRV9DRl9FWFBFUklNRU5UQUxfRkFJTF9SRUNPVkVSWToiZW5hYmxlX2NmX2ZhaWxfcmVjb3ZlcnkiLEVOQUJMRV9DRl9JTkZJTklURV9SRVRSSUVTOiJlbmFibGVfY2ZfaW5maW5pdGVfcmV0cmllcyIsQ0ZfVFJBTlNQT1JUX0ZPUkNFX1JFTEFZX09OX0lDRV9GQUlMRUQ6ImNmX3RyYW5zcG9ydF9mb3JjZV9yZWxheV9vbl9pY2VfZmFpbGVkIixCWVBBU1NfTE9HX0VYQ0xVU0lPTl9MSVNUOiJieXBhc3NfbG9nX2V4Y2x1c2lvbl9saXN0IixMT0dfTEVWRUw6ImxvZ19sZXZlbCIsVjFfUExVR0lOUzoidjFfcGx1Z2lucyIsU0NSRUVOU0hBUkVfRFRYOiJzY3JlZW5zaGFyZV9kdHgiLFNDUkVFTlNIQVJFX1BSSU9SSVRZOiJzY3JlZW5zaGFyZV9wcmlvcml0eSIsU0NSRUVOU0hBUkVfTUlOX0JJVFJBVEU6InNjcmVlbnNoYXJlX21pbmJpdHJhdGUiLFNDUkVFTlNIQVJFX1NJTVVMQ0FTVDoic2NyZWVuc2hhcmVfc2ltdWxjYXN0IixESVNBQkxFX1dFQkNBTV9MQVlFUlNfT05fU0NSRUVOU0hBUkU6ImRpc2FibGVfd2ViY2FtX2xheWVyc19vbl9zY3JlZW5zaGFyZSIsU0NSRUVOU0hBUkVfRk9SQ0VfR09PR19DT05GRVJFTkNFOiJzY3JlZW5zaGFyZV9mb3JjZV9nb29nX2NvbmZlcmVuY2UiLExJVkVTVFJFQU06ImZlYXRfbGl2ZXN0cmVhbSIsRkVUQ0hfUkVUUlk6ImZldGNoX3JldHJ5IixESVNBQkxFX1dFQkNBTV9TSU1VTENBU1Q6IndlYmNvcmVfZGlzYWJsZV93ZWJjYW1fc2ltdWxjYXN0IixPVkVSUklERV9XRUJDQU1fU0lNVUxDQVNUOiJvdmVycmlkZV93ZWJjYW1fc2ltdWxjYXN0IixTT0NLRVRfUE9MTElORzoic29ja2V0X3BvbGxpbmciLEZFQVRfUEFHSU5BVEVEX0NIQVQ6ImZlYXRfcGFnaW5hdGVkX2NoYXQiLFZBTF9NSU5fRlJBTUVSQVRFOiJ2YWxfbWluX2ZyYW1lcmF0ZSIsU0NSRUVFTlNIQVJFX0VSUl9IQUNLOiJzY3JlZW5zaGFyZV9lcnJfaGFjayIsU0NSRUVFTlNIQVJFX0NPTlNUUkFJTlRTX1JFVFJZOiJzY3JlZW5zaGFyZV9jb25zdHJhaW50c19yZXRyeSIsVFJPVUJMRVNIT09USU5HOiJmZWF0X3Ryb3VibGVzaG9vdGluZyIsVklERU9fQ09OU1RSQUlOVFM6InZpZGVvX2NvbnN0cmFpbnRzIixTQ1JFRU5TSEFSRV9DT05TVFJBSU5UUzoic2NyZWVuc2hhcmVfY29uc3RyYWludHMiLEZFQVRfQ0hBVF9TREs6ImZlYXRfY2hhdF9zZGsiLEZFQVRfQ0hBVF9TREtfU0VBUkNIOiJjaGF0X3NlYXJjaCIsT0JTX1FVQUxJVFk6Im9ic19xdWFsaXR5IixBTExPV19TQUZBUklfTUVESUFfTUlERExFV0FSRVM6ImFsbG93X3NhZmFyaV9tZWRpYV9taWRkbGV3YXJlcyIsRFlOQU1JQ19WSURFT19RVUFMSVRZOiJkeW5hbWljX3ZpZGVvX3F1YWxpdHkiLEVYUF9SRVNIQVJFOiJleHBfcmVzaGFyZSIsTEVBVkVfU1RBR0VfT05fRU5EOiJsZWF2ZV9zdGFnZV9vbl9lbmQiLFNLSVBfU0VUVElOR19JTl9VU0VfREVWSUNFOiJza2lwX3NldHRpbmdfaW5fdXNlX2RldmljZSIsUFJFQ0FMTF9CQU5EV0lEVEhfVEVTVDoicHJlY2FsbF9iYW5kd2lkdGhfdGVzdCIsQ09OU1VNRVJfQklORF9OT19SRVRSWToiY29uc3VtZXJfYmluZF9ub19yZXRyeSIsREVCVUdfU09DS0VUX0pPSU46ImRlYnVnX3NvY2tldF9qb2luIixGT1JDRV9SRUxBWToiZm9yY2VfcmVsYXkiLEZPUkNFX1ZJREVPX0NPREVDOiJmb3JjZV92aWRlb19jb2RlYyIsVVNFX0VYUEVSSU1FTlRBTF9TRlVfSEFORExFUjoidXNlX2V4cGVyaW1lbnRhbF9zZnVfaGFuZGxlciIsVFJBQ0tfSElOVDoidHJhY2tfaGludCIsT1ZFUlJJREVfSElWRV9TSU1VTENBU1RfRFlOQU1JQzoib3ZlcnJpZGVfaGl2ZV9zaW11bGNhc3RfZHluYW1pYyIsUFJFQ1JFQVRFX1BST0RVQ0VSUzoicHJlY3JlYXRlX3Byb2R1Y2VycyIsRElTQUJMRV9PUFVTX0RUWF9DRjoiZGlzYWJsZV9vcHVzX2R0eF9jZiIsRU5BQkxFX0FVRElPX0FDVElWSVRZX0RFQlVHX0xPR1M6ImVuYWJsZV9hdWRpb19hY3Rpdml0eV9kZWJ1Z19sb2dzIixORVdfU1lOQ19DT05TVU1FUlM6Im5ld19zeW5jX2NvbnN1bWVycyJ9O2Z1bmN0aW9uIFJ0KHQpe2NvbnN0IHI9e307cmV0dXJuIHR5cGVvZih0PT1udWxsP3ZvaWQgMDp0LmNvZGUpPT0ibnVtYmVyIiYmKHIuY29kZT10LmNvZGUpLHR5cGVvZih0PT1udWxsP3ZvaWQgMDp0LmNvZGUpPT0ic3RyaW5nIiYmKHIuY29kZT10LmNvZGUuc3Vic3RyaW5nKDAsMTAwKSksdHlwZW9mKHQ9PW51bGw/dm9pZCAwOnQubmFtZSk9PSJzdHJpbmciJiYoci5uYW1lPXQubmFtZS5zdWJzdHJpbmcoMCw1MDApKSx0eXBlb2YodD09bnVsbD92b2lkIDA6dC5tZXNzYWdlKT09InN0cmluZyImJihyLm1lc3NhZ2U9dC5tZXNzYWdlLnN1YnN0cmluZygwLDUwMCkpLHR5cGVvZih0PT1udWxsP3ZvaWQgMDp0LnJlYXNvbik9PSJzdHJpbmciJiYoci5yZWFzb249dC5yZWFzb24uc3Vic3RyaW5nKDAsNTAwKSksdHlwZW9mKHQ9PW51bGw/dm9pZCAwOnQuc3RhY2spPT0ic3RyaW5nIiYmKHIuc3RhY2s9dC5zdGFjay5zdWJzdHJpbmcoMCw1MDApKSxyfWZ1bmN0aW9uIG5kKHQpe3ZhciBuLHMsaSxhO2NvbnN0IHI9dHlwZW9mIG5hdmlnYXRvciE9InVuZGVmaW5lZCImJiFuYXZpZ2F0b3IuaXNSZWFjdE5hdGl2ZSYmdHlwZW9mIHdpbmRvdyE9InVuZGVmaW5lZCImJigobj13aW5kb3cubG9jYXRpb24uaG9zdCk9PW51bGw/dm9pZCAwOm4uaW5jbHVkZXMoImRldmVsIikpJiYoKHM9d2luZG93LmxvY2F0aW9uLmhvc3QpPT1udWxsP3ZvaWQgMDpzLmluY2x1ZGVzKCJkeXRlLmlvIikpLGU9ISEoKGE9KGk9dD09bnVsbD92b2lkIDA6dC5nZXRWYWx1ZSgibW9kdWxlcyIpKT09bnVsbD92b2lkIDA6aS5kZXZUb29scykhPW51bGwmJmEubG9ncyk7cmV0dXJuIHJ8fGV9ZnVuY3Rpb24gc2QodCxyKXt2YXIgZTtpZih0IT1udWxsJiZ0LmdldFZhbHVlKCJmbGFnc21pdGgiKS5oYXNGZWF0dXJlKEd0LkxPR19MRVZFTCkpe2xldCBuPSgoZT10LmdldFZhbHVlKCJmbGFnc21pdGgiKS5nZXRWYWx1ZShHdC5MT0dfTEVWRUwpKT09bnVsbD92b2lkIDA6ZS50b1N0cmluZygpKXx8ImFsbCI7aWYobj1uLnRvTG93ZXJDYXNlKCkudHJpbSgpLG49PT0ib2ZmIilyZXR1cm4hMTtpZihuIT09ImFsbCIpe2NvbnN0IHM9WyJkZWJ1ZyIsImxvZyIsImluZm8iLCJ3YXJuIiwiZXJyb3IiXSxpPXMuaW5kZXhPZihyKSxhPXMuaW5kZXhPZihuKTtpZihpPGEpcmV0dXJuITF9fXJldHVybiEwfWZ1bmN0aW9uIEZuKHQscixlPXt9KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkuZm9yRWFjaChuPT57dmFyIGk7aWYoW251bGwsdm9pZCAwLE5hTl0uaW5jbHVkZXModFtuXSl8fHImJigoKGk9ci5tYXRjaCgvXC4vZykpPT1udWxsP3ZvaWQgMDppLmxlbmd0aCl8fDApPj0xMClyZXR1cm47Y29uc3Qgcz1yP2Ake3J9LiR7bn1gOm47dHlwZW9mIHRbbl09PSJvYmplY3QiP0ZuKHRbbl0scyxlKTpbIm51bWJlciIsInN0cmluZyIsImJvb2xlYW4iXS5pbmNsdWRlcyh0eXBlb2YgdFtuXSkmJihlW3NdPXRbbl0pfSksZX1mdW5jdGlvbiBWbih0LHIsZT17fSxuPSIiKXtjb25zdCBzPXt9O3RyeXtjb25zdCBpPUpTT04uc3RyaW5naWZ5KGUpLGE9SlNPTi5wYXJzZShpKSxkPUZuKGEsbiksbz1KU09OLnN0cmluZ2lmeShkKTtyZXR1cm4gSlNPTi5wYXJzZShvKX1jYXRjaChpKXtjb25zdCBhPVJ0KGkpO3NbYCR7bn0uZXJyb3IubWVzc2FnZWBdPWEubWVzc2FnZXx8IiIsc1tgJHtufS5lcnJvci5zdGFja2BdPWEuc3RhY2t8fCIiLHNbYCR7bn0uZXJyb3IucmVhc29uYF09YS5yZWFzb258fCIiLHNbYCR7bn0uZXJyb3Iuc291cmNlYF09InNhZmVseUZsYXR0ZW5PYmpGb3JPcGVuVGVsZW1ldHJ5In1yZXR1cm4gc31jb25zdCBpZD17IkFtYXpvbiBTaWxrIjoiYW1hem9uX3NpbGsiLCJBbmRyb2lkIEJyb3dzZXIiOiJhbmRyb2lkIixCYWRhOiJiYWRhIixCbGFja0JlcnJ5OiJibGFja2JlcnJ5IixDaHJvbWU6ImNocm9tZSIsQ2hyb21pdW06ImNocm9taXVtIixFbGVjdHJvbjoiZWxlY3Ryb24iLEVwaXBoYW55OiJlcGlwaGFueSIsRmlyZWZveDoiZmlyZWZveCIsRm9jdXM6ImZvY3VzIixHZW5lcmljOiJnZW5lcmljIiwiR29vZ2xlIFNlYXJjaCI6Imdvb2dsZV9zZWFyY2giLEdvb2dsZWJvdDoiZ29vZ2xlYm90IiwiSW50ZXJuZXQgRXhwbG9yZXIiOiJpZSIsIkstTWVsZW9uIjoia19tZWxlb24iLE1heHRob246Im1heHRob24iLCJNaWNyb3NvZnQgRWRnZSI6ImVkZ2UiLCJNWiBCcm93c2VyIjoibXoiLCJOQVZFUiBXaGFsZSBCcm93c2VyIjoibmF2ZXIiLE9wZXJhOiJvcGVyYSIsIk9wZXJhIENvYXN0Ijoib3BlcmFfY29hc3QiLFBoYW50b21KUzoicGhhbnRvbWpzIixQdWZmaW46InB1ZmZpbiIsUXVwWmlsbGE6InF1cHppbGxhIixRUToicXEiLFFRTGl0ZToicXFsaXRlIixTYWZhcmk6InNhZmFyaSIsU2FpbGZpc2g6InNhaWxmaXNoIiwiU2Ftc3VuZyBJbnRlcm5ldCBmb3IgQW5kcm9pZCI6InNhbXN1bmdfaW50ZXJuZXQiLFNlYU1vbmtleToic2VhbW9ua2V5IixTbGVpcG5pcjoic2xlaXBuaXIiLFN3aW5nOiJzd2luZyIsVGl6ZW46InRpemVuIiwiVUMgQnJvd3NlciI6InVjIixWaXZhbGRpOiJ2aXZhbGRpIiwiV2ViT1MgQnJvd3NlciI6IndlYm9zIixXZUNoYXQ6IndlY2hhdCIsIllhbmRleCBCcm93c2VyIjoieWFuZGV4IixSb2t1OiJyb2t1In0sQm49e2FtYXpvbl9zaWxrOiJBbWF6b24gU2lsayIsYW5kcm9pZDoiQW5kcm9pZCBCcm93c2VyIixiYWRhOiJCYWRhIixibGFja2JlcnJ5OiJCbGFja0JlcnJ5IixjaHJvbWU6IkNocm9tZSIsY2hyb21pdW06IkNocm9taXVtIixlbGVjdHJvbjoiRWxlY3Ryb24iLGVwaXBoYW55OiJFcGlwaGFueSIsZmlyZWZveDoiRmlyZWZveCIsZm9jdXM6IkZvY3VzIixnZW5lcmljOiJHZW5lcmljIixnb29nbGVib3Q6Ikdvb2dsZWJvdCIsZ29vZ2xlX3NlYXJjaDoiR29vZ2xlIFNlYXJjaCIsaWU6IkludGVybmV0IEV4cGxvcmVyIixrX21lbGVvbjoiSy1NZWxlb24iLG1heHRob246Ik1heHRob24iLGVkZ2U6Ik1pY3Jvc29mdCBFZGdlIixtejoiTVogQnJvd3NlciIsbmF2ZXI6Ik5BVkVSIFdoYWxlIEJyb3dzZXIiLG9wZXJhOiJPcGVyYSIsb3BlcmFfY29hc3Q6Ik9wZXJhIENvYXN0IixwaGFudG9tanM6IlBoYW50b21KUyIscHVmZmluOiJQdWZmaW4iLHF1cHppbGxhOiJRdXBaaWxsYSIscXE6IlFRIEJyb3dzZXIiLHFxbGl0ZToiUVEgQnJvd3NlciBMaXRlIixzYWZhcmk6IlNhZmFyaSIsc2FpbGZpc2g6IlNhaWxmaXNoIixzYW1zdW5nX2ludGVybmV0OiJTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkIixzZWFtb25rZXk6IlNlYU1vbmtleSIsc2xlaXBuaXI6IlNsZWlwbmlyIixzd2luZzoiU3dpbmciLHRpemVuOiJUaXplbiIsdWM6IlVDIEJyb3dzZXIiLHZpdmFsZGk6IlZpdmFsZGkiLHdlYm9zOiJXZWJPUyBCcm93c2VyIix3ZWNoYXQ6IldlQ2hhdCIseWFuZGV4OiJZYW5kZXggQnJvd3NlciJ9LFU9e3RhYmxldDoidGFibGV0Iixtb2JpbGU6Im1vYmlsZSIsZGVza3RvcDoiZGVza3RvcCIsdHY6InR2In0sRz17V2luZG93c1Bob25lOiJXaW5kb3dzIFBob25lIixXaW5kb3dzOiJXaW5kb3dzIixNYWNPUzoibWFjT1MiLGlPUzoiaU9TIixBbmRyb2lkOiJBbmRyb2lkIixXZWJPUzoiV2ViT1MiLEJsYWNrQmVycnk6IkJsYWNrQmVycnkiLEJhZGE6IkJhZGEiLFRpemVuOiJUaXplbiIsTGludXg6IkxpbnV4IixDaHJvbWVPUzoiQ2hyb21lIE9TIixQbGF5U3RhdGlvbjQ6IlBsYXlTdGF0aW9uIDQiLFJva3U6IlJva3UifSxvZT17RWRnZUhUTUw6IkVkZ2VIVE1MIixCbGluazoiQmxpbmsiLFRyaWRlbnQ6IlRyaWRlbnQiLFByZXN0bzoiUHJlc3RvIixHZWNrbzoiR2Vja28iLFdlYktpdDoiV2ViS2l0In07Y2xhc3MgZ3tzdGF0aWMgZ2V0Rmlyc3RNYXRjaChyLGUpe2NvbnN0IG49ZS5tYXRjaChyKTtyZXR1cm4gbiYmbi5sZW5ndGg+MCYmblsxXXx8IiJ9c3RhdGljIGdldFNlY29uZE1hdGNoKHIsZSl7Y29uc3Qgbj1lLm1hdGNoKHIpO3JldHVybiBuJiZuLmxlbmd0aD4xJiZuWzJdfHwiIn1zdGF0aWMgbWF0Y2hBbmRSZXR1cm5Db25zdChyLGUsbil7aWYoci50ZXN0KGUpKXJldHVybiBufXN0YXRpYyBnZXRXaW5kb3dzVmVyc2lvbk5hbWUocil7c3dpdGNoKHIpe2Nhc2UiTlQiOnJldHVybiJOVCI7Y2FzZSJYUCI6cmV0dXJuIlhQIjtjYXNlIk5UIDUuMCI6cmV0dXJuIjIwMDAiO2Nhc2UiTlQgNS4xIjpyZXR1cm4iWFAiO2Nhc2UiTlQgNS4yIjpyZXR1cm4iMjAwMyI7Y2FzZSJOVCA2LjAiOnJldHVybiJWaXN0YSI7Y2FzZSJOVCA2LjEiOnJldHVybiI3IjtjYXNlIk5UIDYuMiI6cmV0dXJuIjgiO2Nhc2UiTlQgNi4zIjpyZXR1cm4iOC4xIjtjYXNlIk5UIDEwLjAiOnJldHVybiIxMCI7ZGVmYXVsdDpyZXR1cm59fXN0YXRpYyBnZXRNYWNPU1ZlcnNpb25OYW1lKHIpe2NvbnN0IGU9ci5zcGxpdCgiLiIpLnNwbGljZSgwLDIpLm1hcChuPT5wYXJzZUludChuLDEwKXx8MCk7aWYoZS5wdXNoKDApLGVbMF09PT0xMClzd2l0Y2goZVsxXSl7Y2FzZSA1OnJldHVybiJMZW9wYXJkIjtjYXNlIDY6cmV0dXJuIlNub3cgTGVvcGFyZCI7Y2FzZSA3OnJldHVybiJMaW9uIjtjYXNlIDg6cmV0dXJuIk1vdW50YWluIExpb24iO2Nhc2UgOTpyZXR1cm4iTWF2ZXJpY2tzIjtjYXNlIDEwOnJldHVybiJZb3NlbWl0ZSI7Y2FzZSAxMTpyZXR1cm4iRWwgQ2FwaXRhbiI7Y2FzZSAxMjpyZXR1cm4iU2llcnJhIjtjYXNlIDEzOnJldHVybiJIaWdoIFNpZXJyYSI7Y2FzZSAxNDpyZXR1cm4iTW9qYXZlIjtjYXNlIDE1OnJldHVybiJDYXRhbGluYSI7ZGVmYXVsdDpyZXR1cm59fXN0YXRpYyBnZXRBbmRyb2lkVmVyc2lvbk5hbWUocil7Y29uc3QgZT1yLnNwbGl0KCIuIikuc3BsaWNlKDAsMikubWFwKG49PnBhcnNlSW50KG4sMTApfHwwKTtpZihlLnB1c2goMCksIShlWzBdPT09MSYmZVsxXTw1KSl7aWYoZVswXT09PTEmJmVbMV08NilyZXR1cm4iQ3VwY2FrZSI7aWYoZVswXT09PTEmJmVbMV0+PTYpcmV0dXJuIkRvbnV0IjtpZihlWzBdPT09MiYmZVsxXTwyKXJldHVybiJFY2xhaXIiO2lmKGVbMF09PT0yJiZlWzFdPT09MilyZXR1cm4iRnJveW8iO2lmKGVbMF09PT0yJiZlWzFdPjIpcmV0dXJuIkdpbmdlcmJyZWFkIjtpZihlWzBdPT09MylyZXR1cm4iSG9uZXljb21iIjtpZihlWzBdPT09NCYmZVsxXTwxKXJldHVybiJJY2UgQ3JlYW0gU2FuZHdpY2giO2lmKGVbMF09PT00JiZlWzFdPDQpcmV0dXJuIkplbGx5IEJlYW4iO2lmKGVbMF09PT00JiZlWzFdPj00KXJldHVybiJLaXRLYXQiO2lmKGVbMF09PT01KXJldHVybiJMb2xsaXBvcCI7aWYoZVswXT09PTYpcmV0dXJuIk1hcnNobWFsbG93IjtpZihlWzBdPT09NylyZXR1cm4iTm91Z2F0IjtpZihlWzBdPT09OClyZXR1cm4iT3JlbyI7aWYoZVswXT09PTkpcmV0dXJuIlBpZSJ9fXN0YXRpYyBnZXRWZXJzaW9uUHJlY2lzaW9uKHIpe3JldHVybiByLnNwbGl0KCIuIikubGVuZ3RofXN0YXRpYyBjb21wYXJlVmVyc2lvbnMocixlLG49ITEpe2NvbnN0IHM9Zy5nZXRWZXJzaW9uUHJlY2lzaW9uKHIpLGk9Zy5nZXRWZXJzaW9uUHJlY2lzaW9uKGUpO2xldCBhPU1hdGgubWF4KHMsaSksZD0wO2NvbnN0IG89Zy5tYXAoW3IsZV0sbD0+e2NvbnN0IG09YS1nLmdldFZlcnNpb25QcmVjaXNpb24obCksXz1sK25ldyBBcnJheShtKzEpLmpvaW4oIi4wIik7cmV0dXJuIGcubWFwKF8uc3BsaXQoIi4iKSx5PT5uZXcgQXJyYXkoMjAteS5sZW5ndGgpLmpvaW4oIjAiKSt5KS5yZXZlcnNlKCl9KTtmb3IobiYmKGQ9YS1NYXRoLm1pbihzLGkpKSxhLT0xO2E+PWQ7KXtpZihvWzBdW2FdPm9bMV1bYV0pcmV0dXJuIDE7aWYob1swXVthXT09PW9bMV1bYV0pe2lmKGE9PT1kKXJldHVybiAwO2EtPTF9ZWxzZSBpZihvWzBdW2FdPG9bMV1bYV0pcmV0dXJuLTF9fXN0YXRpYyBtYXAocixlKXtjb25zdCBuPVtdO2xldCBzO2lmKEFycmF5LnByb3RvdHlwZS5tYXApcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChyLGUpO2ZvcihzPTA7czxyLmxlbmd0aDtzKz0xKW4ucHVzaChlKHJbc10pKTtyZXR1cm4gbn1zdGF0aWMgZmluZChyLGUpe2xldCBuLHM7aWYoQXJyYXkucHJvdG90eXBlLmZpbmQpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maW5kLmNhbGwocixlKTtmb3Iobj0wLHM9ci5sZW5ndGg7bjxzO24rPTEpe2NvbnN0IGk9cltuXTtpZihlKGksbikpcmV0dXJuIGl9fXN0YXRpYyBhc3NpZ24ociwuLi5lKXtjb25zdCBuPXI7bGV0IHMsaTtpZihPYmplY3QuYXNzaWduKXJldHVybiBPYmplY3QuYXNzaWduKHIsLi4uZSk7Zm9yKHM9MCxpPWUubGVuZ3RoO3M8aTtzKz0xKXtjb25zdCBhPWVbc107dHlwZW9mIGE9PSJvYmplY3QiJiZhIT09bnVsbCYmT2JqZWN0LmtleXMoYSkuZm9yRWFjaChvPT57bltvXT1hW29dfSl9cmV0dXJuIHJ9c3RhdGljIGdldEJyb3dzZXJBbGlhcyhyKXtyZXR1cm4gaWRbcl19c3RhdGljIGdldEJyb3dzZXJUeXBlQnlBbGlhcyhyKXtyZXR1cm4gQm5bcl18fCIifX1jb25zdCBEPS92ZXJzaW9uXC8oXGQrKFwuP18/XGQrKSspL2ksYWQ9W3t0ZXN0OlsvZ29vZ2xlYm90L2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6Ikdvb2dsZWJvdCJ9LGU9Zy5nZXRGaXJzdE1hdGNoKC9nb29nbGVib3RcLyhcZCsoXC5cZCspKS9pLHQpfHxnLmdldEZpcnN0TWF0Y2goRCx0KTtyZXR1cm4gZSYmKHIudmVyc2lvbj1lKSxyfX0se3Rlc3Q6Wy9vcGVyYS9pXSxkZXNjcmliZSh0KXtjb25zdCByPXtuYW1lOiJPcGVyYSJ9LGU9Zy5nZXRGaXJzdE1hdGNoKEQsdCl8fGcuZ2V0Rmlyc3RNYXRjaCgvKD86b3BlcmEpW1xzL10oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0Olsvb3ByXC98b3Bpb3MvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiT3BlcmEifSxlPWcuZ2V0Rmlyc3RNYXRjaCgvKD86b3ByfG9waW9zKVtccy9dKFxTKykvaSx0KXx8Zy5nZXRGaXJzdE1hdGNoKEQsdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvU2Ftc3VuZ0Jyb3dzZXIvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiU2Ftc3VuZyBJbnRlcm5ldCBmb3IgQW5kcm9pZCJ9LGU9Zy5nZXRGaXJzdE1hdGNoKEQsdCl8fGcuZ2V0Rmlyc3RNYXRjaCgvKD86U2Ftc3VuZ0Jyb3dzZXIpW1xzL10oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvV2hhbGUvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiTkFWRVIgV2hhbGUgQnJvd3NlciJ9LGU9Zy5nZXRGaXJzdE1hdGNoKEQsdCl8fGcuZ2V0Rmlyc3RNYXRjaCgvKD86d2hhbGUpW1xzL10oXGQrKD86XC5cZCspKykvaSx0KTtyZXR1cm4gZSYmKHIudmVyc2lvbj1lKSxyfX0se3Rlc3Q6Wy9NWkJyb3dzZXIvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiTVogQnJvd3NlciJ9LGU9Zy5nZXRGaXJzdE1hdGNoKC8oPzpNWkJyb3dzZXIpW1xzL10oXGQrKD86XC5cZCspKykvaSx0KXx8Zy5nZXRGaXJzdE1hdGNoKEQsdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvZm9jdXMvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiRm9jdXMifSxlPWcuZ2V0Rmlyc3RNYXRjaCgvKD86Zm9jdXMpW1xzL10oXGQrKD86XC5cZCspKykvaSx0KXx8Zy5nZXRGaXJzdE1hdGNoKEQsdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0Olsvc3dpbmcvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiU3dpbmcifSxlPWcuZ2V0Rmlyc3RNYXRjaCgvKD86c3dpbmcpW1xzL10oXGQrKD86XC5cZCspKykvaSx0KXx8Zy5nZXRGaXJzdE1hdGNoKEQsdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvY29hc3QvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiT3BlcmEgQ29hc3QifSxlPWcuZ2V0Rmlyc3RNYXRjaChELHQpfHxnLmdldEZpcnN0TWF0Y2goLyg/OmNvYXN0KVtccy9dKFxkKyhcLj9fP1xkKykrKS9pLHQpO3JldHVybiBlJiYoci52ZXJzaW9uPWUpLHJ9fSx7dGVzdDpbL29wdFwvXGQrKD86Lj9fP1xkKykrL2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6Ik9wZXJhIFRvdWNoIn0sZT1nLmdldEZpcnN0TWF0Y2goLyg/Om9wdClbXHMvXShcZCsoXC4/Xz9cZCspKykvaSx0KXx8Zy5nZXRGaXJzdE1hdGNoKEQsdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsveWFicm93c2VyL2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6IllhbmRleCBCcm93c2VyIn0sZT1nLmdldEZpcnN0TWF0Y2goLyg/OnlhYnJvd3NlcilbXHMvXShcZCsoXC4/Xz9cZCspKykvaSx0KXx8Zy5nZXRGaXJzdE1hdGNoKEQsdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvdWNicm93c2VyL2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6IlVDIEJyb3dzZXIifSxlPWcuZ2V0Rmlyc3RNYXRjaChELHQpfHxnLmdldEZpcnN0TWF0Y2goLyg/OnVjYnJvd3NlcilbXHMvXShcZCsoXC4/Xz9cZCspKykvaSx0KTtyZXR1cm4gZSYmKHIudmVyc2lvbj1lKSxyfX0se3Rlc3Q6Wy9NYXh0aG9ufG14aW9zL2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6Ik1heHRob24ifSxlPWcuZ2V0Rmlyc3RNYXRjaChELHQpfHxnLmdldEZpcnN0TWF0Y2goLyg/Ok1heHRob258bXhpb3MpW1xzL10oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvZXBpcGhhbnkvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiRXBpcGhhbnkifSxlPWcuZ2V0Rmlyc3RNYXRjaChELHQpfHxnLmdldEZpcnN0TWF0Y2goLyg/OmVwaXBoYW55KVtccy9dKFxkKyhcLj9fP1xkKykrKS9pLHQpO3JldHVybiBlJiYoci52ZXJzaW9uPWUpLHJ9fSx7dGVzdDpbL3B1ZmZpbi9pXSxkZXNjcmliZSh0KXtjb25zdCByPXtuYW1lOiJQdWZmaW4ifSxlPWcuZ2V0Rmlyc3RNYXRjaChELHQpfHxnLmdldEZpcnN0TWF0Y2goLyg/OnB1ZmZpbilbXHMvXShcZCsoXC4/Xz9cZCspKykvaSx0KTtyZXR1cm4gZSYmKHIudmVyc2lvbj1lKSxyfX0se3Rlc3Q6Wy9zbGVpcG5pci9pXSxkZXNjcmliZSh0KXtjb25zdCByPXtuYW1lOiJTbGVpcG5pciJ9LGU9Zy5nZXRGaXJzdE1hdGNoKEQsdCl8fGcuZ2V0Rmlyc3RNYXRjaCgvKD86c2xlaXBuaXIpW1xzL10oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0Olsvay1tZWxlb24vaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiSy1NZWxlb24ifSxlPWcuZ2V0Rmlyc3RNYXRjaChELHQpfHxnLmdldEZpcnN0TWF0Y2goLyg/OmstbWVsZW9uKVtccy9dKFxkKyhcLj9fP1xkKykrKS9pLHQpO3JldHVybiBlJiYoci52ZXJzaW9uPWUpLHJ9fSx7dGVzdDpbL21pY3JvbWVzc2VuZ2VyL2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6IldlQ2hhdCJ9LGU9Zy5nZXRGaXJzdE1hdGNoKC8oPzptaWNyb21lc3NlbmdlcilbXHMvXShcZCsoXC4/Xz9cZCspKykvaSx0KXx8Zy5nZXRGaXJzdE1hdGNoKEQsdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvcXFicm93c2VyL2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6L3FxYnJvd3NlcmxpdGUvaS50ZXN0KHQpPyJRUSBCcm93c2VyIExpdGUiOiJRUSBCcm93c2VyIn0sZT1nLmdldEZpcnN0TWF0Y2goLyg/OnFxYnJvd3NlcmxpdGV8cXFicm93c2VyKVsvXShcZCsoXC4/Xz9cZCspKykvaSx0KXx8Zy5nZXRGaXJzdE1hdGNoKEQsdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvbXNpZXx0cmlkZW50L2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6IkludGVybmV0IEV4cGxvcmVyIn0sZT1nLmdldEZpcnN0TWF0Y2goLyg/Om1zaWUgfHJ2OikoXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvXHNlZGdcLy9pXSxkZXNjcmliZSh0KXtjb25zdCByPXtuYW1lOiJNaWNyb3NvZnQgRWRnZSJ9LGU9Zy5nZXRGaXJzdE1hdGNoKC9cc2VkZ1wvKFxkKyhcLj9fP1xkKykrKS9pLHQpO3JldHVybiBlJiYoci52ZXJzaW9uPWUpLHJ9fSx7dGVzdDpbL2VkZyhbZWFdfGlvcykvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiTWljcm9zb2Z0IEVkZ2UifSxlPWcuZ2V0U2Vjb25kTWF0Y2goL2VkZyhbZWFdfGlvcylcLyhcZCsoXC4/Xz9cZCspKykvaSx0KTtyZXR1cm4gZSYmKHIudmVyc2lvbj1lKSxyfX0se3Rlc3Q6Wy92aXZhbGRpL2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6IlZpdmFsZGkifSxlPWcuZ2V0Rmlyc3RNYXRjaCgvdml2YWxkaVwvKFxkKyhcLj9fP1xkKykrKS9pLHQpO3JldHVybiBlJiYoci52ZXJzaW9uPWUpLHJ9fSx7dGVzdDpbL3NlYW1vbmtleS9pXSxkZXNjcmliZSh0KXtjb25zdCByPXtuYW1lOiJTZWFNb25rZXkifSxlPWcuZ2V0Rmlyc3RNYXRjaCgvc2VhbW9ua2V5XC8oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0Olsvc2FpbGZpc2gvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiU2FpbGZpc2gifSxlPWcuZ2V0Rmlyc3RNYXRjaCgvc2FpbGZpc2hccz9icm93c2VyXC8oXGQrKFwuXGQrKT8pL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0Olsvc2lsay9pXSxkZXNjcmliZSh0KXtjb25zdCByPXtuYW1lOiJBbWF6b24gU2lsayJ9LGU9Zy5nZXRGaXJzdE1hdGNoKC9zaWxrXC8oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvcGhhbnRvbS9pXSxkZXNjcmliZSh0KXtjb25zdCByPXtuYW1lOiJQaGFudG9tSlMifSxlPWcuZ2V0Rmlyc3RNYXRjaCgvcGhhbnRvbWpzXC8oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0Olsvc2xpbWVyanMvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiU2xpbWVySlMifSxlPWcuZ2V0Rmlyc3RNYXRjaCgvc2xpbWVyanNcLyhcZCsoXC4/Xz9cZCspKykvaSx0KTtyZXR1cm4gZSYmKHIudmVyc2lvbj1lKSxyfX0se3Rlc3Q6Wy9ibGFja2JlcnJ5fFxiYmJcZCsvaSwvcmltXHN0YWJsZXQvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiQmxhY2tCZXJyeSJ9LGU9Zy5nZXRGaXJzdE1hdGNoKEQsdCl8fGcuZ2V0Rmlyc3RNYXRjaCgvYmxhY2tiZXJyeVtcZF0rXC8oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvKHdlYnxocHcpW28wXXMvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiV2ViT1MgQnJvd3NlciJ9LGU9Zy5nZXRGaXJzdE1hdGNoKEQsdCl8fGcuZ2V0Rmlyc3RNYXRjaCgvdyg/OmViKT9bbzBdc2Jyb3dzZXJcLyhcZCsoXC4/Xz9cZCspKykvaSx0KTtyZXR1cm4gZSYmKHIudmVyc2lvbj1lKSxyfX0se3Rlc3Q6Wy9iYWRhL2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6IkJhZGEifSxlPWcuZ2V0Rmlyc3RNYXRjaCgvZG9sZmluXC8oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvdGl6ZW4vaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiVGl6ZW4ifSxlPWcuZ2V0Rmlyc3RNYXRjaCgvKD86dGl6ZW5ccz8pP2Jyb3dzZXJcLyhcZCsoXC4/Xz9cZCspKykvaSx0KXx8Zy5nZXRGaXJzdE1hdGNoKEQsdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvcXVwemlsbGEvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiUXVwWmlsbGEifSxlPWcuZ2V0Rmlyc3RNYXRjaCgvKD86cXVwemlsbGEpW1xzL10oXGQrKFwuP18/XGQrKSspL2ksdCl8fGcuZ2V0Rmlyc3RNYXRjaChELHQpO3JldHVybiBlJiYoci52ZXJzaW9uPWUpLHJ9fSx7dGVzdDpbL2ZpcmVmb3h8aWNld2Vhc2VsfGZ4aW9zL2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6IkZpcmVmb3gifSxlPWcuZ2V0Rmlyc3RNYXRjaCgvKD86ZmlyZWZveHxpY2V3ZWFzZWx8Znhpb3MpW1xzL10oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvZWxlY3Ryb24vaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiRWxlY3Ryb24ifSxlPWcuZ2V0Rmlyc3RNYXRjaCgvKD86ZWxlY3Ryb24pXC8oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvTWl1aUJyb3dzZXIvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiTWl1aSJ9LGU9Zy5nZXRGaXJzdE1hdGNoKC8oPzpNaXVpQnJvd3NlcilbXHMvXShcZCsoXC4/Xz9cZCspKykvaSx0KTtyZXR1cm4gZSYmKHIudmVyc2lvbj1lKSxyfX0se3Rlc3Q6Wy9jaHJvbWl1bS9pXSxkZXNjcmliZSh0KXtjb25zdCByPXtuYW1lOiJDaHJvbWl1bSJ9LGU9Zy5nZXRGaXJzdE1hdGNoKC8oPzpjaHJvbWl1bSlbXHMvXShcZCsoXC4/Xz9cZCspKykvaSx0KXx8Zy5nZXRGaXJzdE1hdGNoKEQsdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvY2hyb21lfGNyaW9zfGNybW8vaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiQ2hyb21lIn0sZT1nLmdldEZpcnN0TWF0Y2goLyg/OmNocm9tZXxjcmlvc3xjcm1vKVwvKFxkKyhcLj9fP1xkKykrKS9pLHQpO3JldHVybiBlJiYoci52ZXJzaW9uPWUpLHJ9fSx7dGVzdDpbL0dTQS9pXSxkZXNjcmliZSh0KXtjb25zdCByPXtuYW1lOiJHb29nbGUgU2VhcmNoIn0sZT1nLmdldEZpcnN0TWF0Y2goLyg/OkdTQSlcLyhcZCsoXC4/Xz9cZCspKykvaSx0KTtyZXR1cm4gZSYmKHIudmVyc2lvbj1lKSxyfX0se3Rlc3QodCl7Y29uc3Qgcj0hdC50ZXN0KC9saWtlIGFuZHJvaWQvaSksZT10LnRlc3QoL2FuZHJvaWQvaSk7cmV0dXJuIHImJmV9LGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6IkFuZHJvaWQgQnJvd3NlciJ9LGU9Zy5nZXRGaXJzdE1hdGNoKEQsdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvcGxheXN0YXRpb24gNC9pXSxkZXNjcmliZSh0KXtjb25zdCByPXtuYW1lOiJQbGF5U3RhdGlvbiA0In0sZT1nLmdldEZpcnN0TWF0Y2goRCx0KTtyZXR1cm4gZSYmKHIudmVyc2lvbj1lKSxyfX0se3Rlc3Q6Wy9zYWZhcml8YXBwbGV3ZWJraXQvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZToiU2FmYXJpIn0sZT1nLmdldEZpcnN0TWF0Y2goRCx0KTtyZXR1cm4gZSYmKHIudmVyc2lvbj1lKSxyfX0se3Rlc3Q6Wy8uKi9pXSxkZXNjcmliZSh0KXtjb25zdCByPS9eKC4qKVwvKC4qKSAvLGU9L14oLiopXC8oLiopWyBcdF1cKCguKikvLHM9dC5zZWFyY2goIlxcKCIpIT09LTE/ZTpyO3JldHVybntuYW1lOmcuZ2V0Rmlyc3RNYXRjaChzLHQpLHZlcnNpb246Zy5nZXRTZWNvbmRNYXRjaChzLHQpfX19XTt2YXIgb2Q9W3t0ZXN0OlsvUm9rdVwvRFZQL10sZGVzY3JpYmUodCl7Y29uc3Qgcj1nLmdldEZpcnN0TWF0Y2goL1Jva3VcL0RWUC0oXGQrXC5cZCspL2ksdCk7cmV0dXJue25hbWU6Ry5Sb2t1LHZlcnNpb246cn19fSx7dGVzdDpbL3dpbmRvd3MgcGhvbmUvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj1nLmdldEZpcnN0TWF0Y2goL3dpbmRvd3MgcGhvbmUgKD86b3MpP1xzPyhcZCsoXC5cZCspKikvaSx0KTtyZXR1cm57bmFtZTpHLldpbmRvd3NQaG9uZSx2ZXJzaW9uOnJ9fX0se3Rlc3Q6Wy93aW5kb3dzIC9pXSxkZXNjcmliZSh0KXtjb25zdCByPWcuZ2V0Rmlyc3RNYXRjaCgvV2luZG93cyAoKE5UfFhQKSggXGRcZD8uXGQpPykvaSx0KSxlPWcuZ2V0V2luZG93c1ZlcnNpb25OYW1lKHIpO3JldHVybntuYW1lOkcuV2luZG93cyx2ZXJzaW9uOnIsdmVyc2lvbk5hbWU6ZX19fSx7dGVzdDpbL01hY2ludG9zaCguKj8pIEZ4aU9TKC4qPylcLy9dLGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6Ry5pT1N9LGU9Zy5nZXRTZWNvbmRNYXRjaCgvKFZlcnNpb25cLykoXGRbXGQuXSspLyx0KTtyZXR1cm4gZSYmKHIudmVyc2lvbj1lKSxyfX0se3Rlc3Q6Wy9tYWNpbnRvc2gvaV0sZGVzY3JpYmUodCl7Y29uc3Qgcj1nLmdldEZpcnN0TWF0Y2goL21hYyBvcyB4IChcZCsoXC4/Xz9cZCspKykvaSx0KS5yZXBsYWNlKC9bX1xzXS9nLCIuIiksZT1nLmdldE1hY09TVmVyc2lvbk5hbWUociksbj17bmFtZTpHLk1hY09TLHZlcnNpb246cn07cmV0dXJuIGUmJihuLnZlcnNpb25OYW1lPWUpLG59fSx7dGVzdDpbLyhpcG9kfGlwaG9uZXxpcGFkKS9pXSxkZXNjcmliZSh0KXtjb25zdCByPWcuZ2V0Rmlyc3RNYXRjaCgvb3MgKFxkKyhbX1xzXVxkKykqKSBsaWtlIG1hYyBvcyB4L2ksdCkucmVwbGFjZSgvW19cc10vZywiLiIpO3JldHVybntuYW1lOkcuaU9TLHZlcnNpb246cn19fSx7dGVzdCh0KXtjb25zdCByPSF0LnRlc3QoL2xpa2UgYW5kcm9pZC9pKSxlPXQudGVzdCgvYW5kcm9pZC9pKTtyZXR1cm4gciYmZX0sZGVzY3JpYmUodCl7Y29uc3Qgcj1nLmdldEZpcnN0TWF0Y2goL2FuZHJvaWRbXHMvLV0oXGQrKFwuXGQrKSopL2ksdCksZT1nLmdldEFuZHJvaWRWZXJzaW9uTmFtZShyKSxuPXtuYW1lOkcuQW5kcm9pZCx2ZXJzaW9uOnJ9O3JldHVybiBlJiYobi52ZXJzaW9uTmFtZT1lKSxufX0se3Rlc3Q6Wy8od2VifGhwdylbbzBdcy9pXSxkZXNjcmliZSh0KXtjb25zdCByPWcuZ2V0Rmlyc3RNYXRjaCgvKD86d2VifGhwdylbbzBdc1wvKFxkKyhcLlxkKykqKS9pLHQpLGU9e25hbWU6Ry5XZWJPU307cmV0dXJuIHImJnIubGVuZ3RoJiYoZS52ZXJzaW9uPXIpLGV9fSx7dGVzdDpbL2JsYWNrYmVycnl8XGJiYlxkKy9pLC9yaW1cc3RhYmxldC9pXSxkZXNjcmliZSh0KXtjb25zdCByPWcuZ2V0Rmlyc3RNYXRjaCgvcmltXHN0YWJsZXRcc29zXHMoXGQrKFwuXGQrKSopL2ksdCl8fGcuZ2V0Rmlyc3RNYXRjaCgvYmxhY2tiZXJyeVxkK1wvKFxkKyhbX1xzXVxkKykqKS9pLHQpfHxnLmdldEZpcnN0TWF0Y2goL1xiYmIoXGQrKS9pLHQpO3JldHVybntuYW1lOkcuQmxhY2tCZXJyeSx2ZXJzaW9uOnJ9fX0se3Rlc3Q6Wy9iYWRhL2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9Zy5nZXRGaXJzdE1hdGNoKC9iYWRhXC8oXGQrKFwuXGQrKSopL2ksdCk7cmV0dXJue25hbWU6Ry5CYWRhLHZlcnNpb246cn19fSx7dGVzdDpbL3RpemVuL2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9Zy5nZXRGaXJzdE1hdGNoKC90aXplblsvXHNdKFxkKyhcLlxkKykqKS9pLHQpO3JldHVybntuYW1lOkcuVGl6ZW4sdmVyc2lvbjpyfX19LHt0ZXN0OlsvbGludXgvaV0sZGVzY3JpYmUoKXtyZXR1cm57bmFtZTpHLkxpbnV4fX19LHt0ZXN0OlsvQ3JPUy9dLGRlc2NyaWJlKCl7cmV0dXJue25hbWU6Ry5DaHJvbWVPU319fSx7dGVzdDpbL1BsYXlTdGF0aW9uIDQvXSxkZXNjcmliZSh0KXtjb25zdCByPWcuZ2V0Rmlyc3RNYXRjaCgvUGxheVN0YXRpb24gNFsvXHNdKFxkKyhcLlxkKykqKS9pLHQpO3JldHVybntuYW1lOkcuUGxheVN0YXRpb240LHZlcnNpb246cn19fV0sY2Q9W3t0ZXN0OlsvZ29vZ2xlYm90L2ldLGRlc2NyaWJlKCl7cmV0dXJue3R5cGU6ImJvdCIsdmVuZG9yOiJHb29nbGUifX19LHt0ZXN0OlsvaHVhd2VpL2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9Zy5nZXRGaXJzdE1hdGNoKC8oY2FuLWwwMSkvaSx0KSYmIk5vdmEiLGU9e3R5cGU6VS5tb2JpbGUsdmVuZG9yOiJIdWF3ZWkifTtyZXR1cm4gciYmKGUubW9kZWw9ciksZX19LHt0ZXN0OlsvbmV4dXNccyooPzo3fDh8OXwxMCkuKi9pXSxkZXNjcmliZSgpe3JldHVybnt0eXBlOlUudGFibGV0LHZlbmRvcjoiTmV4dXMifX19LHt0ZXN0OlsvaXBhZC9pXSxkZXNjcmliZSgpe3JldHVybnt0eXBlOlUudGFibGV0LHZlbmRvcjoiQXBwbGUiLG1vZGVsOiJpUGFkIn19fSx7dGVzdDpbL01hY2ludG9zaCguKj8pIEZ4aU9TKC4qPylcLy9dLGRlc2NyaWJlKCl7cmV0dXJue3R5cGU6VS50YWJsZXQsdmVuZG9yOiJBcHBsZSIsbW9kZWw6ImlQYWQifX19LHt0ZXN0Olsva2Z0dCBidWlsZC9pXSxkZXNjcmliZSgpe3JldHVybnt0eXBlOlUudGFibGV0LHZlbmRvcjoiQW1hem9uIixtb2RlbDoiS2luZGxlIEZpcmUgSEQgNyJ9fX0se3Rlc3Q6Wy9zaWxrL2ldLGRlc2NyaWJlKCl7cmV0dXJue3R5cGU6VS50YWJsZXQsdmVuZG9yOiJBbWF6b24ifX19LHt0ZXN0OlsvdGFibGV0KD8hIHBjKS9pXSxkZXNjcmliZSgpe3JldHVybnt0eXBlOlUudGFibGV0fX19LHt0ZXN0KHQpe2NvbnN0IHI9dC50ZXN0KC9pcG9kfGlwaG9uZS9pKSxlPXQudGVzdCgvbGlrZSAoaXBvZHxpcGhvbmUpL2kpO3JldHVybiByJiYhZX0sZGVzY3JpYmUodCl7Y29uc3Qgcj1nLmdldEZpcnN0TWF0Y2goLyhpcG9kfGlwaG9uZSkvaSx0KTtyZXR1cm57dHlwZTpVLm1vYmlsZSx2ZW5kb3I6IkFwcGxlIixtb2RlbDpyfX19LHt0ZXN0OlsvbmV4dXNccypbMC02XS4qL2ksL2dhbGF4eSBuZXh1cy9pXSxkZXNjcmliZSgpe3JldHVybnt0eXBlOlUubW9iaWxlLHZlbmRvcjoiTmV4dXMifX19LHt0ZXN0OlsvW14tXW1vYmkvaV0sZGVzY3JpYmUoKXtyZXR1cm57dHlwZTpVLm1vYmlsZX19fSx7dGVzdCh0KXtyZXR1cm4gdC5nZXRCcm93c2VyTmFtZSghMCk9PT0iYmxhY2tiZXJyeSJ9LGRlc2NyaWJlKCl7cmV0dXJue3R5cGU6VS5tb2JpbGUsdmVuZG9yOiJCbGFja0JlcnJ5In19fSx7dGVzdCh0KXtyZXR1cm4gdC5nZXRCcm93c2VyTmFtZSghMCk9PT0iYmFkYSJ9LGRlc2NyaWJlKCl7cmV0dXJue3R5cGU6VS5tb2JpbGV9fX0se3Rlc3QodCl7cmV0dXJuIHQuZ2V0QnJvd3Nlck5hbWUoKT09PSJ3aW5kb3dzIHBob25lIn0sZGVzY3JpYmUoKXtyZXR1cm57dHlwZTpVLm1vYmlsZSx2ZW5kb3I6Ik1pY3Jvc29mdCJ9fX0se3Rlc3QodCl7Y29uc3Qgcj1OdW1iZXIoU3RyaW5nKHQuZ2V0T1NWZXJzaW9uKCkpLnNwbGl0KCIuIilbMF0pO3JldHVybiB0LmdldE9TTmFtZSghMCk9PT0iYW5kcm9pZCImJnI+PTN9LGRlc2NyaWJlKCl7cmV0dXJue3R5cGU6VS50YWJsZXR9fX0se3Rlc3QodCl7cmV0dXJuIHQuZ2V0T1NOYW1lKCEwKT09PSJhbmRyb2lkIn0sZGVzY3JpYmUoKXtyZXR1cm57dHlwZTpVLm1vYmlsZX19fSx7dGVzdCh0KXtyZXR1cm4gdC5nZXRPU05hbWUoITApPT09Im1hY29zIn0sZGVzY3JpYmUoKXtyZXR1cm57dHlwZTpVLmRlc2t0b3AsdmVuZG9yOiJBcHBsZSJ9fX0se3Rlc3QodCl7cmV0dXJuIHQuZ2V0T1NOYW1lKCEwKT09PSJ3aW5kb3dzIn0sZGVzY3JpYmUoKXtyZXR1cm57dHlwZTpVLmRlc2t0b3B9fX0se3Rlc3QodCl7cmV0dXJuIHQuZ2V0T1NOYW1lKCEwKT09PSJsaW51eCJ9LGRlc2NyaWJlKCl7cmV0dXJue3R5cGU6VS5kZXNrdG9wfX19LHt0ZXN0KHQpe3JldHVybiB0LmdldE9TTmFtZSghMCk9PT0icGxheXN0YXRpb24gNCJ9LGRlc2NyaWJlKCl7cmV0dXJue3R5cGU6VS50dn19fSx7dGVzdCh0KXtyZXR1cm4gdC5nZXRPU05hbWUoITApPT09InJva3UifSxkZXNjcmliZSgpe3JldHVybnt0eXBlOlUudHZ9fX1dLGRkPVt7dGVzdCh0KXtyZXR1cm4gdC5nZXRCcm93c2VyTmFtZSghMCk9PT0ibWljcm9zb2Z0IGVkZ2UifSxkZXNjcmliZSh0KXtpZigvXHNlZGdcLy9pLnRlc3QodCkpcmV0dXJue25hbWU6b2UuQmxpbmt9O2NvbnN0IGU9Zy5nZXRGaXJzdE1hdGNoKC9lZGdlXC8oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJue25hbWU6b2UuRWRnZUhUTUwsdmVyc2lvbjplfX19LHt0ZXN0OlsvdHJpZGVudC9pXSxkZXNjcmliZSh0KXtjb25zdCByPXtuYW1lOm9lLlRyaWRlbnR9LGU9Zy5nZXRGaXJzdE1hdGNoKC90cmlkZW50XC8oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0KHQpe3JldHVybiB0LnRlc3QoL3ByZXN0by9pKX0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZTpvZS5QcmVzdG99LGU9Zy5nZXRGaXJzdE1hdGNoKC9wcmVzdG9cLyhcZCsoXC4/Xz9cZCspKykvaSx0KTtyZXR1cm4gZSYmKHIudmVyc2lvbj1lKSxyfX0se3Rlc3QodCl7Y29uc3Qgcj10LnRlc3QoL2dlY2tvL2kpLGU9dC50ZXN0KC9saWtlIGdlY2tvL2kpO3JldHVybiByJiYhZX0sZGVzY3JpYmUodCl7Y29uc3Qgcj17bmFtZTpvZS5HZWNrb30sZT1nLmdldEZpcnN0TWF0Y2goL2dlY2tvXC8oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19LHt0ZXN0OlsvKGFwcGxlKT93ZWJraXRcLzUzN1wuMzYvaV0sZGVzY3JpYmUoKXtyZXR1cm57bmFtZTpvZS5CbGlua319fSx7dGVzdDpbLyhhcHBsZSk/d2Via2l0L2ldLGRlc2NyaWJlKHQpe2NvbnN0IHI9e25hbWU6b2UuV2ViS2l0fSxlPWcuZ2V0Rmlyc3RNYXRjaCgvd2Via2l0XC8oXGQrKFwuP18/XGQrKSspL2ksdCk7cmV0dXJuIGUmJihyLnZlcnNpb249ZSkscn19XTtjbGFzcyB4bntjb25zdHJ1Y3RvcihyLGU9ITEpe2lmKHI9PW51bGx8fHI9PT0iIil0aHJvdyBuZXcgRXJyb3IoIlVzZXJBZ2VudCBwYXJhbWV0ZXIgY2FuJ3QgYmUgZW1wdHkiKTt0aGlzLl91YT1yLHRoaXMucGFyc2VkUmVzdWx0PXt9LGUhPT0hMCYmdGhpcy5wYXJzZSgpfWdldFVBKCl7cmV0dXJuIHRoaXMuX3VhfXRlc3Qocil7cmV0dXJuIHIudGVzdCh0aGlzLl91YSl9cGFyc2VCcm93c2VyKCl7dGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcj17fTtjb25zdCByPWcuZmluZChhZCxlPT57aWYodHlwZW9mIGUudGVzdD09ImZ1bmN0aW9uIilyZXR1cm4gZS50ZXN0KHRoaXMpO2lmKGUudGVzdCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiBlLnRlc3Quc29tZShuPT50aGlzLnRlc3QobikpO3Rocm93IG5ldyBFcnJvcigiQnJvd3NlcidzIHRlc3QgZnVuY3Rpb24gaXMgbm90IHZhbGlkIil9KTtyZXR1cm4gciYmKHRoaXMucGFyc2VkUmVzdWx0LmJyb3dzZXI9ci5kZXNjcmliZSh0aGlzLmdldFVBKCkpKSx0aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyfWdldEJyb3dzZXIoKXtyZXR1cm4gdGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcj90aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyOnRoaXMucGFyc2VCcm93c2VyKCl9Z2V0QnJvd3Nlck5hbWUocil7cmV0dXJuIHI/U3RyaW5nKHRoaXMuZ2V0QnJvd3NlcigpLm5hbWUpLnRvTG93ZXJDYXNlKCl8fCIiOnRoaXMuZ2V0QnJvd3NlcigpLm5hbWV8fCIifWdldEJyb3dzZXJWZXJzaW9uKCl7cmV0dXJuIHRoaXMuZ2V0QnJvd3NlcigpLnZlcnNpb259Z2V0T1MoKXtyZXR1cm4gdGhpcy5wYXJzZWRSZXN1bHQub3M/dGhpcy5wYXJzZWRSZXN1bHQub3M6dGhpcy5wYXJzZU9TKCl9cGFyc2VPUygpe3RoaXMucGFyc2VkUmVzdWx0Lm9zPXt9O2NvbnN0IHI9Zy5maW5kKG9kLGU9PntpZih0eXBlb2YgZS50ZXN0PT0iZnVuY3Rpb24iKXJldHVybiBlLnRlc3QodGhpcyk7aWYoZS50ZXN0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIGUudGVzdC5zb21lKG49PnRoaXMudGVzdChuKSk7dGhyb3cgbmV3IEVycm9yKCJCcm93c2VyJ3MgdGVzdCBmdW5jdGlvbiBpcyBub3QgdmFsaWQiKX0pO3JldHVybiByJiYodGhpcy5wYXJzZWRSZXN1bHQub3M9ci5kZXNjcmliZSh0aGlzLmdldFVBKCkpKSx0aGlzLnBhcnNlZFJlc3VsdC5vc31nZXRPU05hbWUocil7Y29uc3R7bmFtZTplfT10aGlzLmdldE9TKCk7cmV0dXJuIHI/U3RyaW5nKGUpLnRvTG93ZXJDYXNlKCl8fCIiOmV8fCIifWdldE9TVmVyc2lvbigpe3JldHVybiB0aGlzLmdldE9TKCkudmVyc2lvbn1nZXRQbGF0Zm9ybSgpe3JldHVybiB0aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybT90aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybTp0aGlzLnBhcnNlUGxhdGZvcm0oKX1nZXRQbGF0Zm9ybVR5cGUocj0hMSl7Y29uc3R7dHlwZTplfT10aGlzLmdldFBsYXRmb3JtKCk7cmV0dXJuIHI/U3RyaW5nKGUpLnRvTG93ZXJDYXNlKCl8fCIiOmV8fCIifXBhcnNlUGxhdGZvcm0oKXt0aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybT17fTtjb25zdCByPWcuZmluZChjZCxlPT57aWYodHlwZW9mIGUudGVzdD09ImZ1bmN0aW9uIilyZXR1cm4gZS50ZXN0KHRoaXMpO2lmKGUudGVzdCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiBlLnRlc3Quc29tZShuPT50aGlzLnRlc3QobikpO3Rocm93IG5ldyBFcnJvcigiQnJvd3NlcidzIHRlc3QgZnVuY3Rpb24gaXMgbm90IHZhbGlkIil9KTtyZXR1cm4gciYmKHRoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtPXIuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm19Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMucGFyc2VkUmVzdWx0LmVuZ2luZT90aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmU6dGhpcy5wYXJzZUVuZ2luZSgpfWdldEVuZ2luZU5hbWUocil7cmV0dXJuIHI/U3RyaW5nKHRoaXMuZ2V0RW5naW5lKCkubmFtZSkudG9Mb3dlckNhc2UoKXx8IiI6dGhpcy5nZXRFbmdpbmUoKS5uYW1lfHwiIn1wYXJzZUVuZ2luZSgpe3RoaXMucGFyc2VkUmVzdWx0LmVuZ2luZT17fTtjb25zdCByPWcuZmluZChkZCxlPT57aWYodHlwZW9mIGUudGVzdD09ImZ1bmN0aW9uIilyZXR1cm4gZS50ZXN0KHRoaXMpO2lmKGUudGVzdCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiBlLnRlc3Quc29tZShuPT50aGlzLnRlc3QobikpO3Rocm93IG5ldyBFcnJvcigiQnJvd3NlcidzIHRlc3QgZnVuY3Rpb24gaXMgbm90IHZhbGlkIil9KTtyZXR1cm4gciYmKHRoaXMucGFyc2VkUmVzdWx0LmVuZ2luZT1yLmRlc2NyaWJlKHRoaXMuZ2V0VUEoKSkpLHRoaXMucGFyc2VkUmVzdWx0LmVuZ2luZX1wYXJzZSgpe3JldHVybiB0aGlzLnBhcnNlQnJvd3NlcigpLHRoaXMucGFyc2VPUygpLHRoaXMucGFyc2VQbGF0Zm9ybSgpLHRoaXMucGFyc2VFbmdpbmUoKSx0aGlzfWdldFJlc3VsdCgpe3JldHVybiBnLmFzc2lnbih7fSx0aGlzLnBhcnNlZFJlc3VsdCl9c2F0aXNmaWVzKHIpe2NvbnN0IGU9e307bGV0IG49MDtjb25zdCBzPXt9O2xldCBpPTA7aWYoT2JqZWN0LmtleXMocikuZm9yRWFjaChkPT57Y29uc3Qgbz1yW2RdO3R5cGVvZiBvPT0ic3RyaW5nIj8oc1tkXT1vLGkrPTEpOnR5cGVvZiBvPT0ib2JqZWN0IiYmKGVbZF09byxuKz0xKX0pLG4+MCl7Y29uc3QgZD1PYmplY3Qua2V5cyhlKSxvPWcuZmluZChkLG09PnRoaXMuaXNPUyhtKSk7aWYobyl7Y29uc3QgbT10aGlzLnNhdGlzZmllcyhlW29dKTtpZihtIT09dm9pZCAwKXJldHVybiBtfWNvbnN0IGw9Zy5maW5kKGQsbT0+dGhpcy5pc1BsYXRmb3JtKG0pKTtpZihsKXtjb25zdCBtPXRoaXMuc2F0aXNmaWVzKGVbbF0pO2lmKG0hPT12b2lkIDApcmV0dXJuIG19fWlmKGk+MCl7Y29uc3QgZD1PYmplY3Qua2V5cyhzKSxvPWcuZmluZChkLGw9PnRoaXMuaXNCcm93c2VyKGwsITApKTtpZihvIT09dm9pZCAwKXJldHVybiB0aGlzLmNvbXBhcmVWZXJzaW9uKHNbb10pfX1pc0Jyb3dzZXIocixlPSExKXtjb25zdCBuPXRoaXMuZ2V0QnJvd3Nlck5hbWUoKS50b0xvd2VyQ2FzZSgpO2xldCBzPXIudG9Mb3dlckNhc2UoKTtjb25zdCBpPWcuZ2V0QnJvd3NlclR5cGVCeUFsaWFzKHMpO3JldHVybiBlJiZpJiYocz1pLnRvTG93ZXJDYXNlKCkpLHM9PT1ufWNvbXBhcmVWZXJzaW9uKHIpe2xldCBlPVswXSxuPXIscz0hMTtjb25zdCBpPXRoaXMuZ2V0QnJvd3NlclZlcnNpb24oKTtpZih0eXBlb2YgaT09InN0cmluZyIpcmV0dXJuIHJbMF09PT0iPiJ8fHJbMF09PT0iPCI/KG49ci5zdWJzdHIoMSksclsxXT09PSI9Ij8ocz0hMCxuPXIuc3Vic3RyKDIpKTplPVtdLHJbMF09PT0iPiI/ZS5wdXNoKDEpOmUucHVzaCgtMSkpOnJbMF09PT0iPSI/bj1yLnN1YnN0cigxKTpyWzBdPT09In4iJiYocz0hMCxuPXIuc3Vic3RyKDEpKSxlLmluZGV4T2YoZy5jb21wYXJlVmVyc2lvbnMoaSxuLHMpKT4tMX1pc09TKHIpe3JldHVybiB0aGlzLmdldE9TTmFtZSghMCk9PT1TdHJpbmcocikudG9Mb3dlckNhc2UoKX1pc1BsYXRmb3JtKHIpe3JldHVybiB0aGlzLmdldFBsYXRmb3JtVHlwZSghMCk9PT1TdHJpbmcocikudG9Mb3dlckNhc2UoKX1pc0VuZ2luZShyKXtyZXR1cm4gdGhpcy5nZXRFbmdpbmVOYW1lKCEwKT09PVN0cmluZyhyKS50b0xvd2VyQ2FzZSgpfWlzKHIsZT0hMSl7cmV0dXJuIHRoaXMuaXNCcm93c2VyKHIsZSl8fHRoaXMuaXNPUyhyKXx8dGhpcy5pc1BsYXRmb3JtKHIpfXNvbWUocj1bXSl7cmV0dXJuIHIuc29tZShlPT50aGlzLmlzKGUpKX19LyohCiAqIEJvd3NlciAtIGEgYnJvd3NlciBkZXRlY3RvcgogKiBodHRwczovL2dpdGh1Yi5jb20vbGFuY2VkaWtzb24vYm93c2VyCiAqIE1JVCBMaWNlbnNlIHwgKGMpIER1c3RpbiBEaWF6IDIwMTItMjAxNQogKiBNSVQgTGljZW5zZSB8IChjKSBEZW5pcyBEZW1jaGVua28gMjAxNS0yMDE5CiAqL2NsYXNzIGxke3N0YXRpYyBnZXRQYXJzZXIocixlPSExKXtpZih0eXBlb2YgciE9InN0cmluZyIpdGhyb3cgbmV3IEVycm9yKCJVc2VyQWdlbnQgc2hvdWxkIGJlIGEgc3RyaW5nIik7cmV0dXJuIG5ldyB4bihyLGUpfXN0YXRpYyBwYXJzZShyKXtyZXR1cm4gbmV3IHhuKHIpLmdldFJlc3VsdCgpfXN0YXRpYyBnZXQgQlJPV1NFUl9NQVAoKXtyZXR1cm4gQm59c3RhdGljIGdldCBFTkdJTkVfTUFQKCl7cmV0dXJuIG9lfXN0YXRpYyBnZXQgT1NfTUFQKCl7cmV0dXJuIEd9c3RhdGljIGdldCBQTEFURk9STVNfTUFQKCl7cmV0dXJuIFV9fWNvbnN0IE5lPSJjaHJvbWUiLGpuPSJvcGVyYSIsVW49ImZpcmVmb3giLEhuPSJpZXhwbG9yZXIiLEtuPSJzYWZhcmkiLCRuPSJud2pzIixXbj0iZWxlY3Ryb24iLHpuPSJyZWFjdC1uYXRpdmUiLFl0PSJ1bmtub3duIixDdD17Q2hyb21lOk5lLENocm9taXVtOk5lLE9wZXJhOmpuLEZpcmVmb3g6VW4sIkludGVybmV0IEV4cGxvcmVyIjpIbixTYWZhcmk6S259O2Z1bmN0aW9uIHVkKCl7Y29uc3R7dXNlckFnZW50OnR9PW5hdmlnYXRvcixyPXtuYW1lOll0LHZlcnNpb246dm9pZCAwfTtpZih0Lm1hdGNoKC9DaHJvbWUvKSYmIXQubWF0Y2goL0VkZ2UvKSlpZih0Lm1hdGNoKC9FZGcoQT8pLykpe2NvbnN0IGU9dC5tYXRjaCgvQ2hyb21lXC8oW1xkLl0rKS8pWzFdO051bWJlci5wYXJzZUludChlLDEwKT43MiYmKHIubmFtZT1OZSxyLnZlcnNpb249ZSl9ZWxzZSByLm5hbWU9TmUsci52ZXJzaW9uPXQubWF0Y2goL0Nocm9tZVwvKFtcZC5dKykvKVsxXTtyZXR1cm4gcn1mdW5jdGlvbiBwZCgpe2NvbnN0e3VzZXJBZ2VudDp0fT1uYXZpZ2F0b3I7aWYodC5tYXRjaCgvRWxlY3Ryb24vKSl7Y29uc3Qgcj10Lm1hdGNoKC9FbGVjdHJvblwvKFtcZC5dKykvKVsxXTtyZXR1cm57bmFtZTpXbix2ZXJzaW9uOnJ9fXJldHVybiBudWxsfWZ1bmN0aW9uIGhkKCl7Y29uc3R7dXNlckFnZW50OnR9PW5hdmlnYXRvcjtpZih0Lm1hdGNoKC9KaXRzaU1lZXROVy8pKXtjb25zdCByPXQubWF0Y2goL0ppdHNpTWVldE5XXC8oW1xkLl0rKS8pWzFdO3JldHVybntuYW1lOiRuLHZlcnNpb246cn19fWZ1bmN0aW9uIGZkKCl7Y29uc3QgdD1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9cYihyZWFjdFsgXHRfLV0qbmF0aXZlKSg/OlwvKFxTKykpPy9pKTtsZXQgcjtpZih0fHxuYXZpZ2F0b3IucHJvZHVjdD09PSJSZWFjdE5hdGl2ZSIpcmV0dXJuIHQmJnQubGVuZ3RoPjImJih0WzFdLHI9dFsyXSkscnx8KHI9InVua25vd24iKSx7bmFtZTp6bix2ZXJzaW9uOnJ9fWZ1bmN0aW9uIG1kKHQpe2xldCByO2NvbnN0IGU9W2ZkLHBkLGhkXTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrPTEpaWYocj1lW3NdKCkscilyZXR1cm4gcjtjb25zdCBuPXQuZ2V0QnJvd3Nlck5hbWUoKTtyZXR1cm4gbiBpbiBDdD97bmFtZTpDdFtuXSx2ZXJzaW9uOnQuZ2V0QnJvd3NlclZlcnNpb24oKX06KHI9dWQoKSxyfHx7bmFtZTpZdCx2ZXJzaW9uOnZvaWQgMH0pfWNsYXNzIGdke2NvbnN0cnVjdG9yKCl7cCh0aGlzLCJfYm93c2VyIik7cCh0aGlzLCJfbmFtZSIpO3AodGhpcywiX3ZlcnNpb24iKTtwKHRoaXMsImdldERldmljZUluZm8iLCgpPT4oe2lzTW9iaWxlOnRoaXMuaXNNb2JpbGUoKSxicm93c2VyTmFtZTp0aGlzLl9ib3dzZXIuZ2V0QnJvd3Nlck5hbWUoKSxvc05hbWU6dGhpcy5fYm93c2VyLmdldE9TTmFtZSgpLGJyb3dzZXJWZXJzaW9uOnRoaXMuX2Jvd3Nlci5nZXRCcm93c2VyVmVyc2lvbigpLG9zVmVyc2lvbk5hbWU6dGhpcy5fYm93c2VyLmdldE9TVmVyc2lvbigpLGVuZ2luZU5hbWU6dGhpcy5fYm93c2VyLmdldEVuZ2luZU5hbWUoKX0pKX1pbml0KHIpe2xldCBlLG47aWYodGhpcy5fYm93c2VyPWxkLmdldFBhcnNlcihuYXZpZ2F0b3IudXNlckFnZW50KSx0eXBlb2Ygcj09InVuZGVmaW5lZCIpe2NvbnN0IHM9bWQodGhpcy5fYm93c2VyKTtlPXMubmFtZSxuPXMudmVyc2lvbn1lbHNlIHIubmFtZSBpbiBDdD8oZT1DdFtyLm5hbWVdLG49ci52ZXJzaW9uKTooZT1ZdCxuPXZvaWQgMCk7dGhpcy5fbmFtZT1lLHRoaXMuX3ZlcnNpb249bn1nZXROYW1lKCl7cmV0dXJuIHRoaXMuX25hbWV9aXNDaHJvbWUoKXtyZXR1cm4gdGhpcy5fbmFtZT09PU5lfWlzT3BlcmEoKXtyZXR1cm4gdGhpcy5fbmFtZT09PWpufWlzRmlyZWZveCgpe3JldHVybiB0aGlzLl9uYW1lPT09VW59aXNJRXhwbG9yZXIoKXtyZXR1cm4gdGhpcy5fbmFtZT09PUhufWlzU2FmYXJpKCl7cmV0dXJuIHRoaXMuX25hbWU9PT1Lbn1pc05XSlMoKXtyZXR1cm4gdGhpcy5fbmFtZT09PSRufWlzRWxlY3Ryb24oKXtyZXR1cm4gdGhpcy5fbmFtZT09PVdufWlzUmVhY3ROYXRpdmUoKXtyZXR1cm4gdGhpcy5fbmFtZT09PXpufHxuYXZpZ2F0b3IuaXNSZWFjdE5hdGl2ZT09PSEwfWdldFZlcnNpb24oKXtyZXR1cm4gdGhpcy5fdmVyc2lvbn1pc01vYmlsZSgpe3JldHVybiB0aGlzLl9ib3dzZXIuZ2V0UGxhdGZvcm1UeXBlKCk9PT0ibW9iaWxlIn1fY2hlY2tDb25kaXRpb24ocil7aWYodGhpcy5fdmVyc2lvbilyZXR1cm4gdGhpcy5fYm93c2VyLnNhdGlzZmllcyhyKX1pc1ZlcnNpb25HcmVhdGVyVGhhbihyKXtyZXR1cm4gdGhpcy5fY2hlY2tDb25kaXRpb24oe1t0aGlzLl9uYW1lXTpgPiR7cn1gfSl9aXNWZXJzaW9uTGVzc1RoYW4ocil7cmV0dXJuIHRoaXMuX2NoZWNrQ29uZGl0aW9uKHtbdGhpcy5fbmFtZV06YDwke3J9YH0pfWlzVmVyc2lvbkVxdWFsVG8ocil7cmV0dXJuIHRoaXMuX2NoZWNrQ29uZGl0aW9uKHtbdGhpcy5fbmFtZV06YH4ke3J9YH0pfX1jbGFzcyBTZCBleHRlbmRzIGdke2RvZXNWaWRlb011dGVCeVN0cmVhbVJlbW92ZSgpe3JldHVybiB0aGlzLmlzQ2hyb21pdW1CYXNlZCgpfHx0aGlzLmlzV2ViS2l0QmFzZWQoKX1zdXBwb3J0c1AyUCgpe3JldHVybiF0aGlzLnVzZXNVbmlmaWVkUGxhbigpfWlzQ2hyb21pdW1CYXNlZCgpe3JldHVybiB0aGlzLmlzQ2hyb21lKCl8fHRoaXMuaXNFbGVjdHJvbigpfHx0aGlzLmlzTldKUygpfHx0aGlzLmlzT3BlcmEoKX1pc1dlYktpdEJhc2VkKCl7cmV0dXJuIHRoaXMuX2Jvd3Nlci5pc0VuZ2luZSgid2Via2l0IikmJnR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzIT0idW5kZWZpbmVkIiYmdHlwZW9mIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhIT0idW5kZWZpbmVkIiYmdHlwZW9mIHdpbmRvdy5SVENSdHBUcmFuc2NlaXZlciE9InVuZGVmaW5lZCImJk9iamVjdC5rZXlzKFJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZSkuaW5kZXhPZigiY3VycmVudERpcmVjdGlvbiIpPi0xfWlzU3VwcG9ydGVkKCl7cmV0dXJuIHR5cGVvZiBSVENQZWVyQ29ubmVjdGlvbiE9InVuZGVmaW5lZCJ9aXNVc2VySW50ZXJhY3Rpb25SZXF1aXJlZEZvclVubXV0ZSgpe3JldHVybiB0aGlzLmlzRmlyZWZveCgpJiZ0aGlzLmlzVmVyc2lvbkxlc3NUaGFuKCI2OCIpfXN1cHBvcnRzVmlkZW9NdXRlT25Db25uSW50ZXJydXB0ZWQoKXtyZXR1cm4gdGhpcy5pc0Nocm9taXVtQmFzZWQoKXx8dGhpcy5pc1JlYWN0TmF0aXZlKCl8fHRoaXMuaXNXZWJLaXRCYXNlZCgpfXN1cHBvcnRzQmFuZHdpZHRoU3RhdGlzdGljcygpe3JldHVybiF0aGlzLmlzRmlyZWZveCgpJiYhdGhpcy5pc1dlYktpdEJhc2VkKCl9c3VwcG9ydHNDb2RlY1ByZWZlcmVuY2VzKCl7cmV0dXJuIHRoaXMudXNlc1VuaWZpZWRQbGFuKCkmJnR5cGVvZiB3aW5kb3cuUlRDUnRwVHJhbnNjZWl2ZXIhPSJ1bmRlZmluZWQiJiZPYmplY3Qua2V5cyh3aW5kb3cuUlRDUnRwVHJhbnNjZWl2ZXIucHJvdG90eXBlKS5pbmRleE9mKCJzZXRDb2RlY1ByZWZlcmVuY2VzIik+LTEmJk9iamVjdC5rZXlzKFJUQ1J0cFNlbmRlci5wcm90b3R5cGUpLmluZGV4T2YoImdldENhcGFiaWxpdGllcyIpPi0xJiYhdGhpcy5pc1dlYktpdEJhc2VkKCl9c3VwcG9ydHNEZXZpY2VDaGFuZ2VFdmVudCgpe3JldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZ0eXBlb2YgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5vbmRldmljZWNoYW5nZSE9InVuZGVmaW5lZCImJnR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIhPSJ1bmRlZmluZWQifXN1cHBvcnRzTG9jYWxDYW5kaWRhdGVSdHRTdGF0aXN0aWNzKCl7cmV0dXJuIHRoaXMuaXNDaHJvbWl1bUJhc2VkKCl8fHRoaXMuaXNSZWFjdE5hdGl2ZSgpfHx0aGlzLmlzV2ViS2l0QmFzZWQoKX1zdXBwb3J0c1BlcmZvcm1hbmNlT2JzZXJ2ZXIoKXtyZXR1cm4gdHlwZW9mIHdpbmRvdy5QZXJmb3JtYW5jZU9ic2VydmVyIT0idW5kZWZpbmVkIiYmUGVyZm9ybWFuY2VPYnNlcnZlci5zdXBwb3J0ZWRFbnRyeVR5cGVzLmluZGV4T2YoImxvbmd0YXNrIik+LTF9c3VwcG9ydHNSZWNlaXZlclN0YXRzKCl7cmV0dXJuIHR5cGVvZiB3aW5kb3cuUlRDUnRwUmVjZWl2ZXIhPSJ1bmRlZmluZWQiJiZPYmplY3Qua2V5cyhSVENSdHBSZWNlaXZlci5wcm90b3R5cGUpLmluZGV4T2YoImdldFN5bmNocm9uaXphdGlvblNvdXJjZXMiKT4tMX1zdXBwb3J0c1JUVFN0YXRpc3RpY3MoKXtyZXR1cm4hdGhpcy5pc0ZpcmVmb3goKX11c2VzUGxhbkIoKXtyZXR1cm4hdGhpcy51c2VzVW5pZmllZFBsYW4oKX11c2VzU2RwTXVuZ2luZ0ZvclNpbXVsY2FzdCgpe3JldHVybiB0aGlzLmlzQ2hyb21pdW1CYXNlZCgpfHx0aGlzLmlzUmVhY3ROYXRpdmUoKXx8dGhpcy5pc1dlYktpdEJhc2VkKCl9dXNlc1VuaWZpZWRQbGFuKCl7cmV0dXJuISEodGhpcy5pc0ZpcmVmb3goKXx8dGhpcy5pc1dlYktpdEJhc2VkKCkpfXVzZXNOZXdHdW1GbG93KCl7cmV0dXJuISEodGhpcy5pc0Nocm9taXVtQmFzZWQoKXx8dGhpcy5pc0ZpcmVmb3goKXx8dGhpcy5pc1dlYktpdEJhc2VkKCkpfXVzZXNBZGFwdGVyKCl7cmV0dXJuIHRoaXMudXNlc05ld0d1bUZsb3coKX11c2VzUmlkc0ZvclNpbXVsY2FzdCgpe3JldHVybiExfXN1cHBvcnRzR2V0RGlzcGxheU1lZGlhKCl7cmV0dXJuIHR5cGVvZiBuYXZpZ2F0b3IuZ2V0RGlzcGxheU1lZGlhIT0idW5kZWZpbmVkInx8dHlwZW9mIG5hdmlnYXRvci5tZWRpYURldmljZXMhPSJ1bmRlZmluZWQiJiZ0eXBlb2YgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEhPSJ1bmRlZmluZWQifXN1cHBvcnRzSW5zZXJ0YWJsZVN0cmVhbXMoKXtpZighKHR5cGVvZiB3aW5kb3cuUlRDUnRwU2VuZGVyIT0idW5kZWZpbmVkIiYmKHdpbmRvdy5SVENSdHBTZW5kZXIucHJvdG90eXBlLmNyZWF0ZUVuY29kZWRTdHJlYW1zfHx3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5jcmVhdGVFbmNvZGVkVmlkZW9TdHJlYW1zKSkpcmV0dXJuITE7Y29uc3Qgcj1uZXcgUmVhZGFibGVTdHJlYW07dHJ5e3JldHVybiB3aW5kb3cucG9zdE1lc3NhZ2UociwiKiIsW3JdKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19c3VwcG9ydHNBdWRpb1JlZCgpe3JldHVybiBCb29sZWFuKHdpbmRvdy5SVENSdHBTZW5kZXImJndpbmRvdy5SVENSdHBTZW5kZXIuZ2V0Q2FwYWJpbGl0aWVzJiZ3aW5kb3cuUlRDUnRwU2VuZGVyLmdldENhcGFiaWxpdGllcygiYXVkaW8iKS5jb2RlY3Muc29tZShyPT5yLm1pbWVUeXBlPT09ImF1ZGlvL3JlZCIpJiZ3aW5kb3cuUlRDUnRwUmVjZWl2ZXImJndpbmRvdy5SVENSdHBSZWNlaXZlci5nZXRDYXBhYmlsaXRpZXMmJndpbmRvdy5SVENSdHBSZWNlaXZlci5nZXRDYXBhYmlsaXRpZXMoImF1ZGlvIikuY29kZWNzLnNvbWUocj0+ci5taW1lVHlwZT09PSJhdWRpby9yZWQiKSl9c3VwcG9ydHNTZHBTZW1hbnRpY3MoKXtyZXR1cm4gdGhpcy5pc0Nocm9taXVtQmFzZWQoKX1fZ2V0Q2hyb21pdW1CYXNlZFZlcnNpb24oKXtpZih0aGlzLmlzQ2hyb21pdW1CYXNlZCgpKXtpZih0aGlzLmlzTldKUygpKXJldHVybiBOdW1iZXIucGFyc2VJbnQocHJvY2Vzcy52ZXJzaW9ucy5jaHJvbWl1bSwxMCk7Y29uc3Qgcj1uYXZpZ2F0b3IudXNlckFnZW50O2lmKHIubWF0Y2goL0Nocm9tZS8pKXJldHVybiBOdW1iZXIucGFyc2VJbnQoci5tYXRjaCgvQ2hyb21lXC8oW1xkLl0rKS8pWzFdLDEwKX1yZXR1cm4tMX1pc0lPU01vYmlsZSgpe3JldHVybiB0aGlzLmlzTW9iaWxlJiZ0aGlzLl9ib3dzZXIuZ2V0T1NOYW1lKCk9PT0iaU9TIn19Y29uc3QgX2Q9bmV3IFNkO2Z1bmN0aW9uIHZkKHtzZXJ2aWNlUHJlZml4OnQsYmFzZVVSSTpyfSl7cmV0dXJuYCR7dH0uJHtyfWB9Y29uc3QgbnI9Y2xhc3N7Y29uc3RydWN0b3IoKXtwKHRoaXMsImxvZ3NDYWNoZSIsW10pO3AodGhpcywibG9nc1Byb2Nlc3NvclRpbWVyIik7cCh0aGlzLCJ0cmFjaW5nRW5hYmxlZCIsITApO3AodGhpcywiaW5pdGlhbGl6ZWQiLCExKTtwKHRoaXMsImxvZ3NQcm9jZXNzaW5nSW50ZXJ2YWwiLDdlMyk7cCh0aGlzLCJsb2dFeGNsdXNpb25MaXN0IixbIm1lc3NhZ2UiLCJ3ZWJzb2NrZXQvbWVzc2FnZSIsInJvb21NZXNzYWdlIiwid2Vic29ja2V0L3Jvb20tbWVzc2FnZSIsIndlYnNvY2tldC9yb29tLWxlZ2FjeS1tb2RlIiwiY2hhdE1lc3NhZ2UiLCJ3ZWJzb2NrZXQvbmV3LWNoYXQtbWVzc2FnZSIsIndlYnNvY2tldC9uby1hY3RpdmUtc3BlYWtlciIsIndlYnNvY2tldC9zZWxlY3RlZC1wZWVycyIsIndlYnNvY2tldC9hY3RpdmUtc3BlYWtlciIsInBpbmciLCJ3ZWJzb2NrZXQvbmV3LWNvbnN1bWVyIiwid2Vic29ja2V0L3Byb2R1Y2VyLXNjb3JlIiwid2Vic29ja2V0L2NvbnN1bWVyLXNjb3JlIiwid2Vic29ja2V0L3BsdWdpbi1ldmVudCIsIndlYnNvY2tldC9wbHVnaW4tZGF0YSIsIndlYnNvY2tldC9wbHVnaW4taW50ZXJuYWwtZGF0YSJdKTtwKHRoaXMsIm1lZXRpbmdNZXRhZGF0YSIse30pfWdldCBsb2dzRW5kcG9pbnQoKXtjb25zdCByPUNlLmdldENvbnRleHQodGhpcy5tZWV0aW5nTWV0YWRhdGEucGVlcklkKTtyZXR1cm5gaHR0cHM6Ly8ke3ZkKHtzZXJ2aWNlUHJlZml4OiJhcGktc2lsb3MiLGJhc2VVUkk6ci5nZXRWYWx1ZSgiYmFzZVVSSSIpfSl9L290ZWwvbG9nc2B9cmVzZXRQZWVySWQocil7dGhpcy5tZWV0aW5nTWV0YWRhdGEucGVlcklkPXJ9aW5pdChyLGUsbil7dGhpcy50cmFjaW5nRW5hYmxlZD0hMCx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMubG9nc0NhY2hlPVtdO2NvbnN0IHM9ci5nZXRWYWx1ZSgicGVlcklkIik7dGhpcy5tZWV0aW5nTWV0YWRhdGE9ZSx0aGlzLnRyYWNpbmdFbmFibGVkPW4sdGhpcy5tZWV0aW5nTWV0YWRhdGEucGVlcklkPXMsdGhpcy5tZWV0aW5nTWV0YWRhdGEuc2RrVmVyc2lvbj1yLmdldFZhbHVlKCJzZGtWZXJzaW9uIik7Y29uc3R7Uk5EZXZpY2VJbmZvSW1wbDppfT1uYXZpZ2F0b3I7dGhpcy5tZWV0aW5nTWV0YWRhdGEuZGV2aWNlSW5mbz1uYXZpZ2F0b3IuaXNSZWFjdE5hdGl2ZT9pPT1udWxsP3ZvaWQgMDppLmdldERldmljZUluZm8oKTpfZC5nZXREZXZpY2VJbmZvKCksdGhpcy5tZWV0aW5nTWV0YWRhdGEudmlzaXRlZFVybD0hbmF2aWdhdG9yLmlzUmVhY3ROYXRpdmUmJnR5cGVvZiB3aW5kb3chPSJ1bmRlZmluZWQiJiZ3aW5kb3cubG9jYXRpb24uaHJlZix0aGlzLmxvZ3NQcm9jZXNzb3JUaW1lcj1zZXRJbnRlcnZhbCh0aGlzLnByb2Nlc3NDYWNoZWRMb2dzLmJpbmQodGhpcyksdGhpcy5sb2dzUHJvY2Vzc2luZ0ludGVydmFsKSxuJiYodGhpcy5pbml0aWFsaXplZD0hMCl9c3RhdGljIHRyYWNlKHIsZT12b2lkIDApe3JldHVybihuLHMsaSk9Pntjb25zdCBhPWkudmFsdWU7cmV0dXJuIGkudmFsdWU9ZnVuY3Rpb24oLi4ubyl7dmFyIHk7Y29uc3QgbD10aGlzPT1udWxsP3ZvaWQgMDp0aGlzLnRlbGVtZXRyeTtpZighbHx8IWwuaW5pdGlhbGl6ZWR8fG5hdmlnYXRvci5pc1JlYWN0TmF0aXZlfHwhbC50cmFjaW5nRW5hYmxlZHx8KHk9Q2UuZ2V0Q29udGV4dChsLm1lZXRpbmdNZXRhZGF0YS5wZWVySWQpKSE9bnVsbCYmeS5nZXRWYWx1ZSgiZmxhZ3NtaXRoIikuaGFzRmVhdHVyZShHdC5TS0lQX09URUxfVFJBQ0VTKSlyZXR1cm4gYS5hcHBseSh0aGlzLG8pO2wuYWRkTG9nSW5DdXJyZW50U3BhbigiaW5mbyIscixlKTtjb25zdCBtPXBlcmZvcm1hbmNlLm5vdygpLF89YS5hcHBseSh0aGlzLG8pO3JldHVybiBQcm9taXNlLnJlc29sdmUoXykudGhlbigoKT0+e2NvbnN0IHc9cGVyZm9ybWFuY2Uubm93KCk7dy1tPjEwJiZsLmFkZExvZ0luQ3VycmVudFNwYW4oImluZm8iLGAke3J9X3RpbWluZ2Ase2V4ZWNUaW1lOnctbSxjb3VudHJ5Om5yLmxvY2F0aW9uLmNvdW50cnl9KX0pLmNhdGNoKCgpPT57Y29uc3Qgdz1wZXJmb3JtYW5jZS5ub3coKTtsLmFkZExvZ0luQ3VycmVudFNwYW4oImluZm8iLGAke3J9X3RpbWluZ2Ase2V4ZWNUaW1lOnctbX0pfSksX30saX19aW5qZWN0Q29udGV4dChyKXt2YXIgcztjb25zdCBlPUpjKCkucmVwbGFjZSgvLS9nLCIiKS5zdWJzdHJpbmcoMCwxNiksbj0ocz10aGlzLm1lZXRpbmdNZXRhZGF0YS5wZWVySWQpPT1udWxsP3ZvaWQgMDpzLnJlcGxhY2UoLy0vZywiIik7ci5UUkFDRVBBUkVOVD1gMDAtJHtufS0ke2V9LTAxYH1hZGRMb2dJbkN1cnJlbnRTcGFuKHIsZSxuPXt9LHM9ITEpe24hPW51bGwmJm4uZXJyb3ImJk9iamVjdC5hc3NpZ24obix7ZXJyb3I6UnQobi5lcnJvcil9KTtjb25zdCBpPUNlLmdldENvbnRleHQodGhpcy5tZWV0aW5nTWV0YWRhdGEucGVlcklkKTtpZihuZChpKSYmKHJkKG4pP2NvbnNvbGVbcl0oIkR5dGVJbnRlcm5hbExvZ3M6OiAiLHIsZSk6Y29uc29sZVtyXSgiRHl0ZUludGVybmFsTG9nczo6ICIscixlLG4pKSwhIXNkKGkscikpdHJ5e2NvbnN0IGQ9Vm4oaSxlLG4sIm1ldGFkYXRhIiksbz1uZXcgRGF0ZSxsPW90KFEoe21lc3NhZ2U6ZSxsZXZlbDpyfSxkKSx7bG9nZ2VkQXQ6by50b0lTT1N0cmluZygpLGxvZ2dlZEF0VHpPZmZzZXQ6by5nZXRUaW1lem9uZU9mZnNldCgpfSk7cz90aGlzLnNlbmRPdGVsTG9nc1RvTmV3UmVsaWMoW2xdKTp0aGlzLmxvZ3NDYWNoZS5wdXNoKGwpfWNhdGNoKGQpe3RoaXMuYWRkTG9nSW5DdXJyZW50U3BhbigiZXJyb3IiLCJvcGVudGVsZW1ldHJ5OjphZGRMb2dJbkN1cnJlbnRTcGFuX2ZhaWxlZCIse2Vycm9yOlJ0KGQpfSl9fXNlbmRPdGVsTG9nc1RvTmV3UmVsaWMocil7Y29uc3QgZT1DZS5nZXRDb250ZXh0KHRoaXMubWVldGluZ01ldGFkYXRhLnBlZXJJZCk7ZmV0Y2godGhpcy5sb2dzRW5kcG9pbnQse21ldGhvZDoiUE9TVCIsaGVhZGVyczp7IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24ifSxib2R5OkpTT04uc3RyaW5naWZ5KHttZWV0aW5nTWV0YWRhdGE6Vm4oZSwic2VuZE90ZWxMb2dzVG9OZXdSZWxpYyIsdGhpcy5tZWV0aW5nTWV0YWRhdGEsIm1lZXRpbmdNZXRhZGF0YSIpLHNlcnZpY2VOYW1lOmUuZ2V0VmFsdWUoInNka05hbWUiKSxsb2dzOnJ9KX0pLmNhdGNoKG49Pnt0aGlzLmFkZExvZ0luQ3VycmVudFNwYW4oImVycm9yIiwib3BlbnRlbGVtZXRyeTo6c2VuZE90ZWxMb2dUb05ld1JlbGljX2ZhaWxlZCIse2Vycm9yOlJ0KG4pfSksdGhpcy5sb2dzQ2FjaGUucHVzaCguLi5yKX0pfXByb2Nlc3NDYWNoZWRMb2dzKCl7Y29uc3Qgcj10aGlzLmxvZ3NDYWNoZS5zcGxpY2UoMCwyNSk7ciE9bnVsbCYmci5sZW5ndGgmJnRoaXMuc2VuZE90ZWxMb2dzVG9OZXdSZWxpYyhyKX1kZXN0cnVjdCgpe2NsZWFySW50ZXJ2YWwodGhpcy5sb2dzUHJvY2Vzc29yVGltZXIpLHRoaXMucHJvY2Vzc0NhY2hlZExvZ3MoKX19O2xldCBQdD1ucjtwKFB0LCJsb2NhdGlvbiIse2NvdW50cnk6dm9pZCAwfSk7ZnVuY3Rpb24gRWQodCl7Y29uc3Qgcj1RKHt9LHQpLGU9bmV3IE1hcCxuPShsLG0pPT4oZS5oYXMobCl8fGUuc2V0KGwsbmV3IFNldCksZS5nZXQobCkuYWRkKG0pLCgpPT57dmFyIF87cmV0dXJuKF89ZS5nZXQobCkpPT1udWxsP3ZvaWQgMDpfLmRlbGV0ZShtKX0pLHM9KGwsbSk9Pnt2YXIgXzsoXz1lLmdldChsKSk9PW51bGx8fF8uZGVsZXRlKG0pfSxpPWw9Pnt2YXIgbTsobT1lLmdldChsKSk9PW51bGx8fG0uZm9yRWFjaChfPT57dHJ5e18ocltsXSl9Y2F0Y2goeSl7fX0pfTtyZXR1cm57c3Vic2NyaWJlOm4sdW5zdWJzY3JpYmU6cyxub3RpZnk6aSxzZXRWYWx1ZToobCxtLF89ITApPT57cltsXT1tLF8mJmkobCl9LGdldFZhbHVlOmw9PnJbbF0sZ2V0QWxsVmFsdWVzOigpPT5yfX1jbGFzcyB5ZHtjb25zdHJ1Y3Rvcigpe3AodGhpcywiY29udGV4dHMiLG5ldyBNYXApO3AodGhpcywibW9zdFJlY2VudFBlZXJJZCIsbnVsbCl9Y3JlYXRlQ29udGV4dChyLGUpe2lmKHRoaXMuY29udGV4dHMuaGFzKHIpKXJldHVybiB0aGlzLmNvbnRleHRzLmdldChyKTtjb25zdCBuPW5ldyBQdCxzPW5ldyBXYzt0aGlzLmNvbnRleHRzLnNldChyLEVkKGUpKSx0aGlzLmNvbnRleHRzLmdldChyKS5zZXRWYWx1ZSgicGVlclNlc3Npb25TdG9yZSIsbmV3IFd0KHMpKTtjb25zdCBpPW5ldyBWcjtyZXR1cm4gaS5zZXRNYXhMaXN0ZW5lcnMoNTApLHRoaXMuY29udGV4dHMuZ2V0KHIpLnNldFZhbHVlKCJsb2dnZXIiLHMpLHRoaXMuY29udGV4dHMuZ2V0KHIpLnNldFZhbHVlKCJ0ZWxlbWV0cnkiLG4pLHRoaXMuY29udGV4dHMuZ2V0KHIpLnNldFZhbHVlKCJjYWxsc3RhdHMiLGkpLHRoaXMuY29udGV4dHMuZ2V0KHIpLnNldFZhbHVlKCJmbGFnc21pdGgiLEZjKCkpLHRoaXMubW9zdFJlY2VudFBlZXJJZD1yLHRoaXMuY29udGV4dHMuZ2V0KHIpfXJlbWFwQ29udGV4dChyLGUpe2NvbnN0IG49ZS5nZXRWYWx1ZSgicGVlcklkIik7biE9PXImJihlLnNldFZhbHVlKCJwZWVySWQiLHIpLHRoaXMubW9zdFJlY2VudFBlZXJJZD1yLHRoaXMuY29udGV4dHMuc2V0KHIsZSksdGhpcy5jb250ZXh0cy5kZWxldGUobikpfWdldENvbnRleHQocil7cmV0dXJuIHRoaXMuY29udGV4dHMuZ2V0KHIpfWdldE1vc3RSZWNlbnRQZWVySWQoKXtyZXR1cm4gdGhpcy5tb3N0UmVjZW50UGVlcklkfX12YXIgQ2U9bmV3IHlkO2NvbnN0IGJkPXsiMDAiOiJEeXRlQ2xpZW50IiwiMDEiOiJDb250cm9sbGVyIiwiMDIiOiJSb29tTm9kZUNsaWVudCIsIjAzIjoiSGl2ZU5vZGVDbGllbnQiLCIwNCI6IlNvY2tldFNlcnZpY2UiLCIwNSI6IkNoYXQiLCIwNiI6IlBsdWdpbiIsIjA3IjoiUG9sbHMiLCIwOCI6Ik1ldGEiLCIwOSI6IlByZXNldCIsMTA6IlJlY29yZGluZyIsMTE6IlNlbGYiLDEyOiJQYXJ0aWNpcGFudCIsMTM6IlNwb3RsaWdodCIsMTQ6IlJlbW90ZSBSZXF1ZXN0IiwxNToiV2ViaW5hciIsMTY6IkxvY2FsTWVkaWFIYW5kbGVyIiwxNzoiRW5kLUVuZCBFbmNyeXB0aW9uIiwxODoiQUkiLDE5OiJMaXZlc3RyZWFtIiwyMDoiU3RhZ2UifSxJdD17IjAwMDAiOiJJbnRlcm5hbCBleGNlcHRpb24uIiwiMDAwMSI6IkZhaWxlZCB0byBpbml0aWFsaXplLiIsIjAwMDIiOiJGYWlsZWQgdG8gam9pbiByb29tLiIsIjAwMDMiOiJGYWlsZWQgdG8gbGVhdmUgcm9vbS4iLCIwMDA0IjoiSW52YWxpZCBhdXRoIHRva2VuIiwiMDAxMCI6IkJyb3dzZXIgbm90IHN1cHBvcnRlZCIsIjAwMTEiOiJIVFRQIE5ldHdvcmsgRXJyb3IiLCIwMDEyIjoiV2Vic29ja2V0IE5ldHdvcmsgRXJyb3IiLCIwMDEzIjoiUmF0ZSBMaW1pdGVkIiwiMDEwMCI6IkludGVybmFsIGV4Y2VwdGlvbiIsIjAxMDEiOiJQZXJtaXNzaW9uIGRlbmllZCIsIjAxMDIiOiJQcmVyZXF1aXNpdGUgbW9kdWxlIG1pc3NpbmciLCIwMjAwIjoiSW50ZXJuYWwgZXhjZXB0aW9uLiIsIjAzMDAiOiJJbnRlcm5hbCBleGNlcHRpb24iLCIwNDAwIjoiSW50ZXJuYWwgZXhjZXB0aW9uIiwiMDQwNCI6Ik1pc3NpbmcgcHJlcmVxdWlzaXRlcyB0byBlc3RhYmxpc2ggYSB3ZWJzb2NrZXQgY29ubmVjdGlvbiIsIjA1MDAiOiJJbnRlcm5hbCBleGNlcHRpb24iLCIwNTAxIjoiUGVybWlzc2lvbiBkZW5pZWQuIiwiMDUwMiI6IkludmFsaWQgbWVzc2FnZSBib2R5LiIsIjA1MDMiOiJUZXh0IE1lc3NhZ2UgaXMgdG9vIGxhcmdlIiwiMDUwNCI6Ik1lc3NhZ2Ugbm90IGZvdW5kIGJ5IHRoZSBnaXZlbiBpZCIsIjA1MDUiOiJBY3Rpb24gbm90IHBlcm1pdHRlZCB3aXRob3V0IGpvaW5pbmcgcm9vbSIsIjA1MDYiOiJNZXNzYWdlIHNlYXJjaCBpcyBkaXNhYmxlZCIsIjA1MTAiOiJJbnZhbGlkIGNoYW5uZWwgbmFtZS4iLCIwNjAwIjoiSW50ZXJuYWwgZXhjZXB0aW9uIiwiMDYwMSI6IlBlcm1pc3Npb24gZGVuaWVkLiIsIjA2MDIiOiJBdXRoIHRva2VuIG5vdCBzZXQgZm9yIHBsdWdpbiIsIjA2MDMiOiJJZnJhbWUgd2FzIG5vdCBwcm92aWRlZCIsIjA3MDAiOiJJbnRlcm5hbCBleGNlcHRpb24iLCIwNzA1IjoiQWN0aW9uIG5vdCBwZXJtaXR0ZWQgd2l0aG91dCBqb2luaW5nIHJvb20iLCIwODAwIjoiSW50ZXJuYWwgZXhjZXB0aW9uIiwiMDgwMSI6IlBlcm1pc3Npb24gZGVuaWVkIiwiMDkwMCI6IkludGVybmFsIGV4Y2VwdGlvbiIsIjA5MDQiOiJDb3VsZCBub3QgbG9hZCBwcmVzZXQiLDFlMzoiSW50ZXJuYWwgZXhjZXB0aW9uIiwxMDAxOiJQZXJtaXNzaW9uIGRlbmllZCIsMTAwNDoiQ291bGQgbm90IGZpbmQgc3BlY2lmaWVkIHJlY29yZGluZyIsMTAwNToiQWN0aW9uIG5vdCBwZXJtaXR0ZWQgaW4gZ2l2ZW4gcmVjb3JkaW5nIHN0YXRlIiwxMTAwOiJJbnRlcm5hbCBleGNlcHRpb24iLDExMDE6IlBlcm1pc3Npb24gZGVuaWVkIiwxMTAyOiJVbnN1cHBvcnRlZCIsMTEwMzoiTmFtZSBjYW5ub3QgYmUgZW1wdHkiLDExMDQ6Ik5vIGRldmljZSBzZWxlY3RlZCB3aGlsZSBjYWxsaW5nIG1lZXRpbmcuc2VsZi5zZXREZXZpY2UiLDExMDU6IkFjdGlvbiBub3QgcGVybWl0dGVkIHdpdGhvdXQgam9pbmluZyByb29tIiwxMTA2OiJDYW4ndCBzZXQgY3VycmVudGx5IHVzZWQgZGV2aWNlIiwxMjAwOiJJbnRlcm5hbCBleGNlcHRpb24iLDEyMDE6IlBlcm1pc3Npb24gZGVuaWVkIiwxMjAyOiJJbnZhbGlkIHBhZ2UgbnVtYmVyIHdhcyByZXF1ZXN0ZWQiLDEyMDM6IkludmFsaWQgcGFydGljaXBhbnQgY291bnQgcGVyIHBhZ2Ugd2FzIHJlcXVlc3RlZCIsMTIwNDoiTm8gcGFydGljaXBhbnRzIGV4aXN0cyB3aXRoIHRoZSBnaXZlbiBVc2VySWRzIiwxMjA1OiJBY3Rpb24gbm90IHBlcm1pdHRlZCB3aXRob3V0IGpvaW5pbmcgcm9vbSIsMTIwNjoiTWFudWFsIFN1YnNjcmlwdGlvbiBNb2RlIHdhcyBub3QgQUNUSVZBVEVEIiwxMjA3OiJJbnZhbGlkIHZpZXcgbW9kZSIsMTIwODoiTWFudWFsIFN1YnNjcmlwdGlvbiBub3QgZW5hYmxlZCBmb3Igb3JnYW5pemF0aW9uIiwxMjA5OiJCcm9hZGNhc3QgbWVzc2FnZSB0eXBlIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nIiwxMzAwOiJJbnRlcm5hbCBleGNlcHRpb24iLDE0MDA6IkludGVybmFsIGV4Y2VwdGlvbiIsMTQwMjoiTm8gZXhpc3RpbmcgcmVtb3RlIHJlcXVlc3RzIiwxNDAzOiJObyBwZWVyIGV4aXN0cyB3aXRoIGdpdmVuIGlkIiwxNTAwOiJJbnRlcm5hbCBleGNlcHRpb24iLDE2MDA6IkludGVybmFsIGV4Y2VwdGlvbiIsMTYwMToiRmFpbGVkIHRvIGdldCBhdWRpbyB0cmFjayIsMTYwMjoiRmFpbGVkIHRvIGdldCB2aWRlbyB0cmFjayIsMTYwMzoiSW5jb3JyZWN0IGRldmljZSIsMTYwNDoiRmFpbGVkIHRvIGNoYW5nZSBkZXZpY2UiLDE2MDU6IkZhaWxlZCB0byBnZXQgYXVkaW8gJiB2aWRlbyB0cmFjayIsMTYwNjoiTm8gYXVkaW8gaW5wdXQgZGV2aWNlcyBhcmUgYXZhaWxhYmxlIiwxNjA3OiJObyB2aWRlbyBpbnB1dCBkZXZpY2VzIGFyZSBhdmFpbGFibGUiLDE2MDg6Ik5vIGF1ZGlvIG91dHB1dCBkZXZpY2VzIChzcGVha2VycykgYXJlIGF2YWlsYWJsZSIsMTYwOToiRmFpbGVkIHRvIGZldGNoIGxpc3Qgb2YgbWVkaWEgZGV2aWNlcyIsMTYxMDoiTm8gbWVkaWEgdHJhY2sgZXhpc3RzIiwxNjExOiJGYWlsZWQgdG8gdW5tdXRlIHRyYWNrIiwxNjEyOiJGYWlsZWQgdG8gZ2V0IHNjcmVlbnNoYXJlIHRyYWNrcyIsMTcwMToiQ3J5cHRvIGVycm9yIiwxODAwOiJJbnRlcm5hbCBleGNlcHRpb24iLDE4MDE6IkNhbid0IGZldGNoIHRyYW5zY3JpcHQgZmlsZSIsMTkwMDoiSW50ZXJuYWwgZXhjZXB0aW9uIiwxOTAxOiJQZXJtaXNzaW9uIGRlbmllZC4iLDE5MDI6IkxpdmVzdHJlYW0gdGhhdCBoYXMgbm90IHlldCBzdGFydGVkLCBjYW4ndCBiZSBzdG9wcGVkIiwyZTM6IkludGVybmFsIGV4Y2VwdGlvbiIsMjAwMToiUGVybWlzc2lvbiBkZW5pZWQiLDIwMDI6IlVuc3VwcG9ydGVkIiwyMDAzOiJTdGFnZSBpcyBkaXNhYmxlZCIsMjAwNDoiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCIsMjAwNToiQWN0aW9uIG5vdCBwZXJtaXR0ZWQgd2l0aG91dCBqb2luaW5nIHJvb20iLDIwMDY6IkFjdGlvbiBub3QgcGVybWl0dGVkIGluIGN1cnJlbnQgc3RhZ2Ugc3RhdHVzIiw5OTAwOiJJbnRlcm5hbCBleGNlcHRpb24ifTtPYmplY3Qua2V5cyhJdCkuZm9yRWFjaCh0PT57SXRbdF09YHske2JkW3Quc2xpY2UoMCwyKV19fSAke0l0W3RdfWB9KTtjbGFzcyBUZCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsbixzPXZvaWQgMCxpPSExKXtzdXBlcihlKTtwKHRoaXMsImNvZGUiKTt0aGlzLmNvZGU9bix0aGlzLm5hbWU9IkR5dGVFcnJvciIsdGhpcy5tZXNzYWdlPWBbRVJSJHt0aGlzLmNvZGV9XTogJHtJdFt0aGlzLmNvZGVdfQoke3RoaXMubWVzc2FnZX1gO3RyeXtsZXQgYT1pJiYhIXM7biYmbi5lbmRzV2l0aCgiMDAiKSYmcyYmKGE9ITApLGEmJnMuZXJyb3IoIkR5dGVFcnJvciIse2Vycm9yOnttZXNzYWdlOnRoaXMubWVzc2FnZSxuYW1lOnRoaXMubmFtZSxjb2RlOm59fSk7Y29uc3QgZD1DZS5nZXRDb250ZXh0KENlLmdldE1vc3RSZWNlbnRQZWVySWQoKSk7aWYoZCl7Y29uc3Qgbz1kLmdldFZhbHVlKCJvbkVycm9yIik7dHJ5e28odGhpcyl9Y2F0Y2gobCl7fX10eXBlb2Ygd2luZG93IT0idW5kZWZpbmVkIiYmd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJkeXRlRXJyb3IiLHtkZXRhaWw6dGhpc30pKX1jYXRjaChhKXt9fX12YXIgZmU9KHQ9Pih0W3QuSW52YWxpZEtleT0wXT0iSW52YWxpZEtleSIsdFt0Lk1pc3NpbmdLZXk9MV09Ik1pc3NpbmdLZXkiLHRbdC5JbnRlcm5hbEVycm9yPTJdPSJJbnRlcm5hbEVycm9yIix0KSkoZmV8fHt9KTtjbGFzcyBtZSBleHRlbmRzIFRke2NvbnN0cnVjdG9yKGUsbj0yKXtzdXBlcihlLCIxNzAxIik7cCh0aGlzLCJyZWFzb24iKTt0aGlzLnJlYXNvbj1ufX1jbGFzcyBHbiBleHRlbmRzIFkuRXZlbnRFbWl0dGVye2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7cCh0aGlzLCJsb2dnZXIiKTt0aGlzLmxvZ2dlcj1lLHN1cGVyLnNldE1heExpc3RlbmVycygyNSl9ZW1pdChlLC4uLm4pe3JldHVybiBzdXBlci5lbWl0KCIqIixlLC4uLm4pLHN1cGVyLmVtaXQoZSwuLi5uKX1vbihlLG4pe3ZhciBzO3RyeXtjb25zdCBpPXRoaXMubGlzdGVuZXJDb3VudChlKTtpPjI1JiZpJTI1PT09MCYmKChzPXRoaXMubG9nZ2VyKT09bnVsbHx8cy53YXJuKCJEeXRlRXZlbnRFbWl0dGVyOjptYXhMaXN0ZW5lcnNFeGNlZWRlZCIse2V2ZW50TGlzdGVuZXI6e2V2ZW50TmFtZTplLnRvU3RyaW5nKCksbGlzdGVuZXJDb3VudDp0aGlzLmxpc3RlbmVyQ291bnQoZSl9fSkpfWNhdGNoKGkpe31yZXR1cm4gc3VwZXIub24oZSxuKX1hZGRMaXN0ZW5lcihlLG4pe3ZhciBzO3RyeXtjb25zdCBpPXRoaXMubGlzdGVuZXJDb3VudChlKTtpPjI1JiZpJTI1PT09MCYmKChzPXRoaXMubG9nZ2VyKT09bnVsbHx8cy53YXJuKCJEeXRlRXZlbnRFbWl0dGVyOjptYXhMaXN0ZW5lcnNFeGNlZWRlZCIse2V2ZW50TGlzdGVuZXI6e2V2ZW50TmFtZTplLnRvU3RyaW5nKCksbGlzdGVuZXJDb3VudDp0aGlzLmxpc3RlbmVyQ291bnQoZSl9fSkpfWNhdGNoKGkpe31yZXR1cm4gc3VwZXIuYWRkTGlzdGVuZXIoZSxuKX1vZmYoZSxuKXtyZXR1cm4gc3VwZXIub2ZmKGUsbil9b25jZShlLG4pe3JldHVybiBzdXBlci5vbmNlKGUsbil9cHJlcGVuZExpc3RlbmVyKGUsbil7cmV0dXJuIHN1cGVyLnByZXBlbmRMaXN0ZW5lcihlLG4pfXByZXBlbmRPbmNlTGlzdGVuZXIoZSxuKXtyZXR1cm4gc3VwZXIucHJlcGVuZE9uY2VMaXN0ZW5lcihlLG4pfXJlbW92ZUxpc3RlbmVyKGUsbil7cmV0dXJuIHN1cGVyLnJlbW92ZUxpc3RlbmVyKGUsbil9cmVtb3ZlQWxsTGlzdGVuZXJzKGUpe3JldHVybiBzdXBlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZSl9bGlzdGVuZXJzKGUpe3JldHVybiBzdXBlci5saXN0ZW5lcnMoZSl9bGlzdGVuZXJDb3VudChlKXtyZXR1cm4gc3VwZXIubGlzdGVuZXJDb3VudChlKX19Y29uc3QgcXQ9e0Vycm9yOiJjcnlwdG9yRXJyb3IifTtmdW5jdGlvbiBSZCh0KXtyZXR1cm4idHlwZSJpbiB0fWZ1bmN0aW9uIENkKG4pe3JldHVybiBJKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKih0LHI9e25hbWU6a30sZT0iZW5jcnlwdCIpe3JldHVybiBjcnlwdG8uc3VidGxlLmltcG9ydEtleSgicmF3Iix0LHIsITEsZT09PSJkZXJpdmUiP1siZGVyaXZlQml0cyIsImRlcml2ZUtleSJdOlsiZW5jcnlwdCIsImRlY3J5cHQiXSl9KX1mdW5jdGlvbiBZbih0LHIpe2NvbnN0IG49bmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHIpO3N3aXRjaCh0KXtjYXNlIkhLREYiOnJldHVybntuYW1lOiJIS0RGIixzYWx0Om4saGFzaDoiU0hBLTI1NiIsaW5mbzpuZXcgQXJyYXlCdWZmZXIoMTI4KX07Y2FzZSJQQktERjIiOnJldHVybntuYW1lOiJQQktERjIiLHNhbHQ6bixoYXNoOiJTSEEtMjU2IixpdGVyYXRpb25zOjFlNX07ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYGFsZ29yaXRobSAke3R9IGlzIGN1cnJlbnRseSB1bnN1cHBvcnRlZGApfX1mdW5jdGlvbiBxbih0LHIpe3JldHVybiBJKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBlPVluKHQuYWxnb3JpdGhtLm5hbWUsciksbj15aWVsZCBjcnlwdG8uc3VidGxlLmRlcml2ZUtleShlLHQse25hbWU6ayxsZW5ndGg6MTI4fSwhMSxbImVuY3J5cHQiLCJkZWNyeXB0Il0pO3JldHVybnttYXRlcmlhbDp0LGVuY3J5cHRpb25LZXk6bn19KX1mdW5jdGlvbiBQZCh0LHIpe3JldHVybiBJKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtjb25zdCBlPVluKHQuYWxnb3JpdGhtLm5hbWUscik7cmV0dXJuIGNyeXB0by5zdWJ0bGUuZGVyaXZlQml0cyhlLHQsMjU2KX0pfWNsYXNzIElkIGV4dGVuZHMgR257fWNsYXNzIFFuIGV4dGVuZHMgSWR7Y29uc3RydWN0b3IoZSl7dmFyIG47c3VwZXIodm9pZCAwKTtwKHRoaXMsInNlbmRDb3VudHMiKTtwKHRoaXMsImlzS2V5SW52YWxpZCIsITEpO3AodGhpcywicGFydGljaXBhbnRJZCIpO3AodGhpcywidHJhY2tJZCIpO3AodGhpcywia2V5cyIpO3AodGhpcywidmlkZW9Db2RlYyIpO3AodGhpcywicnRwTWFwIik7cCh0aGlzLCJrZXlQcm92aWRlck9wdGlvbnMiKTtwKHRoaXMsInVuZW5jcnlwdGVkRnJhbWVCeXRlVHJhaWxlciIpO3RoaXMuc2VuZENvdW50cz1uZXcgTWFwLHRoaXMua2V5cz1lLmtleXMsdGhpcy5wYXJ0aWNpcGFudElkPWUucGFydGljaXBhbnRJZCx0aGlzLnJ0cE1hcD1uZXcgTWFwLHRoaXMua2V5UHJvdmlkZXJPcHRpb25zPWUua2V5UHJvdmlkZXJPcHRpb25zLHRoaXMudW5lbmNyeXB0ZWRGcmFtZUJ5dGVUcmFpbGVyPShuPWUudW5lbmNyeXB0ZWRGcmFtZUJ5dGVzKSE9bnVsbD9uOm5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSgiTEtST0NLUyIpfXNldFBhcnRpY2lwYW50KGUsbil7dGhpcy5wYXJ0aWNpcGFudElkPWUsdGhpcy5rZXlzPW59dW5zZXRQYXJ0aWNpcGFudCgpe3RoaXMucGFydGljaXBhbnRJZD12b2lkIDB9Z2V0UGFydGljaXBhbnRJZCgpe3JldHVybiB0aGlzLnBhcnRpY2lwYW50SWR9Z2V0VHJhY2tJZCgpe3JldHVybiB0aGlzLnRyYWNrSWR9c2V0VmlkZW9Db2RlYyhlKXt0aGlzLnZpZGVvQ29kZWM9ZX1zZXRSdHBNYXAoZSl7dGhpcy5ydHBNYXA9ZX1zZXR1cFRyYW5zZm9ybShlLG4scyxpLGEpe2EmJihjb25zb2xlLmluZm8oInNldHRpbmcgY29kZWMgb24gY3J5cHRvciB0byIsYSksdGhpcy52aWRlb0NvZGVjPWEpO2NvbnN0IGQ9ZT09PSJlbmNvZGUiP3RoaXMuZW5jb2RlRnVuY3Rpb246dGhpcy5kZWNvZGVGdW5jdGlvbixvPW5ldyBUcmFuc2Zvcm1TdHJlYW0oe3RyYW5zZm9ybTpkLmJpbmQodGhpcyl9KTtuLnBpcGVUaHJvdWdoKG8pLnBpcGVUbyhzKS5jYXRjaChsPT57Y29uc29sZS5lcnJvcihsKSx0aGlzLmVtaXQoImNyeXB0b3JFcnJvciIsbCBpbnN0YW5jZW9mIG1lP2w6bmV3IG1lKGwubWVzc2FnZSkpfSksdGhpcy50cmFja0lkPWl9ZW5jb2RlRnVuY3Rpb24oZSxuKXtyZXR1cm4gSSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIGE7aWYoIXRoaXMua2V5cy5pc0VuYWJsZWQoKXx8ZS5kYXRhLmJ5dGVMZW5ndGg9PT0wKXJldHVybiBuLmVucXVldWUoZSk7Y29uc3R7ZW5jcnlwdGlvbktleTpzfT10aGlzLmtleXMuZ2V0S2V5U2V0KCksaT10aGlzLmtleXMuZ2V0Q3VycmVudEtleUluZGV4KCk7aWYocyl7Y29uc3QgZD10aGlzLm1ha2VJVigoYT1lLmdldE1ldGFkYXRhKCkuc3luY2hyb25pemF0aW9uU291cmNlKSE9bnVsbD9hOi0xLGUudGltZXN0YW1wKSxvPW5ldyBVaW50OEFycmF5KGUuZGF0YSwwLHRoaXMuZ2V0VW5lbmNyeXB0ZWRCeXRlcyhlKSksbD1uZXcgVWludDhBcnJheSgyKTtsWzBdPWRlLGxbMV09aTt0cnl7Y29uc3QgbT15aWVsZCBjcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6ayxpdjpkLGFkZGl0aW9uYWxEYXRhOm5ldyBVaW50OEFycmF5KGUuZGF0YSwwLG8uYnl0ZUxlbmd0aCl9LHMsbmV3IFVpbnQ4QXJyYXkoZS5kYXRhLHRoaXMuZ2V0VW5lbmNyeXB0ZWRCeXRlcyhlKSkpLF89bmV3IEFycmF5QnVmZmVyKG8uYnl0ZUxlbmd0aCttLmJ5dGVMZW5ndGgrZC5ieXRlTGVuZ3RoK2wuYnl0ZUxlbmd0aCkseT1uZXcgVWludDhBcnJheShfKTtyZXR1cm4geS5zZXQobykseS5zZXQobmV3IFVpbnQ4QXJyYXkobSksby5ieXRlTGVuZ3RoKSx5LnNldChuZXcgVWludDhBcnJheShkKSxvLmJ5dGVMZW5ndGgrbS5ieXRlTGVuZ3RoKSx5LnNldChsLG8uYnl0ZUxlbmd0aCttLmJ5dGVMZW5ndGgrZC5ieXRlTGVuZ3RoKSxlLmRhdGE9XyxuLmVucXVldWUoZSl9Y2F0Y2gobSl7fX1lbHNlIHRoaXMuZW1pdChxdC5FcnJvcixuZXcgbWUoImVuY3J5cHRpb24ga2V5IG1pc3NpbmcgZm9yIGVuY29kaW5nIixmZS5NaXNzaW5nS2V5KSl9KX1kZWNvZGVGdW5jdGlvbihlLG4pe3JldHVybiBJKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZighdGhpcy5rZXlzLmlzRW5hYmxlZCgpfHxlLmRhdGEuYnl0ZUxlbmd0aD09PTB8fHdkKGUuZGF0YSx0aGlzLnVuZW5jcnlwdGVkRnJhbWVCeXRlVHJhaWxlcikpcmV0dXJuIG4uZW5xdWV1ZShlKTtjb25zdCBpPW5ldyBVaW50OEFycmF5KGUuZGF0YSlbZS5kYXRhLmJ5dGVMZW5ndGgtMV07aWYodGhpcy5rZXlzLmdldEtleVNldChpKSl0cnl7Y29uc3QgYT15aWVsZCB0aGlzLmRlY3J5cHRGcmFtZShlLGkpO2lmKGEpcmV0dXJuIG4uZW5xdWV1ZShhKTt0aGlzLmlzS2V5SW52YWxpZD0hMX1jYXRjaChhKXthIGluc3RhbmNlb2YgbWUmJmEucmVhc29uPT09ZmUuSW52YWxpZEtleSYmKHRoaXMuaXNLZXlJbnZhbGlkfHwodGhpcy5lbWl0KHF0LkVycm9yLG5ldyBtZShgaW52YWxpZCBrZXkgZm9yIHBhcnRpY2lwYW50ICR7dGhpcy5wYXJ0aWNpcGFudElkfWAsZmUuSW52YWxpZEtleSkpLHRoaXMuaXNLZXlJbnZhbGlkPSEwKSl9ZWxzZSB0aGlzLmVtaXQocXQuRXJyb3IsbmV3IG1lKGBrZXkgbWlzc2luZyBmb3IgcGFydGljaXBhbnQgJHt0aGlzLnBhcnRpY2lwYW50SWR9YCxmZS5NaXNzaW5nS2V5KSk7cmV0dXJuIG4uZW5xdWV1ZShlKX0pfWRlY3J5cHRGcmFtZShhLGQpe3JldHVybiBJKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKihlLG4scz12b2lkIDAsaT17cmF0Y2hldENvdW50OjB9KXt2YXIgbDtjb25zdCBvPXRoaXMua2V5cy5nZXRLZXlTZXQobik7dHJ5e2NvbnN0IG09bmV3IFVpbnQ4QXJyYXkoZS5kYXRhLDAsdGhpcy5nZXRVbmVuY3J5cHRlZEJ5dGVzKGUpKSxfPW5ldyBVaW50OEFycmF5KGUuZGF0YSxlLmRhdGEuYnl0ZUxlbmd0aC0yLDIpLHk9X1swXSx3PW5ldyBVaW50OEFycmF5KGUuZGF0YSxlLmRhdGEuYnl0ZUxlbmd0aC15LV8uYnl0ZUxlbmd0aCx5KSx4PW0uYnl0ZUxlbmd0aCxIPWUuZGF0YS5ieXRlTGVuZ3RoLShtLmJ5dGVMZW5ndGgreStfLmJ5dGVMZW5ndGgpLFY9eWllbGQgY3J5cHRvLnN1YnRsZS5kZWNyeXB0KHtuYW1lOmssaXY6dyxhZGRpdGlvbmFsRGF0YTpuZXcgVWludDhBcnJheShlLmRhdGEsMCxtLmJ5dGVMZW5ndGgpfSwobD1pLmVuY3J5cHRpb25LZXkpIT1udWxsP2w6by5lbmNyeXB0aW9uS2V5LG5ldyBVaW50OEFycmF5KGUuZGF0YSx4LEgpKSxLPW5ldyBBcnJheUJ1ZmZlcihtLmJ5dGVMZW5ndGgrVi5ieXRlTGVuZ3RoKSxaPW5ldyBVaW50OEFycmF5KEspO3JldHVybiBaLnNldChuZXcgVWludDhBcnJheShlLmRhdGEsMCxtLmJ5dGVMZW5ndGgpKSxaLnNldChuZXcgVWludDhBcnJheShWKSxtLmJ5dGVMZW5ndGgpLGUuZGF0YT1LLGV9Y2F0Y2gobSl7aWYodGhpcy5rZXlQcm92aWRlck9wdGlvbnMucmF0Y2hldFdpbmRvd1NpemU+MCl7aWYoaS5yYXRjaGV0Q291bnQ8dGhpcy5rZXlQcm92aWRlck9wdGlvbnMucmF0Y2hldFdpbmRvd1NpemUpe2xldCBfO2lmKG89PT10aGlzLmtleXMuZ2V0S2V5U2V0KG4pKXtjb25zdCB3PXlpZWxkIHRoaXMua2V5cy5yYXRjaGV0S2V5KG4sITEpO189eWllbGQgcW4odyx0aGlzLmtleVByb3ZpZGVyT3B0aW9ucy5yYXRjaGV0U2FsdCl9Y29uc3QgeT15aWVsZCB0aGlzLmRlY3J5cHRGcmFtZShlLG4sc3x8byx7cmF0Y2hldENvdW50OmkucmF0Y2hldENvdW50KzEsZW5jcnlwdGlvbktleTpfPT1udWxsP3ZvaWQgMDpfLmVuY3J5cHRpb25LZXl9KTtyZXR1cm4geSYmXyYmKHRoaXMua2V5cy5zZXRLZXlTZXQoXyxuLCEwKSx0aGlzLmtleXMuc2V0Q3VycmVudEtleUluZGV4KG4pKSx5fXMmJnRoaXMua2V5cy5zZXRLZXlGcm9tTWF0ZXJpYWwocy5tYXRlcmlhbCxuKX1lbHNlIHRocm93IG5ldyBtZSgiRGVjcnlwdGlvbiBmYWlsZWQsIG1vc3QgbGlrZWx5IGJlY2F1c2Ugb2YgYW4gaW52YWxpZCBrZXkiLGZlLkludmFsaWRLZXkpfX0pfW1ha2VJVihlLG4pe3ZhciBkO2NvbnN0IHM9bmV3IEFycmF5QnVmZmVyKGRlKSxpPW5ldyBEYXRhVmlldyhzKTt0aGlzLnNlbmRDb3VudHMuaGFzKGUpfHx0aGlzLnNlbmRDb3VudHMuc2V0KGUsTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjY1NTM1KSk7Y29uc3QgYT0oZD10aGlzLnNlbmRDb3VudHMuZ2V0KGUpKSE9bnVsbD9kOjA7cmV0dXJuIGkuc2V0VWludDMyKDAsZSksaS5zZXRVaW50MzIoNCxuKSxpLnNldFVpbnQzMig4LG4tYSU2NTUzNSksdGhpcy5zZW5kQ291bnRzLnNldChlLGErMSksc31nZXRVbmVuY3J5cHRlZEJ5dGVzKGUpe3ZhciBuO2lmKFJkKGUpKXtjb25zdCBzPShuPXRoaXMuZ2V0VmlkZW9Db2RlYyhlKSkhPW51bGw/bjp0aGlzLnZpZGVvQ29kZWM7aWYocz09PSJhdjEifHxzPT09InZwOSIpdGhyb3cgbmV3IEVycm9yKGAke3N9IGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGZvciBlbmQgdG8gZW5kIGVuY3J5cHRpb25gKTtyZXR1cm4gTVtlLnR5cGVdfXJldHVybiBNLmF1ZGlvfWdldFZpZGVvQ29kZWMoZSl7aWYodGhpcy5ydHBNYXAuc2l6ZT09PTApcmV0dXJuO2NvbnN0e3BheWxvYWRUeXBlOm59PWUuZ2V0TWV0YWRhdGEoKTtyZXR1cm4gbj90aGlzLnJ0cE1hcC5nZXQobik6dm9pZCAwfX1mdW5jdGlvbiB3ZCh0LHIpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkodC5zbGljZSh0LmJ5dGVMZW5ndGgtci5ieXRlTGVuZ3RoKSk7cmV0dXJuIHIuZXZlcnkoKG4scyk9Pm49PT1lW3NdKX1jbGFzcyBKbiBleHRlbmRzIEdue2NvbnN0cnVjdG9yKGUsbixzKXtzdXBlcih2b2lkIDApO3AodGhpcywiY3VycmVudEtleUluZGV4Iik7cCh0aGlzLCJjcnlwdG9LZXlSaW5nIik7cCh0aGlzLCJlbmFibGVkIik7cCh0aGlzLCJrZXlQcm92aWRlck9wdGlvbnMiKTtwKHRoaXMsInJhdGNoZXRQcm9taXNlTWFwIik7cCh0aGlzLCJwYXJ0aWNpcGFudElkIik7dGhpcy5jdXJyZW50S2V5SW5kZXg9MCx0aGlzLmNyeXB0b0tleVJpbmc9bmV3IEFycmF5KDE2KSx0aGlzLmVuYWJsZWQ9bix0aGlzLmtleVByb3ZpZGVyT3B0aW9ucz1zLHRoaXMucmF0Y2hldFByb21pc2VNYXA9bmV3IE1hcCx0aGlzLnBhcnRpY2lwYW50SWQ9ZX1zZXRFbmFibGVkKGUpe3RoaXMuZW5hYmxlZD1lfXJhdGNoZXRLZXkoZSxuPSEwKXtjb25zdCBzPWUhPW51bGw/ZTp0aGlzLmdldEN1cnJlbnRLZXlJbmRleCgpLGk9cyxhPXRoaXMucmF0Y2hldFByb21pc2VNYXAuZ2V0KGkpO2lmKHR5cGVvZiBhIT0idW5kZWZpbmVkIilyZXR1cm4gYTtjb25zdCBkPW5ldyBQcm9taXNlKChvLGwpPT5JKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0cnl7Y29uc3QgbT10aGlzLmdldEtleVNldChpKS5tYXRlcmlhbCxfPXlpZWxkIENkKHlpZWxkIFBkKG0sdGhpcy5rZXlQcm92aWRlck9wdGlvbnMucmF0Y2hldFNhbHQpLG0uYWxnb3JpdGhtLm5hbWUsImRlcml2ZSIpO24mJnRoaXMuc2V0S2V5RnJvbU1hdGVyaWFsKF8saSwhMCksdGhpcy5lbWl0KCJrZXlSYXRjaGV0ZWQiLF8scyx0aGlzLnBhcnRpY2lwYW50SWQpLG8oXyl9Y2F0Y2gobSl7bChtKX1maW5hbGx5e3RoaXMucmF0Y2hldFByb21pc2VNYXAuZGVsZXRlKGkpfX0pKTtyZXR1cm4gdGhpcy5yYXRjaGV0UHJvbWlzZU1hcC5zZXQoaSxkKSxkfXNldEtleUZyb21NYXRlcmlhbChlLG49MCxzPSExKXtyZXR1cm4gSSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bj49MCYmKHRoaXMuY3VycmVudEtleUluZGV4PW4ldGhpcy5jcnlwdG9LZXlSaW5nLmxlbmd0aCk7Y29uc3QgaT15aWVsZCBxbihlLHRoaXMua2V5UHJvdmlkZXJPcHRpb25zLnJhdGNoZXRTYWx0KTt0aGlzLnNldEtleVNldChpLHRoaXMuY3VycmVudEtleUluZGV4LHMpfSl9c2V0S2V5U2V0KGUsbixzPSExKXtyZXR1cm4gSSh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dGhpcy5jcnlwdG9LZXlSaW5nW24ldGhpcy5jcnlwdG9LZXlSaW5nLmxlbmd0aF09ZSxzJiZ0aGlzLmVtaXQoImtleVJhdGNoZXRlZCIsZS5tYXRlcmlhbCxuLHRoaXMucGFydGljaXBhbnRJZCl9KX1zZXRDdXJyZW50S2V5SW5kZXgoZSl7cmV0dXJuIEkodGhpcyxudWxsLGZ1bmN0aW9uKigpe3RoaXMuY3VycmVudEtleUluZGV4PWUldGhpcy5jcnlwdG9LZXlSaW5nLmxlbmd0aH0pfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLmVuYWJsZWR9Z2V0Q3VycmVudEtleUluZGV4KCl7cmV0dXJuIHRoaXMuY3VycmVudEtleUluZGV4fWdldEtleVNldChlKXtyZXR1cm4gdGhpcy5jcnlwdG9LZXlSaW5nW2UhPW51bGw/ZTp0aGlzLmN1cnJlbnRLZXlJbmRleF19fWNvbnN0IFF0PVtdLEp0PW5ldyBNYXAsWHQ9W107bGV0IGNlLFp0PSExLFhuPSExLGVyLGdlPU10O2Z1bmN0aW9uIFNlKHQscil7cG9zdE1lc3NhZ2Uoe2tpbmQ6ImxvZyIsZGF0YTp7bGV2ZWw6dCxzdHI6cn19KX1mdW5jdGlvbiBBZCh0LHIpe3Bvc3RNZXNzYWdlKHtraW5kOiJyYXRjaGV0S2V5IixkYXRhOntrZXlJbmRleDpyLG1hdGVyaWFsOnR9fSl9ZnVuY3Rpb24gRmUodCl7aWYoIXQpcmV0dXJuIGNlO2xldCByPUp0LmdldCh0KTtyZXR1cm4gcnx8KHI9bmV3IEpuKHQsITAsZ2UpLGVyJiZyLnNldEtleUZyb21NYXRlcmlhbChlciksSnQuc2V0KHQscikpLHJ9ZnVuY3Rpb24gTWQodCxyKXtyP0ZlKHIpLnNldEVuYWJsZWQodCk6KFp0PXQsY2Uuc2V0RW5hYmxlZCh0KSl9ZnVuY3Rpb24gWm4odCl7dC5vbigiY3J5cHRvckVycm9yIixyPT57Y29uc3QgZT17a2luZDoiZXJyb3IiLGRhdGE6e2Vycm9yOm5ldyBFcnJvcihgJHtmZVtyLnJlYXNvbl19OiAke3IubWVzc2FnZX1gKX19O3Bvc3RNZXNzYWdlKGUpfSl9ZnVuY3Rpb24gdHIodCxyKXtsZXQgZT1RdC5maW5kKG49Pm4uZ2V0VHJhY2tJZCgpPT09cik7aWYoZSl0IT09ZS5nZXRQYXJ0aWNpcGFudElkKCkmJmUuc2V0UGFydGljaXBhbnQodCxGZSh0KSk7ZWxzZXtpZihTZSgiaW5mbyIsYGNyZWF0aW5nIG5ldyBjcnlwdG9yIGZvciAke3R9YCksIWdlKXRocm93IEVycm9yKCJNaXNzaW5nIGtleVByb3ZpZGVyIG9wdGlvbnMiKTtlPW5ldyBRbih7cGFydGljaXBhbnRJZDp0LGtleXM6RmUodCksa2V5UHJvdmlkZXJPcHRpb25zOmdlfSksWm4oZSksUXQucHVzaChlKX1yZXR1cm4gZX1mdW5jdGlvbiBlcyh0KXtsZXQgcj1YdC5maW5kKGU9PmUuZ2V0VHJhY2tJZCgpPT09dCk7aWYoIXIpe2lmKCFnZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJNaXNzaW5nIGtleVByb3ZpZGVyIG9wdGlvbnMiKTtyPW5ldyBRbih7a2V5czpjZSxwYXJ0aWNpcGFudElkOiJwdWJsaXNoZXIiLGtleVByb3ZpZGVyT3B0aW9uczpnZX0pLFpuKHIpLFh0LnB1c2gocil9cmV0dXJuIHJ9ZnVuY3Rpb24ga2QodCl7dmFyIHI7KHI9UXQuZmluZChlPT5lLmdldFRyYWNrSWQoKT09PXQpKT09bnVsbHx8ci51bnNldFBhcnRpY2lwYW50KCl9ZnVuY3Rpb24gT2QodCxyKXtTZSgiZGVidWciLCJzZXR0aW5nIHNoYXJlZCBrZXkiKSxlcj10LGNlPT1udWxsfHxjZS5zZXRLZXlGcm9tTWF0ZXJpYWwodCxyKTtmb3IoY29uc3RbLGVdb2YgSnQpZS5zZXRLZXlGcm9tTWF0ZXJpYWwodCxyKX1vbm1lc3NhZ2U9dD0+e2NvbnN0e2tpbmQ6cixkYXRhOmV9PXQuZGF0YTtzd2l0Y2gocil7Y2FzZSJpbml0IjpTZSgiaW5mbyIsIndvcmtlciBpbml0aWFsaXplZCIpLGdlPWUua2V5UHJvdmlkZXJPcHRpb25zLFhuPSEhZS5rZXlQcm92aWRlck9wdGlvbnMuc2hhcmVkS2V5O2NvbnN0IG49e2tpbmQ6ImVuYWJsZSIsZGF0YTp7ZW5hYmxlZDpadH19O2NlPW5ldyBKbih2b2lkIDAsWnQsZ2UpLGNlLm9uKCJrZXlSYXRjaGV0ZWQiLEFkKSxwb3N0TWVzc2FnZShuKTticmVhaztjYXNlImVuYWJsZSI6TWQoZS5lbmFibGVkLGUucGFydGljaXBhbnRJZCksU2UoImluZm8iLCJ1cGRhdGVkIGUyZWUgZW5hYmxlZCBzdGF0dXMiKSxwb3N0TWVzc2FnZSh0LmRhdGEpO2JyZWFrO2Nhc2UiZGVjb2RlIjp0cihlLnBhcnRpY2lwYW50SWQsZS50cmFja0lkKS5zZXR1cFRyYW5zZm9ybShyLGUucmVhZGFibGVTdHJlYW0sZS53cml0YWJsZVN0cmVhbSxlLnRyYWNrSWQsZS5jb2RlYyk7YnJlYWs7Y2FzZSJlbmNvZGUiOmVzKGUudHJhY2tJZCkuc2V0dXBUcmFuc2Zvcm0ocixlLnJlYWRhYmxlU3RyZWFtLGUud3JpdGFibGVTdHJlYW0sZS50cmFja0lkLGUuY29kZWMpO2JyZWFrO2Nhc2Uic2V0S2V5IjpYbj8oU2UoImRlYnVnIiwic2V0IHNoYXJlZCBrZXkiKSxPZChlLmtleSxlLmtleUluZGV4KSk6ZS5wYXJ0aWNpcGFudElkP0ZlKGUucGFydGljaXBhbnRJZCkuc2V0S2V5RnJvbU1hdGVyaWFsKGUua2V5LGUua2V5SW5kZXgpOlNlKCJlcnJvciIsIm5vIHBhcnRpY2lwYW50IElkIHdhcyBwcm92aWRlZCBhbmQgc2hhcmVkIGtleSB1c2FnZSBpcyBkaXNhYmxlZCIpO2JyZWFrO2Nhc2UicmVtb3ZlVHJhbnNmb3JtIjprZChlLnRyYWNrSWQpO2JyZWFrO2Nhc2UidXBkYXRlQ29kZWMiOnRyKGUucGFydGljaXBhbnRJZCxlLnRyYWNrSWQpLnNldFZpZGVvQ29kZWMoZS5jb2RlYyk7YnJlYWs7Y2FzZSJzZXRSVFBNYXAiOlh0LmZvckVhY2goYT0+e2Euc2V0UnRwTWFwKGUubWFwKX0pO2JyZWFrO2Nhc2UicmF0Y2hldFJlcXVlc3QiOkZlKGUucGFydGljaXBhbnRJZCkucmF0Y2hldEtleShlLmtleUluZGV4KTticmVha319LHNlbGYuUlRDVHJhbnNmb3JtRXZlbnQmJihTZSgiZGVidWciLCJzZXR1cCB0cmFuc2Zvcm0gZXZlbnQiKSxzZWxmLm9ucnRjdHJhbnNmb3JtPXQ9Pntjb25zdHt0cmFuc2Zvcm1lcjpyfT10O3IuaGFuZGxlZD0hMDtjb25zdHtraW5kOmUscGFydGljaXBhbnRJZDpuLHRyYWNrSWQ6cyxjb2RlYzppfT1yLm9wdGlvbnM7KGU9PT0iZW5jb2RlIj9lcyhzKTp0cihuLHMpKS5zZXR1cFRyYW5zZm9ybShlLHIucmVhZGFibGUsci53cml0YWJsZSxzLGkpfSl9KSgpOwo=", P = typeof window != "undefined" && window.Blob && new Blob([atob(ll)], { type: "text/javascript;charset=utf-8" });
function Ul() {
  const l = P && (window.URL || window.webkitURL).createObjectURL(P);
  try {
    return l ? new Worker(l) : new Worker("data:application/javascript;base64," + ll);
  } finally {
    l && (window.URL || window.webkitURL).revokeObjectURL(l);
  }
}
var N, z, s, k, Zl, U, dl, a, C, Q, Hl, S, cl, H, bl, o, Vl, t, Xl;
class Sl extends $ {
  constructor(Z) {
    super(void 0);
    p(this, N);
    // public setupEngine(engine: RTCEngine) {
    // 	engine.on(EngineEvent.RTPVideoMapUpdate, (rtpMap) => {
    // 		this.postRTPMap(rtpMap);
    // 	});
    // }
    p(this, k);
    p(this, U);
    p(this, a);
    p(this, Q);
    p(this, S);
    p(this, H);
    /**
      * Handles the given {@code RTCRtpReceiver} by
      * creating a {@code TransformStream} which will inject
      * a frame decoder.
      *
      */
    p(this, o);
    /**
      * Handles the given {@code RTCRtpSender} by creating a {@code TransformStream} which will inject
      * a frame encoder.
      *
      */
    p(this, t);
    R(this, "worker");
    R(this, "encryptionEnabled");
    R(this, "keyProvider");
    R(this, "peerSessionStore");
    R(this, "onWorkerMessage", (Z) => {
      const { kind: c, data: b } = Z.data;
      switch (c) {
        case "error":
          this.logger.error("error in worker", { error: b.error }), this.emit(E.Error, b.error);
          break;
        case "enable":
          this.encryptionEnabled !== b.enabled && !b.participantId ? this.encryptionEnabled = b.enabled : b.participantId, this.encryptionEnabled && this.keyProvider.getKeys().forEach((V) => {
            Y(this, a, C).call(this, V);
          });
          break;
        case "ratchetKey":
          this.keyProvider.emit("keyRatcheted", b.material, b.keyIndex);
          break;
        case "log":
          this.logger && this.logger[b.level](b.str);
          break;
      }
    });
    p(this, s, (Z) => {
      this.logger.error("e2ee worker encountered an error:", { error: Z.error }), this.emit(E.Error, Z.error);
    });
    this.keyProvider = Z.keyProvider, this.worker = new Ul(), this.encryptionEnabled = !1;
  }
  get isEnabled() {
    return this.encryptionEnabled;
  }
  init(Z, c) {
    this.logger = Z, this.peerSessionStore = c, this.setup();
  }
  /**
     * @internal
     */
  setup() {
    if (!Ll())
      throw new Error(
        "tried to setup end-to-end encryption on an unsupported browser"
      );
    this.logger.info("setting up e2ee"), Y(this, k, Zl).call(this, this.keyProvider);
    const Z = {
      kind: "init",
      data: {
        keyProviderOptions: this.keyProvider.getOptions()
      }
    };
    this.worker && (this.logger.info("initializing worker"), this.worker.onmessage = this.onWorkerMessage, this.worker.onerror = j(this, s), this.worker.postMessage(Z)), Y(this, N, z).call(this, !0);
  }
}
N = new WeakSet(), z = function(Z, c) {
  return i(this, null, function* () {
    if (this.logger.info(`set e2ee to ${Z} for ${c || "self"}`), this.worker) {
      const b = {
        kind: "enable",
        data: { enabled: Z, participantId: c }
      };
      this.worker.postMessage(b);
    } else
      throw new ReferenceError("failed to enable e2ee, worker is not ready");
  });
}, s = new WeakMap(), k = new WeakSet(), Zl = function(Z) {
  this.peerSessionStore.on(
    J.NEW_CONSUMER,
    ({ appData: c, peerId: b }) => {
      c.e2ee && Y(this, N, z).call(this, c.e2ee, b);
    }
  ), this.peerSessionStore.on(
    J.E2EE_INACTIVE_CONSUMER,
    ({ peerId: c, trackId: b }) => {
      var X;
      const V = {
        kind: "removeTransform",
        data: {
          participantId: c,
          trackId: b
        }
      };
      (X = this.worker) == null || X.postMessage(V);
    }
  ), this.peerSessionStore.on(
    J.E2EE_ACTIVE_CONSUMER,
    ({
      track: c,
      rtpReceiver: b,
      peerId: V
    }) => Y(this, S, cl).call(this, c, b, V)
  ), this.peerSessionStore.on(
    J.E2EE_ACTIVE_PRODUCER,
    ({
      track: c,
      rtpSender: b,
      appData: V
    }) => Y(this, H, bl).call(this, c, b, V.peerId)
  ), Z.on("setKey", (c) => Y(this, a, C).call(this, c)).on(
    "ratchetRequest",
    (c, b) => Y(this, U, dl).call(this, c, b)
  );
}, U = new WeakSet(), dl = function(Z, c) {
  if (!this.worker)
    throw Error("could not ratchet key, worker is missing");
  const b = {
    kind: "ratchetRequest",
    data: {
      participantId: Z,
      keyIndex: c
    }
  };
  this.worker.postMessage(b);
}, a = new WeakSet(), C = function({ key: Z, participantId: c, keyIndex: b }) {
  if (!this.worker)
    throw Error("could not set key, worker is missing");
  const V = {
    kind: "setKey",
    data: {
      participantId: c,
      key: Z,
      keyIndex: b
    }
  };
  this.worker.postMessage(V);
}, Q = new WeakSet(), Hl = function(Z) {
  if (!this.worker)
    throw Error("could not post rtp map, worker is missing");
  const c = {
    kind: "setRTPMap",
    data: {
      map: Z
    }
  };
  this.worker.postMessage(c);
}, S = new WeakSet(), cl = function(Z, c, b) {
  Y(this, o, Vl).call(this, c, Z.id, b);
}, H = new WeakSet(), bl = function(Z, c, b) {
  Y(this, t, Xl).call(this, c, Z.id, b);
}, o = new WeakSet(), Vl = function(Z, c, b, V) {
  return i(this, null, function* () {
    if (!this.worker)
      return;
    const X = Z;
    if (T()) {
      const W = {
        kind: "decode",
        participantId: b,
        trackId: c,
        codec: V
      };
      X.transform = new RTCRtpScriptTransform(this.worker, W);
    } else {
      if (F in X && V) {
        const u = {
          kind: "updateCodec",
          data: {
            trackId: c,
            codec: V,
            participantId: b
          }
        };
        this.worker.postMessage(u);
        return;
      }
      let W = X.writableStream, G = X.readableStream;
      if (!W || !G) {
        const u = X.createEncodedStreams();
        X.writableStream = u.writable, W = u.writable, X.readableStream = u.readable, G = u.readable;
      }
      const y = {
        kind: "decode",
        data: {
          readableStream: G,
          writableStream: W,
          trackId: c,
          codec: V,
          participantId: b
        }
      };
      this.worker.postMessage(y, [G, W]);
    }
    X[F] = !0;
  });
}, t = new WeakSet(), Xl = function(Z, c, b, V) {
  if (F in Z || !this.worker)
    return;
  const X = Z;
  if (T()) {
    this.logger.warn("initialize script transform");
    const W = {
      kind: "encode",
      participantId: b,
      trackId: c,
      codec: V
    };
    X.transform = new RTCRtpScriptTransform(this.worker, W);
  } else {
    this.logger.warn("initialize encoded streams");
    const W = X.createEncodedStreams(), G = {
      kind: "encode",
      data: {
        readableStream: W.readable,
        writableStream: W.writable,
        codec: V,
        trackId: c,
        participantId: b || "publisher"
      }
    };
    this.worker.postMessage(G, [W.readable, W.writable]);
  }
  X[F] = !0;
}, R(Sl, "SharedKeyProvider", kl);
export {
  Sl as default
};
